[
  {
    "instruction": "Integrate with external services",
    "input": "How do I integrate with Google Analytics?",
    "output": "I'll help you integrate with Google Analytics. Here's a comprehensive guide:\n\n**Service:** Google Analytics\n**Description:** Website analytics integration\n\n**Integration Points:**\n- /api/analytics/visitors\n\n**Features:**\n- Visitor tracking\n- Page analytics\n- Conversion tracking\n\n**API Configuration:**\n```json\n{\n  \"service\": \"Google Analytics\",\n  \"endpoints\": [\"/api/analytics/visitors\"],\n  \"features\": [\"Visitor tracking\", \"Page analytics\", \"Conversion tracking\"],\n  \"authentication\": {\n    \"type\": \"api_key\",\n    \"header\": \"Authorization\",\n    \"value\": \"Bearer YOUR_API_KEY\"\n  },\n  \"rateLimits\": {\n    \"requestsPerMinute\": 100,\n    \"requestsPerHour\": 1000\n  }\n}\n```\n\n**Implementation Steps:**\n1. **Get API Credentials**: Obtain API key or authentication token\n2. **Configure Environment**: Set up environment variables\n3. **Test Connection**: Verify API connectivity\n4. **Implement Endpoints**: Create API route handlers\n5. **Error Handling**: Implement proper error handling\n6. **Monitoring**: Set up logging and monitoring\n\n**Environment Variables:**\n```bash\n# Google Analytics Configuration\nGOOGLE_ANALYTICS_API_KEY=your_api_key_here\nGOOGLE_ANALYTICS_URL=https://api.service.com\nGOOGLE_ANALYTICS_TIMEOUT=30000\n```\n\n**Error Handling:**\n```javascript\ntry {\n  const response = await fetch(apiUrl, {\n    method: 'POST',\n    headers: {\n      'Authorization': `Bearer ${apiKey}`,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  });\n  \n  if (!response.ok) {\n    throw new Error(`API Error: ${response.status}`);\n  }\n  \n  return await response.json();\n} catch (error) {\n  console.error('Integration error:', error);\n  // Handle error appropriately\n}\n```\n\n**Best Practices:**\n- Use environment variables for credentials\n- Implement proper error handling\n- Set up rate limiting\n- Monitor API usage\n- Cache responses when appropriate\n- Use retry logic for failed requests\n\n**Testing:**\n- Test with sandbox/test environment first\n- Verify all endpoints work correctly\n- Test error scenarios\n- Monitor performance and reliability\n\nWould you like me to help you implement this integration?"
  },
  {
    "instruction": "Integrate with external services",
    "input": "How do I integrate with Weaviate Vector Database?",
    "output": "I'll help you integrate with Weaviate Vector Database. Here's a comprehensive guide:\n\n**Service:** Weaviate Vector Database\n**Description:** RAG system for AI context\n\n**Integration Points:**\n- /api/ai/rag\n\n**Features:**\n- Knowledge retrieval\n- Context enhancement\n- Semantic search\n\n**API Configuration:**\n```json\n{\n  \"service\": \"Weaviate Vector Database\",\n  \"endpoints\": [\"/api/ai/rag\"],\n  \"features\": [\"Knowledge retrieval\", \"Context enhancement\", \"Semantic search\"],\n  \"authentication\": {\n    \"type\": \"api_key\",\n    \"header\": \"Authorization\",\n    \"value\": \"Bearer YOUR_API_KEY\"\n  },\n  \"rateLimits\": {\n    \"requestsPerMinute\": 100,\n    \"requestsPerHour\": 1000\n  }\n}\n```\n\n**Implementation Steps:**\n1. **Get API Credentials**: Obtain API key or authentication token\n2. **Configure Environment**: Set up environment variables\n3. **Test Connection**: Verify API connectivity\n4. **Implement Endpoints**: Create API route handlers\n5. **Error Handling**: Implement proper error handling\n6. **Monitoring**: Set up logging and monitoring\n\n**Environment Variables:**\n```bash\n# Weaviate Vector Database Configuration\nWEAVIATE_VECTOR_DATABASE_API_KEY=your_api_key_here\nWEAVIATE_VECTOR_DATABASE_URL=https://api.service.com\nWEAVIATE_VECTOR_DATABASE_TIMEOUT=30000\n```\n\n**Error Handling:**\n```javascript\ntry {\n  const response = await fetch(apiUrl, {\n    method: 'POST',\n    headers: {\n      'Authorization': `Bearer ${apiKey}`,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  });\n  \n  if (!response.ok) {\n    throw new Error(`API Error: ${response.status}`);\n  }\n  \n  return await response.json();\n} catch (error) {\n  console.error('Integration error:', error);\n  // Handle error appropriately\n}\n```\n\n**Best Practices:**\n- Use environment variables for credentials\n- Implement proper error handling\n- Set up rate limiting\n- Monitor API usage\n- Cache responses when appropriate\n- Use retry logic for failed requests\n\n**Testing:**\n- Test with sandbox/test environment first\n- Verify all endpoints work correctly\n- Test error scenarios\n- Monitor performance and reliability\n\nWould you like me to help you implement this integration?"
  },
  {
    "instruction": "Create a specific email template",
    "input": "Create a welcome email template",
    "output": "I'll help you create a Welcome Email template. Here's a comprehensive setup:\n\n**Template Type:** Welcome Email\n\n**Suggested Structure:**\n\n**Subject Line:**\n```\nWelcome to {{company}}!\n```\n\n**HTML Body Template:**\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Welcome Email</title>\n</head>\n<body style=\"font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: 0 auto; padding: 20px;\">\n    <div style=\"background: #f8f9fa; padding: 20px; border-radius: 8px;\">\n        <h1 style=\"color: #2c3e50; margin-bottom: 20px;\">{greeting_title}</h1>\n        <p style=\"font-size: 16px; margin-bottom: 20px;\">{greeting_message}</p>\n        \n        <div style=\"background: white; padding: 20px; border-radius: 6px; margin: 20px 0;\">\n            <h2 style=\"color: #34495e; margin-bottom: 15px;\">{main_content_title}</h2>\n            <p style=\"margin-bottom: 15px;\">Thank you for joining us. Here's what to expect next...</p>\n            \n            <div style=\"text-align: center; margin: 30px 0;\">\n                <a href=\"#\" style=\"background: #3498db; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; display: inline-block;\">{button_text}</a>\n            </div>\n        </div>\n        \n        <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd;\">\n            <h3 style=\"color: #2c3e50; margin-bottom: 10px;\">{additional_info_title}</h3>\n            <p style=\"font-size: 14px; color: #666;\">{additional_info_body}</p>\n        </div>\n        \n        <div style=\"margin-top: 20px; text-align: center;\">\n            <p style=\"font-size: 14px; color: #666;\">{closing_title}</p>\n            <p style=\"font-size: 14px; color: #666;\">{closing_message}</p>\n        </div>\n        \n        <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center;\">\n            <p style=\"font-size: 12px; color: #999;\">\n                <strong>{signature_name}</strong><br>\n                {signature_title}<br>\n                {signature_company}<br>\n                {signature_location}\n            </p>\n            <p style=\"font-size: 12px; color: #999; margin-top: 10px;\">\n                <a href=\"{unsubscribeUrl}\" style=\"color: #999;\">Unsubscribe</a> | \n                <a href=\"#\" style=\"color: #999;\">Update Preferences</a>\n            </p>\n        </div>\n    </div>\n</body>\n</html>\n```\n\n**Text Body Template:**\n```\n{greeting_title}\n\n{greeting_message}\n\n{main_content_title}\nThank you for joining us. Here's what to expect next...\n\n{button_text}: [Link]\n\n{additional_info_title}\n{additional_info_body}\n\n{closing_title}\n{closing_message}\n\n---\n{signature_name}\n{signature_title}\n{signature_company}\n{signature_location}\n\nUnsubscribe: {unsubscribeUrl}\n```\n\n**Template Variables:**\n{{name}}, {{company}}, {{unsubscribeUrl}}\n\n**API Request:**\n```json\n{\n  \"name\": \"Welcome Email Template\",\n  \"subject\": \"Welcome to {{company}}!\",\n  \"htmlBody\": \"[HTML content above]\",\n  \"textBody\": \"[Text content above]\",\n  \"meta\": {},\n  \"greeting_title\": \"Welcome!\",\n  \"greeting_message\": \"Thank you for your interest\",\n  \"signature_name\": \"Your Name\",\n  \"signature_title\": \"Your Title\",\n  \"signature_company\": \"Your Company\",\n  \"signature_location\": \"Your Location\",\n  \"main_content_title\": \"Welcome Email\",\n  \"main_content_body\": \"Thank you for joining us. Here's what to expect next...\",\n  \"button_text\": \"Learn More\",\n  \"additional_info_title\": \"Additional Information\",\n  \"additional_info_body\": \"For more details, visit our website\",\n  \"closing_title\": \"Thank You\",\n  \"closing_message\": \"Best regards\"\n}\n```\n\n**Best Practices for Welcome Email:**\n- Keep subject line under 50 characters\n- Use clear, actionable language\n- Include unsubscribe link\n- Test on mobile devices\n- Personalize with recipient data\n- A/B test different versions\n\nWould you like me to customize this template for your specific needs?"
  },
  {
    "instruction": "Create and manage audience groups",
    "input": "Make a group for newsletter subscribers",
    "output": "I'll help you create a new audience group. Here's what I need:\n\n**Required Information:**\n1. **Group Name**: What should we call this group?\n2. **Description**: What does this group represent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/groups\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Group Name\",\n  \"description\": \"Description of the group\",\n  \"color\": \"#10b981\",\n  \"criteria\": {\n    \"industry\": \"technology\",\n    \"engagement\": \"high\",\n    \"tags\": [\"vip\", \"premium\"]\n  },\n  \"meta\": {}\n}\n```\n\n**Required Fields:**\n- `name` (string) - Group name\n- `description` (string) - Group description\n- `criteria` (object) - Group criteria\n- `meta` (object) - Group metadata\n\n**Optional Fields:**\n- `color` (string) - Group color (default: \"#10b981\")\n\n**Response:**\n```json\n{\n  \"group\": {\n    \"id\": \"group-id\",\n    \"name\": \"Group Name\",\n    \"description\": \"Description\",\n    \"color\": \"#10b981\",\n    \"criteria\": {},\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\",\n    \"members\": []\n  }\n}\n```\n\n**Audience Member Structure:**\n```json\n{\n  \"id\": \"member-id\",\n  \"groupId\": \"group-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"primaryEmail\": \"email@example.com\",\n  \"secondaryEmail\": \"secondary@example.com\",\n  \"tagsSnapshot\": [\"tag1\", \"tag2\"],\n  \"inviteToken\": \"token\",\n  \"meta\": {},\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"unsubscribed\": false\n}\n```\n\n**Member Status:**\n- `unsubscribed` (boolean) - Whether member has unsubscribed\n\n**Database Constraints:**\n- Unique constraint on `[groupId, businessId]`\n- Indexes on `groupId` and `businessId`\n\nWould you like me to help you set up the group criteria?"
  },
  {
    "instruction": "Create audience segmentation strategy",
    "input": "Create a value-based segmentation group",
    "output": "I'll help you create a Value-Based Segmentation audience group. Here's a comprehensive setup:\n\n**Segmentation Strategy:** Value-Based Segmentation\n**Description:** Segment by customer value and spending\n\n**Segmentation Criteria:**\n```json\n{\n  \"name\": \"Value-Based Segmentation Group\",\n  \"description\": \"Segment by customer value and spending\",\n  \"color\": \"#10b981\",\n  \"criteria\": {\n  \"customerValue\": \"high\",\n  \"lifetimeValue\": \"above_1000\",\n  \"purchaseFrequency\": \"monthly\",\n  \"tags\": [\n    \"vip\",\n    \"premium\"\n  ]\n},\n  \"meta\": {\n    \"createdBy\": \"AI Assistant\",\n    \"purpose\": \"Segment by customer value and spending\",\n    \"lastUpdated\": \"2025-01-15T10:00:00Z\",\n    \"memberCount\": 0,\n    \"autoUpdate\": true\n  }\n}\n```\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/groups\n```\n\n**Implementation Steps:**\n1. **Define Criteria**: Set up the segmentation rules\n2. **Create Group**: Use the API to create the audience group\n3. **Populate Members**: Add existing members or import new ones\n4. **Test Segmentation**: Verify the criteria work correctly\n5. **Monitor Performance**: Track engagement and adjust as needed\n\n**Member Addition:**\n```json\n{\n  \"groupId\": \"group-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"primaryEmail\": \"email@example.com\",\n  \"secondaryEmail\": \"secondary@example.com\",\n  \"tagsSnapshot\": [\"tag1\", \"tag2\"],\n  \"meta\": {\n    \"source\": \"import\",\n    \"addedBy\": \"AI Assistant\",\n    \"addedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\n**Best Practices:**\n- Use clear, measurable criteria\n- Test with small groups first\n- Monitor engagement rates\n- Update criteria regularly\n- Document segmentation logic\n- Use consistent naming conventions\n\n**Performance Metrics:**\n- Open rates by segment\n- Click-through rates\n- Unsubscribe rates\n- Conversion rates\n- Engagement scores\n\n**Automation Opportunities:**\n- Auto-add new members based on criteria\n- Remove inactive members\n- Update tags based on behavior\n- Trigger campaigns based on segment changes\n\nWould you like me to help you implement this segmentation strategy?"
  },
  {
    "instruction": "Generate analytics report",
    "input": "Generate a rsvp analytics report",
    "output": "I'll help you generate a RSVP Analytics Report. Here's a comprehensive analysis:\n\n**Report Type:** RSVP Analytics Report\n**Timeframe:** last_6_months\n**Key Metrics:** rsvp_rate, attendance_rate, cancellation_rate\n**Breakdown:** by_event, by_source, by_demographics\n\n**Data Collection:**\n```json\n{\n  \"reportType\": \"RSVP Analytics Report\",\n  \"timeframe\": \"last_6_months\",\n  \"metrics\": [\"rsvp_rate\", \"attendance_rate\", \"cancellation_rate\"],\n  \"breakdown\": [\"by_event\", \"by_source\", \"by_demographics\"],\n  \"filters\": {\n    \"campaignStatus\": [\"SENT\", \"COMPLETED\"],\n    \"audienceGroups\": [\"all\"],\n    \"excludeTest\": true\n  }\n}\n```\n\n**API Endpoints:**\n- `GET /api/admin/campaign/dashboard` - Dashboard data\n- `GET /api/admin/export` - Export raw data\n- `GET /api/admin/analytics/visitors` - Visitor analytics\n- `GET /api/admin/analytics/tracking-links` - Link performance\n\n**Key Performance Indicators:**\n"
  },
  {
    "instruction": "Create and manage email templates",
    "input": "Create a new email template",
    "output": "I'll help you create a new email template. Here's what I need:\n\n**Required Information:**\n1. **Template Name**: What should we call this template?\n2. **Subject**: Email subject line\n3. **HTML Body**: Rich HTML content\n4. **Text Body**: Plain text version (optional)\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/templates\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Template Name\",\n  \"subject\": \"Email Subject\",\n  \"htmlBody\": \"<h1>Hello {name}</h1><p>Content here</p>\",\n  \"textBody\": \"Hello {name}\\n\\nContent here\",\n  \"meta\": {},\n  \"greeting_title\": \"Welcome!\",\n  \"greeting_message\": \"Thank you for joining us\",\n  \"signature_name\": \"Your Name\",\n  \"signature_title\": \"Your Title\",\n  \"signature_company\": \"Your Company\",\n  \"signature_location\": \"Your Location\",\n  \"main_content_title\": \"Main Title\",\n  \"main_content_body\": \"Main content here\",\n  \"button_text\": \"Click Here\",\n  \"additional_info_title\": \"Additional Info\",\n  \"additional_info_body\": \"Additional details\",\n  \"closing_title\": \"Thank You\",\n  \"closing_message\": \"Best regards\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Template name\n- `subject` (string) - Email subject\n- `htmlBody` (string) - HTML content\n- `meta` (object) - Template metadata\n\n**Optional Fields:**\n- `textBody` (string) - Plain text version\n- `greeting_title` (string) - Greeting title\n- `greeting_message` (string) - Greeting message\n- `signature_name` (string) - Signature name\n- `signature_title` (string) - Signature title\n- `signature_company` (string) - Signature company\n- `signature_location` (string) - Signature location\n- `main_content_title` (string) - Main content title\n- `main_content_body` (string) - Main content body\n- `button_text` (string) - Button text\n- `additional_info_title` (string) - Additional info title\n- `additional_info_body` (string) - Additional info body\n- `closing_title` (string) - Closing title\n- `closing_message` (string) - Closing message\n\n**Template Variables:**\n- `{name}` - Recipient's name\n- `{email}` - Recipient's email\n- `{firstName}` - First name\n- `{lastName}` - Last name\n- `{unsubscribeUrl}` - Unsubscribe link\n\n**Response:**\n```json\n{\n  \"template\": {\n    \"id\": \"template-id\",\n    \"name\": \"Template Name\",\n    \"subject\": \"Email Subject\",\n    \"htmlBody\": \"<h1>Hello {name}</h1>\",\n    \"textBody\": \"Hello {name}\",\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you create this template with some default content?"
  },
  {
    "instruction": "Create and manage audience groups",
    "input": "Create a group for new subscribers",
    "output": "I'll help you create a new audience group. Here's what I need:\n\n**Required Information:**\n1. **Group Name**: What should we call this group?\n2. **Description**: What does this group represent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/groups\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Group Name\",\n  \"description\": \"Description of the group\",\n  \"color\": \"#10b981\",\n  \"criteria\": {\n    \"industry\": \"technology\",\n    \"engagement\": \"high\",\n    \"tags\": [\"vip\", \"premium\"]\n  },\n  \"meta\": {}\n}\n```\n\n**Required Fields:**\n- `name` (string) - Group name\n- `description` (string) - Group description\n- `criteria` (object) - Group criteria\n- `meta` (object) - Group metadata\n\n**Optional Fields:**\n- `color` (string) - Group color (default: \"#10b981\")\n\n**Response:**\n```json\n{\n  \"group\": {\n    \"id\": \"group-id\",\n    \"name\": \"Group Name\",\n    \"description\": \"Description\",\n    \"color\": \"#10b981\",\n    \"criteria\": {},\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\",\n    \"members\": []\n  }\n}\n```\n\n**Audience Member Structure:**\n```json\n{\n  \"id\": \"member-id\",\n  \"groupId\": \"group-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"primaryEmail\": \"email@example.com\",\n  \"secondaryEmail\": \"secondary@example.com\",\n  \"tagsSnapshot\": [\"tag1\", \"tag2\"],\n  \"inviteToken\": \"token\",\n  \"meta\": {},\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"unsubscribed\": false\n}\n```\n\n**Member Status:**\n- `unsubscribed` (boolean) - Whether member has unsubscribed\n\n**Database Constraints:**\n- Unique constraint on `[groupId, businessId]`\n- Indexes on `groupId` and `businessId`\n\nWould you like me to help you set up the group criteria?"
  },
  {
    "instruction": "View analytics and generate reports",
    "input": "Generate a campaign report",
    "output": "I'll help you analyze your email performance. Here's what I can show you:\n\n**Campaign Analytics:**\n\n**CampaignSend Status Tracking:**\n```json\n{\n  \"id\": \"send-id\",\n  \"scheduleId\": \"schedule-id\",\n  \"groupId\": \"group-id\",\n  \"templateId\": \"template-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"email\": \"email@example.com\",\n  \"inviteToken\": \"token\",\n  \"inviteLink\": \"https://example.com/l/token\",\n  \"resendMessageId\": \"resend-message-id\",\n  \"status\": \"SENT\",\n  \"error\": null,\n  \"meta\": {},\n  \"sentAt\": \"2025-01-15T10:00:00Z\",\n  \"openedAt\": \"2025-01-15T10:05:00Z\",\n  \"visitedAt\": \"2025-01-15T10:10:00Z\"\n}\n```\n\n**CampaignSend Status Values:**\n- `PENDING` - Not yet sent\n- `SENDING` - Currently being sent\n- `SENT` - Successfully sent\n- `FAILED` - Failed to send\n- `SKIPPED` - Skipped (e.g., unsubscribed)\n\n**Key Metrics:**\n- **Sent Count**: Total emails sent\n- **Open Rate**: Percentage of emails opened (openedAt not null)\n- **Click Rate**: Percentage of emails clicked (visitedAt not null)\n- **Bounce Rate**: Percentage of failed sends\n- **Unsubscribe Rate**: Percentage of unsubscribed members\n\n**Visit Tracking:**\n```json\n{\n  \"id\": \"visit-id\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"path\": \"/event-page\",\n  \"query\": \"?utm_source=email\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"email\",\n  \"utmMedium\": \"newsletter\",\n  \"utmCampaign\": \"summer-event\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"timeOnPageMs\": 30000,\n  \"scrollDepth\": 75\n}\n```\n\n**Analytics Endpoints:**\n- `GET /api/admin/campaign/dashboard` - Dashboard overview\n- `GET /api/admin/export` - Export data\n- `GET /api/l/[token]` - Track link clicks\n- `GET /api/__pixel` - Track email opens\n\n**Export Options:**\n- CSV format for RSVP data\n- JSON format for campaign data\n- Filtered by date range\n- Filtered by campaign/group\n\n**Performance Tracking:**\n- Email delivery rates\n- Open and click tracking\n- Geographic distribution\n- Device and browser analytics\n- Time-based performance\n- A/B testing results\n\nLet me generate the appropriate analytics report for your request."
  },
  {
    "instruction": "Set up automation workflow",
    "input": "Create a purchase follow-up automation",
    "output": "I'll help you set up a Purchase Follow-up automation workflow. Here's a comprehensive setup:\n\n**Workflow:** Purchase Follow-up\n**Trigger:** PURCHASE_COMPLETED\n**Description:** Follow up after purchase with support and upsells\n\n**Workflow Steps:**\n"
  },
  {
    "instruction": "Handle complex business scenarios",
    "input": "How do I manage nonprofit fundraising event?",
    "output": "I'll help you manage Nonprofit Fundraising Event. Here's a comprehensive business solution:\n\n**Business Scenario:** Nonprofit Fundraising Event\n**Context:** Organizing a fundraising gala with RSVP management, donor communication, and event coordination\n\n**Key Challenges:**\n- Donor relationship management\n- Event logistics\n- RSVP tracking\n- Follow-up communication\n\n**Recommended Solutions:**\n- Donor segmentation\n- Event management integration\n- Automated follow-ups\n- Donation tracking\n\n**Implementation Strategy:**\n\n**1. Audience Segmentation:**\n```json\n{\n  \"segments\": [\n    {\n      \"name\": \"Primary Audience\",\n      \"criteria\": {\n        \"engagement\": \"high\",\n        \"industry\": \"relevant\",\n        \"location\": \"target_region\"\n      }\n    },\n    {\n      \"name\": \"Secondary Audience\",\n      \"criteria\": {\n        \"engagement\": \"medium\",\n        \"potential\": \"high\"\n      }\n    }\n  ]\n}\n```\n\n**2. Campaign Structure:**\n```json\n{\n  \"campaigns\": [\n    {\n      \"name\": \"Initial Outreach\",\n      \"type\": \"announcement\",\n      \"audience\": \"primary\",\n      \"timing\": \"immediate\"\n    },\n    {\n      \"name\": \"Follow-up Series\",\n      \"type\": \"nurture\",\n      \"audience\": \"all\",\n      \"timing\": \"staggered\"\n    },\n    {\n      \"name\": \"Final Reminder\",\n      \"type\": \"urgency\",\n      \"audience\": \"non_responders\",\n      \"timing\": \"deadline_approach\"\n    }\n  ]\n}\n```\n\n**3. Automation Workflows:**\n```json\n{\n  \"workflows\": [\n    {\n      \"trigger\": \"RSVP_RECEIVED\",\n      \"actions\": [\n        \"send_confirmation\",\n        \"update_attendance_list\",\n        \"trigger_follow_up_sequence\"\n      ]\n    },\n    {\n      \"trigger\": \"EVENT_REMINDER\",\n      \"actions\": [\n        \"send_reminder_email\",\n        \"update_calendar_invite\",\n        \"check_capacity\"\n      ]\n    }\n  ]\n}\n```\n\n**4. Performance Tracking:**\n```json\n{\n  \"metrics\": {\n    \"rsvp_rate\": \"target_80_percent\",\n    \"email_open_rate\": \"target_25_percent\",\n    \"click_through_rate\": \"target_5_percent\",\n    \"conversion_rate\": \"target_15_percent\"\n  },\n  \"reporting\": [\n    \"daily_rsvp_summary\",\n    \"weekly_engagement_report\",\n    \"monthly_performance_analysis\"\n  ]\n}\n```\n\n**5. Integration Points:**\n- **CRM Integration**: Sync RSVP data with customer records\n- **Calendar Integration**: Automatically create calendar events\n- **Payment Integration**: Handle event fees and donations\n- **Analytics Integration**: Track engagement and conversions\n\n**Best Practices:**\n- Start with a pilot group to test the process\n- Use A/B testing to optimize messaging\n- Implement feedback loops for continuous improvement\n- Monitor key metrics and adjust strategies\n- Maintain data quality and compliance\n\n**Success Metrics:**\n- RSVP completion rate\n- Email engagement rates\n- Event attendance rate\n- Customer satisfaction scores\n- Revenue impact (if applicable)\n\nWould you like me to help you implement any specific part of this solution?"
  },
  {
    "instruction": "Handle edge cases and errors",
    "input": "Create a campaign with invalid email addresses",
    "output": "I'll help you handle invalid email addresses in your campaign. Here's how to manage this:\n\n**Problem:** Invalid email addresses can cause bounces and hurt deliverability\n\n**Prevention Strategies:**\n1. **Email Validation**: Use proper email validation before adding to audience\n2. **Double Opt-in**: Require email confirmation before adding to lists\n3. **Regular Cleaning**: Periodically clean your email lists\n\n**API Validation:**\n```json\n{\n  \"email\": \"user@example.com\",\n  \"validation\": {\n    \"syntax\": true,\n    \"domain\": true,\n    \"mx_record\": true,\n    \"disposable\": false\n  }\n}\n```\n\n**Error Handling:**\n- Validate emails before campaign creation\n- Remove invalid addresses automatically\n- Log validation errors for review\n- Provide user feedback for corrections\n\n**Database Constraints:**\n- `email` field is unique in RSVP model\n- `primaryEmail` field is required in AudienceMember\n- Use proper validation schemas\n\n**Best Practices:**\n- Use email validation libraries\n- Implement soft bounces handling\n- Monitor bounce rates regularly\n- Maintain clean email lists\n\nWould you like me to help you set up email validation for your campaigns?"
  },
  {
    "instruction": "Manage email campaigns",
    "input": "Update campaign status",
    "output": "I'll help you manage your campaigns. Here are the available actions:\n\n**List Campaigns:**\n```\nGET /api/admin/campaign/campaigns\n```\n\n**Response:**\n```json\n{\n  \"campaigns\": [\n    {\n      \"id\": \"campaign-id\",\n      \"name\": \"Campaign Name\",\n      \"description\": \"Description\",\n      \"status\": \"DRAFT\",\n      \"meta\": {},\n      \"createdAt\": \"2025-01-15T10:00:00Z\",\n      \"updatedAt\": \"2025-01-15T10:00:00Z\",\n      \"schedules\": []\n    }\n  ]\n}\n```\n\n**Get Campaign Details:**\n```\nGET /api/admin/campaign/campaigns/[id]\n```\n\n**Update Campaign:**\n```\nPUT /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"id\": \"campaign-id\",\n  \"name\": \"Updated Name\",\n  \"description\": \"Updated description\",\n  \"status\": \"SCHEDULED\",\n  \"steps\": []\n}\n```\n\n**Delete Campaign:**\n```\nDELETE /api/admin/campaign/campaigns/[id]\n```\n\n**Campaign Status Values:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\nLet me execute the appropriate action for your request."
  },
  {
    "instruction": "Set up automation workflow",
    "input": "Create a re-engagement campaign automation",
    "output": "I'll help you set up a Re-engagement Campaign automation workflow. Here's a comprehensive setup:\n\n**Workflow:** Re-engagement Campaign\n**Trigger:** INACTIVE_USER\n**Description:** Re-engage users who haven't opened emails in 30+ days\n\n**Workflow Steps:**\n"
  },
  {
    "instruction": "Implement advanced features",
    "input": "Set up a/b testing",
    "output": "I'll help you implement A/B Testing. Here's a comprehensive guide:\n\n**Feature:** A/B Testing\n**Description:** Test different email versions to optimize performance\n**Implementation:** Create multiple template variants and test with different audience segments\n\n**Setup Requirements:**\n"
  },
  {
    "instruction": "Manage email campaigns",
    "input": "Resume a campaign",
    "output": "I'll help you manage your campaigns. Here are the available actions:\n\n**List Campaigns:**\n```\nGET /api/admin/campaign/campaigns\n```\n\n**Response:**\n```json\n{\n  \"campaigns\": [\n    {\n      \"id\": \"campaign-id\",\n      \"name\": \"Campaign Name\",\n      \"description\": \"Description\",\n      \"status\": \"DRAFT\",\n      \"meta\": {},\n      \"createdAt\": \"2025-01-15T10:00:00Z\",\n      \"updatedAt\": \"2025-01-15T10:00:00Z\",\n      \"schedules\": []\n    }\n  ]\n}\n```\n\n**Get Campaign Details:**\n```\nGET /api/admin/campaign/campaigns/[id]\n```\n\n**Update Campaign:**\n```\nPUT /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"id\": \"campaign-id\",\n  \"name\": \"Updated Name\",\n  \"description\": \"Updated description\",\n  \"status\": \"SCHEDULED\",\n  \"steps\": []\n}\n```\n\n**Delete Campaign:**\n```\nDELETE /api/admin/campaign/campaigns/[id]\n```\n\n**Campaign Status Values:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\nLet me execute the appropriate action for your request."
  },
  {
    "instruction": "Implement industry-specific solutions",
    "input": "How do I set up email campaigns for real estate?",
    "output": "I'll help you set up email campaigns for the Real Estate industry. Here's a comprehensive industry-specific solution:\n\n**Industry:** Real Estate\n\n**Common Use Cases:**\n- Property showings\n- Open houses\n- Client events\n- Market updates\n\n**Compliance Requirements:**\n- Real estate regulations\n- Client confidentiality\n- Fair housing laws\n- Data protection\n\n**Key Features:**\n- Property management\n- Client relationship management\n- Market analysis\n- Lead generation\n\n**Industry-Specific Configuration:**\n\n**1. Audience Segmentation:**\n```json\n{\n  \"segments\": [\n    {\n      \"name\": \"Primary Stakeholders\",\n      \"criteria\": {\n        \"role\": \"primary\",\n        \"engagement\": \"high\",\n        \"compliance_status\": \"verified\"\n      }\n    },\n    {\n      \"name\": \"Secondary Audience\",\n      \"criteria\": {\n        \"role\": \"secondary\",\n        \"potential\": \"high\",\n        \"compliance_status\": \"pending\"\n      }\n    }\n  ]\n}\n```\n\n**2. Compliance Templates:**\n```json\n{\n  \"templates\": [\n    {\n      \"name\": \"Compliance Notice\",\n      \"subject\": \"Important Real Estate Update\",\n      \"content\": \"Industry-specific compliance information\",\n      \"disclaimers\": \"Required legal disclaimers\"\n    },\n    {\n      \"name\": \"Event Invitation\",\n      \"subject\": \"You're Invited: Real Estate Event\",\n      \"content\": \"Event details and registration\",\n      \"compliance\": \"Industry-specific requirements\"\n    }\n  ]\n}\n```\n\n**3. Data Protection:**\n```json\n{\n  \"data_protection\": {\n    \"encryption\": \"AES-256\",\n    \"access_controls\": \"role_based\",\n    \"audit_logging\": \"comprehensive\",\n    \"retention_policy\": \"industry_compliant\",\n    \"backup_strategy\": \"encrypted_backups\"\n  }\n}\n```\n\n**4. Workflow Automation:**\n```json\n{\n  \"workflows\": [\n    {\n      \"trigger\": \"COMPLIANCE_UPDATE\",\n      \"actions\": [\n        \"send_compliance_notice\",\n        \"update_audit_log\",\n        \"notify_compliance_team\"\n      ]\n    },\n    {\n      \"trigger\": \"EVENT_REGISTRATION\",\n      \"actions\": [\n        \"send_confirmation\",\n        \"update_attendance_list\",\n        \"trigger_reminder_sequence\"\n      ]\n    }\n  ]\n}\n```\n\n**5. Reporting and Analytics:**\n```json\n{\n  \"reporting\": {\n    \"compliance_reports\": \"monthly\",\n    \"engagement_metrics\": \"weekly\",\n    \"audit_trails\": \"real_time\",\n    \"performance_dashboard\": \"daily\"\n  }\n}\n```\n\n**Implementation Checklist:**\n- [ ] Set up industry-specific audience segments\n- [ ] Create compliance-compliant email templates\n- [ ] Implement data protection measures\n- [ ] Configure audit logging\n- [ ] Set up automated workflows\n- [ ] Test compliance requirements\n- [ ] Train team on industry regulations\n- [ ] Establish monitoring and reporting\n\n**Best Practices:**\n- Regular compliance audits\n- Staff training on industry regulations\n- Data minimization principles\n- Transparent communication\n- Continuous monitoring\n- Incident response planning\n\n**Success Metrics:**\n- Compliance adherence rate\n- Engagement rates\n- Event attendance\n- Customer satisfaction\n- Regulatory compliance score\n\nWould you like me to help you implement any specific compliance or industry requirements?"
  },
  {
    "instruction": "Integrate with external services",
    "input": "How do I integrate with Resend API?",
    "output": "I'll help you integrate with Resend API. Here's a comprehensive guide:\n\n**Service:** Resend API\n**Description:** Email delivery service integration\n\n**Integration Points:**\n- /api/admin/campaign/send\n- /api/rsvp\n\n**Features:**\n- Email sending\n- Delivery tracking\n- Bounce handling\n\n**API Configuration:**\n```json\n{\n  \"service\": \"Resend API\",\n  \"endpoints\": [\"/api/admin/campaign/send\", \"/api/rsvp\"],\n  \"features\": [\"Email sending\", \"Delivery tracking\", \"Bounce handling\"],\n  \"authentication\": {\n    \"type\": \"api_key\",\n    \"header\": \"Authorization\",\n    \"value\": \"Bearer YOUR_API_KEY\"\n  },\n  \"rateLimits\": {\n    \"requestsPerMinute\": 100,\n    \"requestsPerHour\": 1000\n  }\n}\n```\n\n**Implementation Steps:**\n1. **Get API Credentials**: Obtain API key or authentication token\n2. **Configure Environment**: Set up environment variables\n3. **Test Connection**: Verify API connectivity\n4. **Implement Endpoints**: Create API route handlers\n5. **Error Handling**: Implement proper error handling\n6. **Monitoring**: Set up logging and monitoring\n\n**Environment Variables:**\n```bash\n# Resend API Configuration\nRESEND_API_API_KEY=your_api_key_here\nRESEND_API_URL=https://api.service.com\nRESEND_API_TIMEOUT=30000\n```\n\n**Error Handling:**\n```javascript\ntry {\n  const response = await fetch(apiUrl, {\n    method: 'POST',\n    headers: {\n      'Authorization': `Bearer ${apiKey}`,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  });\n  \n  if (!response.ok) {\n    throw new Error(`API Error: ${response.status}`);\n  }\n  \n  return await response.json();\n} catch (error) {\n  console.error('Integration error:', error);\n  // Handle error appropriately\n}\n```\n\n**Best Practices:**\n- Use environment variables for credentials\n- Implement proper error handling\n- Set up rate limiting\n- Monitor API usage\n- Cache responses when appropriate\n- Use retry logic for failed requests\n\n**Testing:**\n- Test with sandbox/test environment first\n- Verify all endpoints work correctly\n- Test error scenarios\n- Monitor performance and reliability\n\nWould you like me to help you implement this integration?"
  },
  {
    "instruction": "Create audience segmentation strategy",
    "input": "Create a behavioral segmentation group",
    "output": "I'll help you create a Behavioral Segmentation audience group. Here's a comprehensive setup:\n\n**Segmentation Strategy:** Behavioral Segmentation\n**Description:** Segment by engagement level and activity\n\n**Segmentation Criteria:**\n```json\n{\n  \"name\": \"Behavioral Segmentation Group\",\n  \"description\": \"Segment by engagement level and activity\",\n  \"color\": \"#10b981\",\n  \"criteria\": {\n  \"engagement\": \"high\",\n  \"lastActivity\": \"30_days\",\n  \"emailOpens\": \"frequent\",\n  \"clickRate\": \"above_average\"\n},\n  \"meta\": {\n    \"createdBy\": \"AI Assistant\",\n    \"purpose\": \"Segment by engagement level and activity\",\n    \"lastUpdated\": \"2025-01-15T10:00:00Z\",\n    \"memberCount\": 0,\n    \"autoUpdate\": true\n  }\n}\n```\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/groups\n```\n\n**Implementation Steps:**\n1. **Define Criteria**: Set up the segmentation rules\n2. **Create Group**: Use the API to create the audience group\n3. **Populate Members**: Add existing members or import new ones\n4. **Test Segmentation**: Verify the criteria work correctly\n5. **Monitor Performance**: Track engagement and adjust as needed\n\n**Member Addition:**\n```json\n{\n  \"groupId\": \"group-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"primaryEmail\": \"email@example.com\",\n  \"secondaryEmail\": \"secondary@example.com\",\n  \"tagsSnapshot\": [\"tag1\", \"tag2\"],\n  \"meta\": {\n    \"source\": \"import\",\n    \"addedBy\": \"AI Assistant\",\n    \"addedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\n**Best Practices:**\n- Use clear, measurable criteria\n- Test with small groups first\n- Monitor engagement rates\n- Update criteria regularly\n- Document segmentation logic\n- Use consistent naming conventions\n\n**Performance Metrics:**\n- Open rates by segment\n- Click-through rates\n- Unsubscribe rates\n- Conversion rates\n- Engagement scores\n\n**Automation Opportunities:**\n- Auto-add new members based on criteria\n- Remove inactive members\n- Update tags based on behavior\n- Trigger campaigns based on segment changes\n\nWould you like me to help you implement this segmentation strategy?"
  },
  {
    "instruction": "Create audience segmentation strategy",
    "input": "Create a product interest segmentation group",
    "output": "I'll help you create a Product Interest Segmentation audience group. Here's a comprehensive setup:\n\n**Segmentation Strategy:** Product Interest Segmentation\n**Description:** Segment by product interests and preferences\n\n**Segmentation Criteria:**\n```json\n{\n  \"name\": \"Product Interest Segmentation Group\",\n  \"description\": \"Segment by product interests and preferences\",\n  \"color\": \"#10b981\",\n  \"criteria\": {\n  \"productInterest\": \"enterprise\",\n  \"featureInterest\": \"analytics\",\n  \"useCase\": \"business_intelligence\",\n  \"tags\": [\n    \"enterprise\",\n    \"analytics\"\n  ]\n},\n  \"meta\": {\n    \"createdBy\": \"AI Assistant\",\n    \"purpose\": \"Segment by product interests and preferences\",\n    \"lastUpdated\": \"2025-01-15T10:00:00Z\",\n    \"memberCount\": 0,\n    \"autoUpdate\": true\n  }\n}\n```\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/groups\n```\n\n**Implementation Steps:**\n1. **Define Criteria**: Set up the segmentation rules\n2. **Create Group**: Use the API to create the audience group\n3. **Populate Members**: Add existing members or import new ones\n4. **Test Segmentation**: Verify the criteria work correctly\n5. **Monitor Performance**: Track engagement and adjust as needed\n\n**Member Addition:**\n```json\n{\n  \"groupId\": \"group-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"primaryEmail\": \"email@example.com\",\n  \"secondaryEmail\": \"secondary@example.com\",\n  \"tagsSnapshot\": [\"tag1\", \"tag2\"],\n  \"meta\": {\n    \"source\": \"import\",\n    \"addedBy\": \"AI Assistant\",\n    \"addedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\n**Best Practices:**\n- Use clear, measurable criteria\n- Test with small groups first\n- Monitor engagement rates\n- Update criteria regularly\n- Document segmentation logic\n- Use consistent naming conventions\n\n**Performance Metrics:**\n- Open rates by segment\n- Click-through rates\n- Unsubscribe rates\n- Conversion rates\n- Engagement scores\n\n**Automation Opportunities:**\n- Auto-add new members based on criteria\n- Remove inactive members\n- Update tags based on behavior\n- Trigger campaigns based on segment changes\n\nWould you like me to help you implement this segmentation strategy?"
  },
  {
    "instruction": "Create a specific email template",
    "input": "Create a survey request template",
    "output": "I'll help you create a Survey Request template. Here's a comprehensive setup:\n\n**Template Type:** Survey Request\n\n**Suggested Structure:**\n\n**Subject Line:**\n```\nQuick Survey: Help us improve {{service}}\n```\n\n**HTML Body Template:**\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Survey Request</title>\n</head>\n<body style=\"font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: 0 auto; padding: 20px;\">\n    <div style=\"background: #f8f9fa; padding: 20px; border-radius: 8px;\">\n        <h1 style=\"color: #2c3e50; margin-bottom: 20px;\">{greeting_title}</h1>\n        <p style=\"font-size: 16px; margin-bottom: 20px;\">{greeting_message}</p>\n        \n        <div style=\"background: white; padding: 20px; border-radius: 6px; margin: 20px 0;\">\n            <h2 style=\"color: #34495e; margin-bottom: 15px;\">{main_content_title}</h2>\n            <p style=\"margin-bottom: 15px;\">Your feedback is valuable. Take our 2-minute survey and get a special offer...</p>\n            \n            <div style=\"text-align: center; margin: 30px 0;\">\n                <a href=\"#\" style=\"background: #3498db; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; display: inline-block;\">{button_text}</a>\n            </div>\n        </div>\n        \n        <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd;\">\n            <h3 style=\"color: #2c3e50; margin-bottom: 10px;\">{additional_info_title}</h3>\n            <p style=\"font-size: 14px; color: #666;\">{additional_info_body}</p>\n        </div>\n        \n        <div style=\"margin-top: 20px; text-align: center;\">\n            <p style=\"font-size: 14px; color: #666;\">{closing_title}</p>\n            <p style=\"font-size: 14px; color: #666;\">{closing_message}</p>\n        </div>\n        \n        <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center;\">\n            <p style=\"font-size: 12px; color: #999;\">\n                <strong>{signature_name}</strong><br>\n                {signature_title}<br>\n                {signature_company}<br>\n                {signature_location}\n            </p>\n            <p style=\"font-size: 12px; color: #999; margin-top: 10px;\">\n                <a href=\"{unsubscribeUrl}\" style=\"color: #999;\">Unsubscribe</a> | \n                <a href=\"#\" style=\"color: #999;\">Update Preferences</a>\n            </p>\n        </div>\n    </div>\n</body>\n</html>\n```\n\n**Text Body Template:**\n```\n{greeting_title}\n\n{greeting_message}\n\n{main_content_title}\nYour feedback is valuable. Take our 2-minute survey and get a special offer...\n\n{button_text}: [Link]\n\n{additional_info_title}\n{additional_info_body}\n\n{closing_title}\n{closing_message}\n\n---\n{signature_name}\n{signature_title}\n{signature_company}\n{signature_location}\n\nUnsubscribe: {unsubscribeUrl}\n```\n\n**Template Variables:**\n{{name}}, {{service}}, {{surveyUrl}}, {{incentive}}\n\n**API Request:**\n```json\n{\n  \"name\": \"Survey Request Template\",\n  \"subject\": \"Quick Survey: Help us improve {{service}}\",\n  \"htmlBody\": \"[HTML content above]\",\n  \"textBody\": \"[Text content above]\",\n  \"meta\": {},\n  \"greeting_title\": \"Welcome!\",\n  \"greeting_message\": \"Thank you for your interest\",\n  \"signature_name\": \"Your Name\",\n  \"signature_title\": \"Your Title\",\n  \"signature_company\": \"Your Company\",\n  \"signature_location\": \"Your Location\",\n  \"main_content_title\": \"Survey Request\",\n  \"main_content_body\": \"Your feedback is valuable. Take our 2-minute survey and get a special offer...\",\n  \"button_text\": \"Learn More\",\n  \"additional_info_title\": \"Additional Information\",\n  \"additional_info_body\": \"For more details, visit our website\",\n  \"closing_title\": \"Thank You\",\n  \"closing_message\": \"Best regards\"\n}\n```\n\n**Best Practices for Survey Request:**\n- Keep subject line under 50 characters\n- Use clear, actionable language\n- Include unsubscribe link\n- Test on mobile devices\n- Personalize with recipient data\n- A/B test different versions\n\nWould you like me to customize this template for your specific needs?"
  },
  {
    "instruction": "Handle edge cases and errors",
    "input": "What happens if my email template has variables that don't exist?",
    "output": "I'll explain how to handle missing variables in email templates:\n\n**Missing Variable Behavior:**\n\n**Template Processing:**\n- Missing variables will be left as-is in the email\n- No automatic replacement or error handling\n- Variables like `{{missingVar}}` will appear literally\n\n**Example:**\n```html\n<h1>Hello {{name}}</h1>\n<p>Your order {{orderNumber}} is ready</p>\n```\n\nIf `orderNumber` is missing, email will show:\n```html\n<h1>Hello John</h1>\n<p>Your order {{orderNumber}} is ready</p>\n```\n\n**Prevention Strategies:**\n1. **Template Validation**: Check all variables before sending\n2. **Default Values**: Provide fallback values for missing data\n3. **Variable Documentation**: Document all available variables\n\n**Template Variables Available:**\n- `{{name}}` - Recipient's full name\n- `{{firstName}}` - First name\n- `{{lastName}}` - Last name\n- `{{email}}` - Email address\n- `{{unsubscribeUrl}}` - Unsubscribe link\n- `{{company}}` - Company name\n- `{{greeting_title}}` - Greeting title\n- `{{greeting_message}}` - Greeting message\n- `{{signature_name}}` - Signature name\n- `{{signature_title}}` - Signature title\n- `{{signature_company}}` - Signature company\n- `{{signature_location}}` - Signature location\n- `{{main_content_title}}` - Main content title\n- `{{main_content_body}}` - Main content body\n- `{{button_text}}` - Button text\n- `{{additional_info_title}}` - Additional info title\n- `{{additional_info_body}}` - Additional info body\n- `{{closing_title}}` - Closing title\n- `{{closing_message}}` - Closing message\n\n**Template Validation:**\n```json\n{\n  \"templateId\": \"template-id\",\n  \"variables\": [\n    \"{{name}}\",\n    \"{{email}}\",\n    \"{{unsubscribeUrl}}\"\n  ],\n  \"validation\": {\n    \"allVariablesPresent\": true,\n    \"missingVariables\": [],\n    \"extraVariables\": []\n  }\n}\n```\n\n**Best Practices:**\n- Use only documented variables\n- Test templates with sample data\n- Provide fallback values\n- Document custom variables\n- Validate before sending\n\nWould you like me to help you validate your email templates?"
  },
  {
    "instruction": "Create a detailed email campaign",
    "input": "Make a survey request campaign",
    "output": "I'll help you create a comprehensive campaign for: Make a survey request campaign\n\n**Campaign Overview:**\nRequest feedback from customers with incentives for participation\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Target Audience**: Which audience group should receive this?\n3. **Email Templates**: Do you have existing templates or need new ones?\n4. **Timing**: When should this campaign start?\n5. **Frequency**: How often should emails be sent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Campaign Structure:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Detailed description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"welcome-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1,\n      \"throttlePerMinute\": 60\n    },\n    {\n      \"templateId\": \"follow-up-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-16T10:00:00Z\",\n      \"stepOrder\": 2,\n      \"throttlePerMinute\": 60\n    }\n  ]\n}\n```\n\n**Campaign Best Practices:**\n- Start with DRAFT status for testing\n- Use appropriate throttle rates (60 emails/minute recommended)\n- Set clear step orders for multi-step campaigns\n- Include timezone considerations\n- Test with small audience first\n\n**Next Steps:**\n1. Create or select email templates\n2. Define target audience groups\n3. Set up campaign steps with proper timing\n4. Test the campaign flow\n5. Schedule for production\n\nWould you like me to help you set up any specific part of this campaign?"
  },
  {
    "instruction": "View and manage RSVP data",
    "input": "Show me RSVP data",
    "output": "I'll help you view RSVP data. Here's what I can show you:\n\n**RSVP Data Structure:**\n```json\n{\n  \"id\": \"rsvp-id\",\n  \"fullName\": \"John Doe\",\n  \"organization\": \"Company Name\",\n  \"email\": \"john@example.com\",\n  \"phone\": \"+1234567890\",\n  \"attendanceStatus\": \"CONFIRMED\",\n  \"attendeeCount\": 2,\n  \"dietaryPreference\": \"VEGETARIAN\",\n  \"dietaryOther\": \"No nuts\",\n  \"accessibilityNeeds\": \"Wheelchair access\",\n  \"referralSource\": \"WEBSITE\",\n  \"referralOther\": \"Google search\",\n  \"wantsResources\": true,\n  \"wantsAudit\": false,\n  \"learningGoal\": \"Learn about new technologies\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"google\",\n  \"utmMedium\": \"cpc\",\n  \"utmCampaign\": \"summer-event\",\n  \"utmTerm\": \"tech conference\",\n  \"utmContent\": \"banner-ad\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"tz\": \"America/Vancouver\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"ipHash\": \"hashed-ip\",\n  \"screenW\": 1920,\n  \"screenH\": 1080,\n  \"dpr\": 2.0,\n  \"platform\": \"MacIntel\",\n  \"device\": \"desktop\",\n  \"browser\": \"Chrome\",\n  \"meta\": \"additional data\"\n}\n```\n\n**Key Fields:**\n- `attendanceStatus` (string) - CONFIRMED, CANCELLED, etc.\n- `attendeeCount` (number) - Number of attendees\n- `dietaryPreference` (string) - Dietary requirements\n- `accessibilityNeeds` (string) - Accessibility requirements\n- `referralSource` (string) - How they found the event\n- `wantsResources` (boolean) - Wants additional resources\n- `wantsAudit` (boolean) - Wants audit information\n- `learningGoal` (string) - What they want to learn\n\n**Tracking Data:**\n- `visitorId` - Unique visitor identifier\n- `sessionId` - Session identifier\n- `referrer` - Referring URL\n- `utmSource`, `utmMedium`, `utmCampaign`, `utmTerm`, `utmContent` - UTM tracking\n- `userAgent` - Browser information\n- `language` - User language\n- `tz` - Timezone\n- `country`, `region`, `city` - Geographic data\n- `ipHash` - Hashed IP address\n- `screenW`, `screenH`, `dpr` - Screen information\n- `platform`, `device`, `browser` - Device information\n\n**Database Constraints:**\n- `email` field is unique\n- `id` is primary key (cuid)\n\n**API Endpoint:**\n```\nPOST /api/rsvp\n```\n\n**Security Features:**\n- CSRF protection\n- Rate limiting\n- Input validation\n- Test detection\n- Security logging\n\nLet me show you the RSVP data based on your request."
  },
  {
    "instruction": "Create and manage campaign schedules",
    "input": "Create a new schedule",
    "output": "I'll help you create a campaign schedule. Here's what I need:\n\n**Required Information:**\n1. **Schedule Name**: What should we call this schedule?\n2. **Template ID**: Which email template to use?\n3. **Group ID**: Which audience group to target?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/schedules\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Schedule Name\",\n  \"templateId\": \"template-id\",\n  \"groupId\": \"audience-group-id\",\n  \"campaignId\": \"campaign-id\",\n  \"sendAt\": \"2025-01-15T10:00:00Z\",\n  \"throttlePerMinute\": 60,\n  \"repeatIntervalMins\": null,\n  \"stepOrder\": 1,\n  \"smartWindowStart\": \"2025-01-15T09:00:00Z\",\n  \"smartWindowEnd\": \"2025-01-15T17:00:00Z\",\n  \"timeZone\": \"America/Vancouver\",\n  \"status\": \"DRAFT\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Schedule name\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n\n**Optional Fields:**\n- `campaignId` (string) - Associated campaign ID\n- `sendAt` (ISO date string) - When to send (null for immediate)\n- `throttlePerMinute` (number) - Email sending rate (default: 60)\n- `repeatIntervalMins` (number) - Recurring interval in minutes\n- `stepOrder` (number) - Order in multi-step campaign (default: 1)\n- `smartWindowStart` (ISO date string) - Smart sending window start\n- `smartWindowEnd` (ISO date string) - Smart sending window end\n- `timeZone` (string) - Timezone (default: \"America/Vancouver\")\n- `status` (string) - Schedule status\n\n**Schedule Status Options:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\n**Response:**\n```json\n{\n  \"schedule\": {\n    \"id\": \"schedule-id\",\n    \"name\": \"Schedule Name\",\n    \"templateId\": \"template-id\",\n    \"groupId\": \"audience-group-id\",\n    \"status\": \"DRAFT\",\n    \"sendAt\": \"2025-01-15T10:00:00Z\",\n    \"timeZone\": \"America/Vancouver\",\n    \"throttlePerMinute\": 60,\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you set up the schedule details?"
  },
  {
    "instruction": "Create a specific email template",
    "input": "Create a thank you template",
    "output": "I'll help you create a Thank You template. Here's a comprehensive setup:\n\n**Template Type:** Thank You\n\n**Suggested Structure:**\n\n**Subject Line:**\n```\nThank you for {{action}}, {{name}}!\n```\n\n**HTML Body Template:**\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Thank You</title>\n</head>\n<body style=\"font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: 0 auto; padding: 20px;\">\n    <div style=\"background: #f8f9fa; padding: 20px; border-radius: 8px;\">\n        <h1 style=\"color: #2c3e50; margin-bottom: 20px;\">{greeting_title}</h1>\n        <p style=\"font-size: 16px; margin-bottom: 20px;\">{greeting_message}</p>\n        \n        <div style=\"background: white; padding: 20px; border-radius: 6px; margin: 20px 0;\">\n            <h2 style=\"color: #34495e; margin-bottom: 15px;\">{main_content_title}</h2>\n            <p style=\"margin-bottom: 15px;\">We appreciate your support. Here's what happens next...</p>\n            \n            <div style=\"text-align: center; margin: 30px 0;\">\n                <a href=\"#\" style=\"background: #3498db; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; display: inline-block;\">{button_text}</a>\n            </div>\n        </div>\n        \n        <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd;\">\n            <h3 style=\"color: #2c3e50; margin-bottom: 10px;\">{additional_info_title}</h3>\n            <p style=\"font-size: 14px; color: #666;\">{additional_info_body}</p>\n        </div>\n        \n        <div style=\"margin-top: 20px; text-align: center;\">\n            <p style=\"font-size: 14px; color: #666;\">{closing_title}</p>\n            <p style=\"font-size: 14px; color: #666;\">{closing_message}</p>\n        </div>\n        \n        <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center;\">\n            <p style=\"font-size: 12px; color: #999;\">\n                <strong>{signature_name}</strong><br>\n                {signature_title}<br>\n                {signature_company}<br>\n                {signature_location}\n            </p>\n            <p style=\"font-size: 12px; color: #999; margin-top: 10px;\">\n                <a href=\"{unsubscribeUrl}\" style=\"color: #999;\">Unsubscribe</a> | \n                <a href=\"#\" style=\"color: #999;\">Update Preferences</a>\n            </p>\n        </div>\n    </div>\n</body>\n</html>\n```\n\n**Text Body Template:**\n```\n{greeting_title}\n\n{greeting_message}\n\n{main_content_title}\nWe appreciate your support. Here's what happens next...\n\n{button_text}: [Link]\n\n{additional_info_title}\n{additional_info_body}\n\n{closing_title}\n{closing_message}\n\n---\n{signature_name}\n{signature_title}\n{signature_company}\n{signature_location}\n\nUnsubscribe: {unsubscribeUrl}\n```\n\n**Template Variables:**\n{{name}}, {{action}}, {{nextSteps}}, {{contactInfo}}\n\n**API Request:**\n```json\n{\n  \"name\": \"Thank You Template\",\n  \"subject\": \"Thank you for {{action}}, {{name}}!\",\n  \"htmlBody\": \"[HTML content above]\",\n  \"textBody\": \"[Text content above]\",\n  \"meta\": {},\n  \"greeting_title\": \"Welcome!\",\n  \"greeting_message\": \"Thank you for your interest\",\n  \"signature_name\": \"Your Name\",\n  \"signature_title\": \"Your Title\",\n  \"signature_company\": \"Your Company\",\n  \"signature_location\": \"Your Location\",\n  \"main_content_title\": \"Thank You\",\n  \"main_content_body\": \"We appreciate your support. Here's what happens next...\",\n  \"button_text\": \"Learn More\",\n  \"additional_info_title\": \"Additional Information\",\n  \"additional_info_body\": \"For more details, visit our website\",\n  \"closing_title\": \"Thank You\",\n  \"closing_message\": \"Best regards\"\n}\n```\n\n**Best Practices for Thank You:**\n- Keep subject line under 50 characters\n- Use clear, actionable language\n- Include unsubscribe link\n- Test on mobile devices\n- Personalize with recipient data\n- A/B test different versions\n\nWould you like me to customize this template for your specific needs?"
  },
  {
    "instruction": "Create and manage audience groups",
    "input": "Create a new audience group",
    "output": "I'll help you create a new audience group. Here's what I need:\n\n**Required Information:**\n1. **Group Name**: What should we call this group?\n2. **Description**: What does this group represent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/groups\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Group Name\",\n  \"description\": \"Description of the group\",\n  \"color\": \"#10b981\",\n  \"criteria\": {\n    \"industry\": \"technology\",\n    \"engagement\": \"high\",\n    \"tags\": [\"vip\", \"premium\"]\n  },\n  \"meta\": {}\n}\n```\n\n**Required Fields:**\n- `name` (string) - Group name\n- `description` (string) - Group description\n- `criteria` (object) - Group criteria\n- `meta` (object) - Group metadata\n\n**Optional Fields:**\n- `color` (string) - Group color (default: \"#10b981\")\n\n**Response:**\n```json\n{\n  \"group\": {\n    \"id\": \"group-id\",\n    \"name\": \"Group Name\",\n    \"description\": \"Description\",\n    \"color\": \"#10b981\",\n    \"criteria\": {},\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\",\n    \"members\": []\n  }\n}\n```\n\n**Audience Member Structure:**\n```json\n{\n  \"id\": \"member-id\",\n  \"groupId\": \"group-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"primaryEmail\": \"email@example.com\",\n  \"secondaryEmail\": \"secondary@example.com\",\n  \"tagsSnapshot\": [\"tag1\", \"tag2\"],\n  \"inviteToken\": \"token\",\n  \"meta\": {},\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"unsubscribed\": false\n}\n```\n\n**Member Status:**\n- `unsubscribed` (boolean) - Whether member has unsubscribed\n\n**Database Constraints:**\n- Unique constraint on `[groupId, businessId]`\n- Indexes on `groupId` and `businessId`\n\nWould you like me to help you set up the group criteria?"
  },
  {
    "instruction": "Create and manage campaign schedules",
    "input": "Set up smart sending window",
    "output": "I'll help you create a campaign schedule. Here's what I need:\n\n**Required Information:**\n1. **Schedule Name**: What should we call this schedule?\n2. **Template ID**: Which email template to use?\n3. **Group ID**: Which audience group to target?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/schedules\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Schedule Name\",\n  \"templateId\": \"template-id\",\n  \"groupId\": \"audience-group-id\",\n  \"campaignId\": \"campaign-id\",\n  \"sendAt\": \"2025-01-15T10:00:00Z\",\n  \"throttlePerMinute\": 60,\n  \"repeatIntervalMins\": null,\n  \"stepOrder\": 1,\n  \"smartWindowStart\": \"2025-01-15T09:00:00Z\",\n  \"smartWindowEnd\": \"2025-01-15T17:00:00Z\",\n  \"timeZone\": \"America/Vancouver\",\n  \"status\": \"DRAFT\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Schedule name\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n\n**Optional Fields:**\n- `campaignId` (string) - Associated campaign ID\n- `sendAt` (ISO date string) - When to send (null for immediate)\n- `throttlePerMinute` (number) - Email sending rate (default: 60)\n- `repeatIntervalMins` (number) - Recurring interval in minutes\n- `stepOrder` (number) - Order in multi-step campaign (default: 1)\n- `smartWindowStart` (ISO date string) - Smart sending window start\n- `smartWindowEnd` (ISO date string) - Smart sending window end\n- `timeZone` (string) - Timezone (default: \"America/Vancouver\")\n- `status` (string) - Schedule status\n\n**Schedule Status Options:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\n**Response:**\n```json\n{\n  \"schedule\": {\n    \"id\": \"schedule-id\",\n    \"name\": \"Schedule Name\",\n    \"templateId\": \"template-id\",\n    \"groupId\": \"audience-group-id\",\n    \"status\": \"DRAFT\",\n    \"sendAt\": \"2025-01-15T10:00:00Z\",\n    \"timeZone\": \"America/Vancouver\",\n    \"throttlePerMinute\": 60,\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you set up the schedule details?"
  },
  {
    "instruction": "View analytics and generate reports",
    "input": "Show me performance trends",
    "output": "I'll help you analyze your email performance. Here's what I can show you:\n\n**Campaign Analytics:**\n\n**CampaignSend Status Tracking:**\n```json\n{\n  \"id\": \"send-id\",\n  \"scheduleId\": \"schedule-id\",\n  \"groupId\": \"group-id\",\n  \"templateId\": \"template-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"email\": \"email@example.com\",\n  \"inviteToken\": \"token\",\n  \"inviteLink\": \"https://example.com/l/token\",\n  \"resendMessageId\": \"resend-message-id\",\n  \"status\": \"SENT\",\n  \"error\": null,\n  \"meta\": {},\n  \"sentAt\": \"2025-01-15T10:00:00Z\",\n  \"openedAt\": \"2025-01-15T10:05:00Z\",\n  \"visitedAt\": \"2025-01-15T10:10:00Z\"\n}\n```\n\n**CampaignSend Status Values:**\n- `PENDING` - Not yet sent\n- `SENDING` - Currently being sent\n- `SENT` - Successfully sent\n- `FAILED` - Failed to send\n- `SKIPPED` - Skipped (e.g., unsubscribed)\n\n**Key Metrics:**\n- **Sent Count**: Total emails sent\n- **Open Rate**: Percentage of emails opened (openedAt not null)\n- **Click Rate**: Percentage of emails clicked (visitedAt not null)\n- **Bounce Rate**: Percentage of failed sends\n- **Unsubscribe Rate**: Percentage of unsubscribed members\n\n**Visit Tracking:**\n```json\n{\n  \"id\": \"visit-id\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"path\": \"/event-page\",\n  \"query\": \"?utm_source=email\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"email\",\n  \"utmMedium\": \"newsletter\",\n  \"utmCampaign\": \"summer-event\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"timeOnPageMs\": 30000,\n  \"scrollDepth\": 75\n}\n```\n\n**Analytics Endpoints:**\n- `GET /api/admin/campaign/dashboard` - Dashboard overview\n- `GET /api/admin/export` - Export data\n- `GET /api/l/[token]` - Track link clicks\n- `GET /api/__pixel` - Track email opens\n\n**Export Options:**\n- CSV format for RSVP data\n- JSON format for campaign data\n- Filtered by date range\n- Filtered by campaign/group\n\n**Performance Tracking:**\n- Email delivery rates\n- Open and click tracking\n- Geographic distribution\n- Device and browser analytics\n- Time-based performance\n- A/B testing results\n\nLet me generate the appropriate analytics report for your request."
  },
  {
    "instruction": "Create and manage audience groups",
    "input": "Make a group for high-value customers",
    "output": "I'll help you create a new audience group. Here's what I need:\n\n**Required Information:**\n1. **Group Name**: What should we call this group?\n2. **Description**: What does this group represent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/groups\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Group Name\",\n  \"description\": \"Description of the group\",\n  \"color\": \"#10b981\",\n  \"criteria\": {\n    \"industry\": \"technology\",\n    \"engagement\": \"high\",\n    \"tags\": [\"vip\", \"premium\"]\n  },\n  \"meta\": {}\n}\n```\n\n**Required Fields:**\n- `name` (string) - Group name\n- `description` (string) - Group description\n- `criteria` (object) - Group criteria\n- `meta` (object) - Group metadata\n\n**Optional Fields:**\n- `color` (string) - Group color (default: \"#10b981\")\n\n**Response:**\n```json\n{\n  \"group\": {\n    \"id\": \"group-id\",\n    \"name\": \"Group Name\",\n    \"description\": \"Description\",\n    \"color\": \"#10b981\",\n    \"criteria\": {},\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\",\n    \"members\": []\n  }\n}\n```\n\n**Audience Member Structure:**\n```json\n{\n  \"id\": \"member-id\",\n  \"groupId\": \"group-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"primaryEmail\": \"email@example.com\",\n  \"secondaryEmail\": \"secondary@example.com\",\n  \"tagsSnapshot\": [\"tag1\", \"tag2\"],\n  \"inviteToken\": \"token\",\n  \"meta\": {},\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"unsubscribed\": false\n}\n```\n\n**Member Status:**\n- `unsubscribed` (boolean) - Whether member has unsubscribed\n\n**Database Constraints:**\n- Unique constraint on `[groupId, businessId]`\n- Indexes on `groupId` and `businessId`\n\nWould you like me to help you set up the group criteria?"
  },
  {
    "instruction": "Implement advanced features",
    "input": "Set up integration apis",
    "output": "I'll help you implement Integration APIs. Here's a comprehensive guide:\n\n**Feature:** Integration APIs\n**Description:** Connect with external services and platforms\n**Implementation:** Use webhooks and API integrations for data sync\n\n**Setup Requirements:**\n"
  },
  {
    "instruction": "Create a detailed email campaign",
    "input": "Set up a product launch campaign for our new software",
    "output": "I'll help you create a comprehensive campaign for: Set up a product launch campaign for our new software\n\n**Campaign Overview:**\nMulti-step campaign: announcement, early access, launch day, and follow-up\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Target Audience**: Which audience group should receive this?\n3. **Email Templates**: Do you have existing templates or need new ones?\n4. **Timing**: When should this campaign start?\n5. **Frequency**: How often should emails be sent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Campaign Structure:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Detailed description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"welcome-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1,\n      \"throttlePerMinute\": 60\n    },\n    {\n      \"templateId\": \"follow-up-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-16T10:00:00Z\",\n      \"stepOrder\": 2,\n      \"throttlePerMinute\": 60\n    }\n  ]\n}\n```\n\n**Campaign Best Practices:**\n- Start with DRAFT status for testing\n- Use appropriate throttle rates (60 emails/minute recommended)\n- Set clear step orders for multi-step campaigns\n- Include timezone considerations\n- Test with small audience first\n\n**Next Steps:**\n1. Create or select email templates\n2. Define target audience groups\n3. Set up campaign steps with proper timing\n4. Test the campaign flow\n5. Schedule for production\n\nWould you like me to help you set up any specific part of this campaign?"
  },
  {
    "instruction": "Manage email campaigns",
    "input": "Pause a campaign",
    "output": "I'll help you manage your campaigns. Here are the available actions:\n\n**List Campaigns:**\n```\nGET /api/admin/campaign/campaigns\n```\n\n**Response:**\n```json\n{\n  \"campaigns\": [\n    {\n      \"id\": \"campaign-id\",\n      \"name\": \"Campaign Name\",\n      \"description\": \"Description\",\n      \"status\": \"DRAFT\",\n      \"meta\": {},\n      \"createdAt\": \"2025-01-15T10:00:00Z\",\n      \"updatedAt\": \"2025-01-15T10:00:00Z\",\n      \"schedules\": []\n    }\n  ]\n}\n```\n\n**Get Campaign Details:**\n```\nGET /api/admin/campaign/campaigns/[id]\n```\n\n**Update Campaign:**\n```\nPUT /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"id\": \"campaign-id\",\n  \"name\": \"Updated Name\",\n  \"description\": \"Updated description\",\n  \"status\": \"SCHEDULED\",\n  \"steps\": []\n}\n```\n\n**Delete Campaign:**\n```\nDELETE /api/admin/campaign/campaigns/[id]\n```\n\n**Campaign Status Values:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\nLet me execute the appropriate action for your request."
  },
  {
    "instruction": "Implement technical solutions",
    "input": "How do I implement real-time rsvp processing?",
    "output": "I'll help you implement Real-time RSVP Processing. Here's a comprehensive technical solution:\n\n**Scenario:** Real-time RSVP Processing\n**Challenge:** Processing RSVPs instantly with immediate confirmation and capacity updates\n**Solution:** Implement real-time processing with WebSocket updates and database triggers\n\n**Technical Implementation:**\n- **processing**: Event-driven architecture\n- **updates**: WebSocket real-time updates\n- **database**: PostgreSQL with triggers\n- **caching**: Redis for session management\n\n**Architecture Overview:**\n```json\n{\n  \"architecture\": {\n    \"frontend\": \"Next.js with React\",\n    \"backend\": \"Next.js API routes\",\n    \"database\": \"PostgreSQL with Prisma\",\n    \"caching\": \"Redis\",\n    \"queue\": \"Redis-based job queue\",\n    \"monitoring\": \"Real-time metrics\"\n  }\n}\n```\n\n**Implementation Steps:**\n\n**1. Database Schema:**\n```sql\n-- Example schema for high-volume processing\nCREATE TABLE email_queue (\n  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n  recipient_email VARCHAR(255) NOT NULL,\n  template_id UUID NOT NULL,\n  status VARCHAR(50) DEFAULT 'pending',\n  scheduled_at TIMESTAMP,\n  created_at TIMESTAMP DEFAULT NOW(),\n  processed_at TIMESTAMP\n);\n\nCREATE INDEX idx_email_queue_status ON email_queue(status);\nCREATE INDEX idx_email_queue_scheduled ON email_queue(scheduled_at);\n```\n\n**2. Queue Processing:**\n```javascript\n// Email queue processor\nclass EmailQueueProcessor {\n  constructor() {\n    this.batchSize = 1000;\n    this.throttleRate = 60; // emails per minute\n  }\n  \n  async processBatch() {\n    const emails = await this.getPendingEmails(this.batchSize);\n    \n    for (const email of emails) {\n      await this.sendEmail(email);\n      await this.updateStatus(email.id, 'sent');\n      await this.throttle();\n    }\n  }\n  \n  async throttle() {\n    const delay = 60000 / this.throttleRate; // 1 second per email\n    await new Promise(resolve => setTimeout(resolve, delay));\n  }\n}\n```\n\n**3. Real-time Updates:**\n```javascript\n// WebSocket implementation for real-time updates\nclass RealtimeUpdates {\n  constructor() {\n    this.clients = new Map();\n  }\n  \n  addClient(tenantId, client) {\n    if (!this.clients.has(tenantId)) {\n      this.clients.set(tenantId, new Set());\n    }\n    this.clients.get(tenantId).add(client);\n  }\n  \n  broadcast(tenantId, event, data) {\n    const clients = this.clients.get(tenantId);\n    if (clients) {\n      clients.forEach(client => {\n        client.send(JSON.stringify({ event, data }));\n      });\n    }\n  }\n}\n```\n\n**4. Monitoring and Metrics:**\n```javascript\n// Performance monitoring\nclass PerformanceMonitor {\n  constructor() {\n    this.metrics = new Map();\n  }\n  \n  recordMetric(name, value) {\n    if (!this.metrics.has(name)) {\n      this.metrics.set(name, []);\n    }\n    this.metrics.get(name).push({\n      value,\n      timestamp: Date.now()\n    });\n  }\n  \n  getMetrics(name) {\n    return this.metrics.get(name) || [];\n  }\n}\n```\n\n**5. Error Handling and Recovery:**\n```javascript\n// Robust error handling\nclass ErrorHandler {\n  static async handleEmailError(error, email) {\n    console.error('Email error:', error);\n    \n    if (error.code === 'RATE_LIMIT') {\n      await this.retryLater(email, 300000); // 5 minutes\n    } else if (error.code === 'INVALID_EMAIL') {\n      await this.markAsBounced(email);\n    } else {\n      await this.retryLater(email, 60000); // 1 minute\n    }\n  }\n}\n```\n\n**Performance Optimization:**\n- Use database indexes for fast queries\n- Implement connection pooling\n- Use Redis for session management\n- Implement query result caching\n- Use CDN for static assets\n- Optimize database queries\n\n**Monitoring and Alerting:**\n- Set up performance metrics\n- Monitor error rates\n- Track delivery rates\n- Alert on system issues\n- Monitor resource usage\n\n**Testing Strategy:**\n- Unit tests for core functionality\n- Integration tests for API endpoints\n- Load testing for high volume\n- End-to-end testing for workflows\n- Performance testing for scalability\n\n**Deployment Considerations:**\n- Use containerization (Docker)\n- Implement blue-green deployment\n- Set up health checks\n- Configure auto-scaling\n- Implement backup strategies\n\nWould you like me to help you implement any specific part of this technical solution?"
  },
  {
    "instruction": "Create and manage email templates",
    "input": "I need a template for welcome emails",
    "output": "I'll help you create a new email template. Here's what I need:\n\n**Required Information:**\n1. **Template Name**: What should we call this template?\n2. **Subject**: Email subject line\n3. **HTML Body**: Rich HTML content\n4. **Text Body**: Plain text version (optional)\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/templates\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Template Name\",\n  \"subject\": \"Email Subject\",\n  \"htmlBody\": \"<h1>Hello {name}</h1><p>Content here</p>\",\n  \"textBody\": \"Hello {name}\\n\\nContent here\",\n  \"meta\": {},\n  \"greeting_title\": \"Welcome!\",\n  \"greeting_message\": \"Thank you for joining us\",\n  \"signature_name\": \"Your Name\",\n  \"signature_title\": \"Your Title\",\n  \"signature_company\": \"Your Company\",\n  \"signature_location\": \"Your Location\",\n  \"main_content_title\": \"Main Title\",\n  \"main_content_body\": \"Main content here\",\n  \"button_text\": \"Click Here\",\n  \"additional_info_title\": \"Additional Info\",\n  \"additional_info_body\": \"Additional details\",\n  \"closing_title\": \"Thank You\",\n  \"closing_message\": \"Best regards\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Template name\n- `subject` (string) - Email subject\n- `htmlBody` (string) - HTML content\n- `meta` (object) - Template metadata\n\n**Optional Fields:**\n- `textBody` (string) - Plain text version\n- `greeting_title` (string) - Greeting title\n- `greeting_message` (string) - Greeting message\n- `signature_name` (string) - Signature name\n- `signature_title` (string) - Signature title\n- `signature_company` (string) - Signature company\n- `signature_location` (string) - Signature location\n- `main_content_title` (string) - Main content title\n- `main_content_body` (string) - Main content body\n- `button_text` (string) - Button text\n- `additional_info_title` (string) - Additional info title\n- `additional_info_body` (string) - Additional info body\n- `closing_title` (string) - Closing title\n- `closing_message` (string) - Closing message\n\n**Template Variables:**\n- `{name}` - Recipient's name\n- `{email}` - Recipient's email\n- `{firstName}` - First name\n- `{lastName}` - Last name\n- `{unsubscribeUrl}` - Unsubscribe link\n\n**Response:**\n```json\n{\n  \"template\": {\n    \"id\": \"template-id\",\n    \"name\": \"Template Name\",\n    \"subject\": \"Email Subject\",\n    \"htmlBody\": \"<h1>Hello {name}</h1>\",\n    \"textBody\": \"Hello {name}\",\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you create this template with some default content?"
  },
  {
    "instruction": "View analytics and generate reports",
    "input": "What's the unsubscribe rate?",
    "output": "I'll help you analyze your email performance. Here's what I can show you:\n\n**Campaign Analytics:**\n\n**CampaignSend Status Tracking:**\n```json\n{\n  \"id\": \"send-id\",\n  \"scheduleId\": \"schedule-id\",\n  \"groupId\": \"group-id\",\n  \"templateId\": \"template-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"email\": \"email@example.com\",\n  \"inviteToken\": \"token\",\n  \"inviteLink\": \"https://example.com/l/token\",\n  \"resendMessageId\": \"resend-message-id\",\n  \"status\": \"SENT\",\n  \"error\": null,\n  \"meta\": {},\n  \"sentAt\": \"2025-01-15T10:00:00Z\",\n  \"openedAt\": \"2025-01-15T10:05:00Z\",\n  \"visitedAt\": \"2025-01-15T10:10:00Z\"\n}\n```\n\n**CampaignSend Status Values:**\n- `PENDING` - Not yet sent\n- `SENDING` - Currently being sent\n- `SENT` - Successfully sent\n- `FAILED` - Failed to send\n- `SKIPPED` - Skipped (e.g., unsubscribed)\n\n**Key Metrics:**\n- **Sent Count**: Total emails sent\n- **Open Rate**: Percentage of emails opened (openedAt not null)\n- **Click Rate**: Percentage of emails clicked (visitedAt not null)\n- **Bounce Rate**: Percentage of failed sends\n- **Unsubscribe Rate**: Percentage of unsubscribed members\n\n**Visit Tracking:**\n```json\n{\n  \"id\": \"visit-id\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"path\": \"/event-page\",\n  \"query\": \"?utm_source=email\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"email\",\n  \"utmMedium\": \"newsletter\",\n  \"utmCampaign\": \"summer-event\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"timeOnPageMs\": 30000,\n  \"scrollDepth\": 75\n}\n```\n\n**Analytics Endpoints:**\n- `GET /api/admin/campaign/dashboard` - Dashboard overview\n- `GET /api/admin/export` - Export data\n- `GET /api/l/[token]` - Track link clicks\n- `GET /api/__pixel` - Track email opens\n\n**Export Options:**\n- CSV format for RSVP data\n- JSON format for campaign data\n- Filtered by date range\n- Filtered by campaign/group\n\n**Performance Tracking:**\n- Email delivery rates\n- Open and click tracking\n- Geographic distribution\n- Device and browser analytics\n- Time-based performance\n- A/B testing results\n\nLet me generate the appropriate analytics report for your request."
  },
  {
    "instruction": "Implement security measures",
    "input": "How do I secure data protection?",
    "output": "I'll help you implement security measures for Data Protection. Here's a comprehensive security guide:\n\n**Topic:** Data Protection\n**Description:** Protect user data and ensure privacy compliance\n\n**Security Measures:**\n- Encryption\n- Access controls\n- Data anonymization\n- Audit logging\n\n**Implementation:**\n```json\n{\n  \"security\": {\n    \"topic\": \"Data Protection\",\n    \"measures\": [\"Encryption\", \"Access controls\", \"Data anonymization\", \"Audit logging\"],\n    \"implementation\": {\n      \"encryption\": \"AES-256\",\n      \"authentication\": \"JWT tokens\",\n      \"rateLimiting\": \"100 req/min per IP\",\n      \"validation\": \"Zod schemas\"\n    }\n  }\n}\n```\n\n**Security Headers:**\n```javascript\nconst securityHeaders = {\n  'Content-Security-Policy': \"default-src 'self'\",\n  'X-Frame-Options': 'DENY',\n  'X-Content-Type-Options': 'nosniff',\n  'Referrer-Policy': 'strict-origin-when-cross-origin',\n  'Permissions-Policy': 'camera=(), microphone=(), geolocation=()'\n};\n```\n\n**Best Practices:**\n- Regular security audits\n- Keep dependencies updated\n- Use secure coding practices\n- Implement proper logging\n- Monitor for security issues\n- Train team on security\n\n**Compliance Requirements:**\n- GDPR: User consent, data portability, right to deletion\n- CAN-SPAM: Unsubscribe links, sender identification, truthful content\n- Industry standards: SOC 2, ISO 27001\n\n**Monitoring and Alerting:**\n- Failed login attempts\n- Unusual API usage\n- Data access patterns\n- Security event logging\n\nWould you like me to help you implement specific security measures?"
  },
  {
    "instruction": "Create and manage campaign schedules",
    "input": "Set up multi-step campaign",
    "output": "I'll help you create a campaign schedule. Here's what I need:\n\n**Required Information:**\n1. **Schedule Name**: What should we call this schedule?\n2. **Template ID**: Which email template to use?\n3. **Group ID**: Which audience group to target?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/schedules\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Schedule Name\",\n  \"templateId\": \"template-id\",\n  \"groupId\": \"audience-group-id\",\n  \"campaignId\": \"campaign-id\",\n  \"sendAt\": \"2025-01-15T10:00:00Z\",\n  \"throttlePerMinute\": 60,\n  \"repeatIntervalMins\": null,\n  \"stepOrder\": 1,\n  \"smartWindowStart\": \"2025-01-15T09:00:00Z\",\n  \"smartWindowEnd\": \"2025-01-15T17:00:00Z\",\n  \"timeZone\": \"America/Vancouver\",\n  \"status\": \"DRAFT\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Schedule name\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n\n**Optional Fields:**\n- `campaignId` (string) - Associated campaign ID\n- `sendAt` (ISO date string) - When to send (null for immediate)\n- `throttlePerMinute` (number) - Email sending rate (default: 60)\n- `repeatIntervalMins` (number) - Recurring interval in minutes\n- `stepOrder` (number) - Order in multi-step campaign (default: 1)\n- `smartWindowStart` (ISO date string) - Smart sending window start\n- `smartWindowEnd` (ISO date string) - Smart sending window end\n- `timeZone` (string) - Timezone (default: \"America/Vancouver\")\n- `status` (string) - Schedule status\n\n**Schedule Status Options:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\n**Response:**\n```json\n{\n  \"schedule\": {\n    \"id\": \"schedule-id\",\n    \"name\": \"Schedule Name\",\n    \"templateId\": \"template-id\",\n    \"groupId\": \"audience-group-id\",\n    \"status\": \"DRAFT\",\n    \"sendAt\": \"2025-01-15T10:00:00Z\",\n    \"timeZone\": \"America/Vancouver\",\n    \"throttlePerMinute\": 60,\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you set up the schedule details?"
  },
  {
    "instruction": "Create and manage campaign schedules",
    "input": "Create a recurring schedule",
    "output": "I'll help you create a campaign schedule. Here's what I need:\n\n**Required Information:**\n1. **Schedule Name**: What should we call this schedule?\n2. **Template ID**: Which email template to use?\n3. **Group ID**: Which audience group to target?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/schedules\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Schedule Name\",\n  \"templateId\": \"template-id\",\n  \"groupId\": \"audience-group-id\",\n  \"campaignId\": \"campaign-id\",\n  \"sendAt\": \"2025-01-15T10:00:00Z\",\n  \"throttlePerMinute\": 60,\n  \"repeatIntervalMins\": null,\n  \"stepOrder\": 1,\n  \"smartWindowStart\": \"2025-01-15T09:00:00Z\",\n  \"smartWindowEnd\": \"2025-01-15T17:00:00Z\",\n  \"timeZone\": \"America/Vancouver\",\n  \"status\": \"DRAFT\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Schedule name\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n\n**Optional Fields:**\n- `campaignId` (string) - Associated campaign ID\n- `sendAt` (ISO date string) - When to send (null for immediate)\n- `throttlePerMinute` (number) - Email sending rate (default: 60)\n- `repeatIntervalMins` (number) - Recurring interval in minutes\n- `stepOrder` (number) - Order in multi-step campaign (default: 1)\n- `smartWindowStart` (ISO date string) - Smart sending window start\n- `smartWindowEnd` (ISO date string) - Smart sending window end\n- `timeZone` (string) - Timezone (default: \"America/Vancouver\")\n- `status` (string) - Schedule status\n\n**Schedule Status Options:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\n**Response:**\n```json\n{\n  \"schedule\": {\n    \"id\": \"schedule-id\",\n    \"name\": \"Schedule Name\",\n    \"templateId\": \"template-id\",\n    \"groupId\": \"audience-group-id\",\n    \"status\": \"DRAFT\",\n    \"sendAt\": \"2025-01-15T10:00:00Z\",\n    \"timeZone\": \"America/Vancouver\",\n    \"throttlePerMinute\": 60,\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you set up the schedule details?"
  },
  {
    "instruction": "View analytics and generate reports",
    "input": "What's my email open rate?",
    "output": "I'll help you analyze your email performance. Here's what I can show you:\n\n**Campaign Analytics:**\n\n**CampaignSend Status Tracking:**\n```json\n{\n  \"id\": \"send-id\",\n  \"scheduleId\": \"schedule-id\",\n  \"groupId\": \"group-id\",\n  \"templateId\": \"template-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"email\": \"email@example.com\",\n  \"inviteToken\": \"token\",\n  \"inviteLink\": \"https://example.com/l/token\",\n  \"resendMessageId\": \"resend-message-id\",\n  \"status\": \"SENT\",\n  \"error\": null,\n  \"meta\": {},\n  \"sentAt\": \"2025-01-15T10:00:00Z\",\n  \"openedAt\": \"2025-01-15T10:05:00Z\",\n  \"visitedAt\": \"2025-01-15T10:10:00Z\"\n}\n```\n\n**CampaignSend Status Values:**\n- `PENDING` - Not yet sent\n- `SENDING` - Currently being sent\n- `SENT` - Successfully sent\n- `FAILED` - Failed to send\n- `SKIPPED` - Skipped (e.g., unsubscribed)\n\n**Key Metrics:**\n- **Sent Count**: Total emails sent\n- **Open Rate**: Percentage of emails opened (openedAt not null)\n- **Click Rate**: Percentage of emails clicked (visitedAt not null)\n- **Bounce Rate**: Percentage of failed sends\n- **Unsubscribe Rate**: Percentage of unsubscribed members\n\n**Visit Tracking:**\n```json\n{\n  \"id\": \"visit-id\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"path\": \"/event-page\",\n  \"query\": \"?utm_source=email\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"email\",\n  \"utmMedium\": \"newsletter\",\n  \"utmCampaign\": \"summer-event\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"timeOnPageMs\": 30000,\n  \"scrollDepth\": 75\n}\n```\n\n**Analytics Endpoints:**\n- `GET /api/admin/campaign/dashboard` - Dashboard overview\n- `GET /api/admin/export` - Export data\n- `GET /api/l/[token]` - Track link clicks\n- `GET /api/__pixel` - Track email opens\n\n**Export Options:**\n- CSV format for RSVP data\n- JSON format for campaign data\n- Filtered by date range\n- Filtered by campaign/group\n\n**Performance Tracking:**\n- Email delivery rates\n- Open and click tracking\n- Geographic distribution\n- Device and browser analytics\n- Time-based performance\n- A/B testing results\n\nLet me generate the appropriate analytics report for your request."
  },
  {
    "instruction": "Create and manage email templates",
    "input": "Make a template for thank you emails",
    "output": "I'll help you create a new email template. Here's what I need:\n\n**Required Information:**\n1. **Template Name**: What should we call this template?\n2. **Subject**: Email subject line\n3. **HTML Body**: Rich HTML content\n4. **Text Body**: Plain text version (optional)\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/templates\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Template Name\",\n  \"subject\": \"Email Subject\",\n  \"htmlBody\": \"<h1>Hello {name}</h1><p>Content here</p>\",\n  \"textBody\": \"Hello {name}\\n\\nContent here\",\n  \"meta\": {},\n  \"greeting_title\": \"Welcome!\",\n  \"greeting_message\": \"Thank you for joining us\",\n  \"signature_name\": \"Your Name\",\n  \"signature_title\": \"Your Title\",\n  \"signature_company\": \"Your Company\",\n  \"signature_location\": \"Your Location\",\n  \"main_content_title\": \"Main Title\",\n  \"main_content_body\": \"Main content here\",\n  \"button_text\": \"Click Here\",\n  \"additional_info_title\": \"Additional Info\",\n  \"additional_info_body\": \"Additional details\",\n  \"closing_title\": \"Thank You\",\n  \"closing_message\": \"Best regards\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Template name\n- `subject` (string) - Email subject\n- `htmlBody` (string) - HTML content\n- `meta` (object) - Template metadata\n\n**Optional Fields:**\n- `textBody` (string) - Plain text version\n- `greeting_title` (string) - Greeting title\n- `greeting_message` (string) - Greeting message\n- `signature_name` (string) - Signature name\n- `signature_title` (string) - Signature title\n- `signature_company` (string) - Signature company\n- `signature_location` (string) - Signature location\n- `main_content_title` (string) - Main content title\n- `main_content_body` (string) - Main content body\n- `button_text` (string) - Button text\n- `additional_info_title` (string) - Additional info title\n- `additional_info_body` (string) - Additional info body\n- `closing_title` (string) - Closing title\n- `closing_message` (string) - Closing message\n\n**Template Variables:**\n- `{name}` - Recipient's name\n- `{email}` - Recipient's email\n- `{firstName}` - First name\n- `{lastName}` - Last name\n- `{unsubscribeUrl}` - Unsubscribe link\n\n**Response:**\n```json\n{\n  \"template\": {\n    \"id\": \"template-id\",\n    \"name\": \"Template Name\",\n    \"subject\": \"Email Subject\",\n    \"htmlBody\": \"<h1>Hello {name}</h1>\",\n    \"textBody\": \"Hello {name}\",\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you create this template with some default content?"
  },
  {
    "instruction": "Create a new email campaign",
    "input": "I need to create a campaign for our summer sale",
    "output": "I'll help you create a new campaign. Based on your request, here's what I need:\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Steps**: Campaign steps with templateId, groupId, and scheduling\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Optional description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"template-id\",\n      \"groupId\": \"audience-group-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1\n    }\n  ]\n}\n```\n\n**Campaign Status Options:**\n- `DRAFT` - Not yet ready to send\n- `SCHEDULED` - Scheduled for future send\n- `SENDING` - Currently being sent\n- `PAUSED` - Temporarily paused\n- `COMPLETED` - Finished sending\n- `CANCELLED` - Cancelled\n\n**Required Fields:**\n- `name` (string) - Campaign name\n- `steps` (array) - Array of campaign steps\n\n**Step Object Required Fields:**\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n- `stepOrder` (number) - Order of execution\n\n**Optional Step Fields:**\n- `sendAt` (ISO date string) - When to send\n- `throttlePerMinute` (number) - Email sending rate\n- `timeZone` (string) - Timezone for scheduling\n\nWould you like me to help you set up the campaign steps?"
  },
  {
    "instruction": "Create a specific email template",
    "input": "Create a event invitation template",
    "output": "I'll help you create a Event Invitation template. Here's a comprehensive setup:\n\n**Template Type:** Event Invitation\n\n**Suggested Structure:**\n\n**Subject Line:**\n```\nYou're Invited: {{eventName}} on {{eventDate}}\n```\n\n**HTML Body Template:**\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Event Invitation</title>\n</head>\n<body style=\"font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: 0 auto; padding: 20px;\">\n    <div style=\"background: #f8f9fa; padding: 20px; border-radius: 8px;\">\n        <h1 style=\"color: #2c3e50; margin-bottom: 20px;\">{greeting_title}</h1>\n        <p style=\"font-size: 16px; margin-bottom: 20px;\">{greeting_message}</p>\n        \n        <div style=\"background: white; padding: 20px; border-radius: 6px; margin: 20px 0;\">\n            <h2 style=\"color: #34495e; margin-bottom: 15px;\">{main_content_title}</h2>\n            <p style=\"margin-bottom: 15px;\">Join us for an exclusive event. RSVP now to secure your spot...</p>\n            \n            <div style=\"text-align: center; margin: 30px 0;\">\n                <a href=\"#\" style=\"background: #3498db; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; display: inline-block;\">{button_text}</a>\n            </div>\n        </div>\n        \n        <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd;\">\n            <h3 style=\"color: #2c3e50; margin-bottom: 10px;\">{additional_info_title}</h3>\n            <p style=\"font-size: 14px; color: #666;\">{additional_info_body}</p>\n        </div>\n        \n        <div style=\"margin-top: 20px; text-align: center;\">\n            <p style=\"font-size: 14px; color: #666;\">{closing_title}</p>\n            <p style=\"font-size: 14px; color: #666;\">{closing_message}</p>\n        </div>\n        \n        <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center;\">\n            <p style=\"font-size: 12px; color: #999;\">\n                <strong>{signature_name}</strong><br>\n                {signature_title}<br>\n                {signature_company}<br>\n                {signature_location}\n            </p>\n            <p style=\"font-size: 12px; color: #999; margin-top: 10px;\">\n                <a href=\"{unsubscribeUrl}\" style=\"color: #999;\">Unsubscribe</a> | \n                <a href=\"#\" style=\"color: #999;\">Update Preferences</a>\n            </p>\n        </div>\n    </div>\n</body>\n</html>\n```\n\n**Text Body Template:**\n```\n{greeting_title}\n\n{greeting_message}\n\n{main_content_title}\nJoin us for an exclusive event. RSVP now to secure your spot...\n\n{button_text}: [Link]\n\n{additional_info_title}\n{additional_info_body}\n\n{closing_title}\n{closing_message}\n\n---\n{signature_name}\n{signature_title}\n{signature_company}\n{signature_location}\n\nUnsubscribe: {unsubscribeUrl}\n```\n\n**Template Variables:**\n{{name}}, {{eventName}}, {{eventDate}}, {{eventLocation}}, {{rsvpUrl}}\n\n**API Request:**\n```json\n{\n  \"name\": \"Event Invitation Template\",\n  \"subject\": \"You're Invited: {{eventName}} on {{eventDate}}\",\n  \"htmlBody\": \"[HTML content above]\",\n  \"textBody\": \"[Text content above]\",\n  \"meta\": {},\n  \"greeting_title\": \"Welcome!\",\n  \"greeting_message\": \"Thank you for your interest\",\n  \"signature_name\": \"Your Name\",\n  \"signature_title\": \"Your Title\",\n  \"signature_company\": \"Your Company\",\n  \"signature_location\": \"Your Location\",\n  \"main_content_title\": \"Event Invitation\",\n  \"main_content_body\": \"Join us for an exclusive event. RSVP now to secure your spot...\",\n  \"button_text\": \"Learn More\",\n  \"additional_info_title\": \"Additional Information\",\n  \"additional_info_body\": \"For more details, visit our website\",\n  \"closing_title\": \"Thank You\",\n  \"closing_message\": \"Best regards\"\n}\n```\n\n**Best Practices for Event Invitation:**\n- Keep subject line under 50 characters\n- Use clear, actionable language\n- Include unsubscribe link\n- Test on mobile devices\n- Personalize with recipient data\n- A/B test different versions\n\nWould you like me to customize this template for your specific needs?"
  },
  {
    "instruction": "Create and manage email templates",
    "input": "Make a template for product announcements",
    "output": "I'll help you create a new email template. Here's what I need:\n\n**Required Information:**\n1. **Template Name**: What should we call this template?\n2. **Subject**: Email subject line\n3. **HTML Body**: Rich HTML content\n4. **Text Body**: Plain text version (optional)\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/templates\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Template Name\",\n  \"subject\": \"Email Subject\",\n  \"htmlBody\": \"<h1>Hello {name}</h1><p>Content here</p>\",\n  \"textBody\": \"Hello {name}\\n\\nContent here\",\n  \"meta\": {},\n  \"greeting_title\": \"Welcome!\",\n  \"greeting_message\": \"Thank you for joining us\",\n  \"signature_name\": \"Your Name\",\n  \"signature_title\": \"Your Title\",\n  \"signature_company\": \"Your Company\",\n  \"signature_location\": \"Your Location\",\n  \"main_content_title\": \"Main Title\",\n  \"main_content_body\": \"Main content here\",\n  \"button_text\": \"Click Here\",\n  \"additional_info_title\": \"Additional Info\",\n  \"additional_info_body\": \"Additional details\",\n  \"closing_title\": \"Thank You\",\n  \"closing_message\": \"Best regards\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Template name\n- `subject` (string) - Email subject\n- `htmlBody` (string) - HTML content\n- `meta` (object) - Template metadata\n\n**Optional Fields:**\n- `textBody` (string) - Plain text version\n- `greeting_title` (string) - Greeting title\n- `greeting_message` (string) - Greeting message\n- `signature_name` (string) - Signature name\n- `signature_title` (string) - Signature title\n- `signature_company` (string) - Signature company\n- `signature_location` (string) - Signature location\n- `main_content_title` (string) - Main content title\n- `main_content_body` (string) - Main content body\n- `button_text` (string) - Button text\n- `additional_info_title` (string) - Additional info title\n- `additional_info_body` (string) - Additional info body\n- `closing_title` (string) - Closing title\n- `closing_message` (string) - Closing message\n\n**Template Variables:**\n- `{name}` - Recipient's name\n- `{email}` - Recipient's email\n- `{firstName}` - First name\n- `{lastName}` - Last name\n- `{unsubscribeUrl}` - Unsubscribe link\n\n**Response:**\n```json\n{\n  \"template\": {\n    \"id\": \"template-id\",\n    \"name\": \"Template Name\",\n    \"subject\": \"Email Subject\",\n    \"htmlBody\": \"<h1>Hello {name}</h1>\",\n    \"textBody\": \"Hello {name}\",\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you create this template with some default content?"
  },
  {
    "instruction": "Create and manage audience groups",
    "input": "Make a group for event attendees",
    "output": "I'll help you create a new audience group. Here's what I need:\n\n**Required Information:**\n1. **Group Name**: What should we call this group?\n2. **Description**: What does this group represent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/groups\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Group Name\",\n  \"description\": \"Description of the group\",\n  \"color\": \"#10b981\",\n  \"criteria\": {\n    \"industry\": \"technology\",\n    \"engagement\": \"high\",\n    \"tags\": [\"vip\", \"premium\"]\n  },\n  \"meta\": {}\n}\n```\n\n**Required Fields:**\n- `name` (string) - Group name\n- `description` (string) - Group description\n- `criteria` (object) - Group criteria\n- `meta` (object) - Group metadata\n\n**Optional Fields:**\n- `color` (string) - Group color (default: \"#10b981\")\n\n**Response:**\n```json\n{\n  \"group\": {\n    \"id\": \"group-id\",\n    \"name\": \"Group Name\",\n    \"description\": \"Description\",\n    \"color\": \"#10b981\",\n    \"criteria\": {},\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\",\n    \"members\": []\n  }\n}\n```\n\n**Audience Member Structure:**\n```json\n{\n  \"id\": \"member-id\",\n  \"groupId\": \"group-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"primaryEmail\": \"email@example.com\",\n  \"secondaryEmail\": \"secondary@example.com\",\n  \"tagsSnapshot\": [\"tag1\", \"tag2\"],\n  \"inviteToken\": \"token\",\n  \"meta\": {},\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"unsubscribed\": false\n}\n```\n\n**Member Status:**\n- `unsubscribed` (boolean) - Whether member has unsubscribed\n\n**Database Constraints:**\n- Unique constraint on `[groupId, businessId]`\n- Indexes on `groupId` and `businessId`\n\nWould you like me to help you set up the group criteria?"
  },
  {
    "instruction": "Create a detailed email campaign",
    "input": "Create a re-engagement campaign for inactive users",
    "output": "I'll help you create a comprehensive campaign for: Create a re-engagement campaign for inactive users\n\n**Campaign Overview:**\nTarget users who haven't opened emails in 30+ days with special offers\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Target Audience**: Which audience group should receive this?\n3. **Email Templates**: Do you have existing templates or need new ones?\n4. **Timing**: When should this campaign start?\n5. **Frequency**: How often should emails be sent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Campaign Structure:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Detailed description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"welcome-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1,\n      \"throttlePerMinute\": 60\n    },\n    {\n      \"templateId\": \"follow-up-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-16T10:00:00Z\",\n      \"stepOrder\": 2,\n      \"throttlePerMinute\": 60\n    }\n  ]\n}\n```\n\n**Campaign Best Practices:**\n- Start with DRAFT status for testing\n- Use appropriate throttle rates (60 emails/minute recommended)\n- Set clear step orders for multi-step campaigns\n- Include timezone considerations\n- Test with small audience first\n\n**Next Steps:**\n1. Create or select email templates\n2. Define target audience groups\n3. Set up campaign steps with proper timing\n4. Test the campaign flow\n5. Schedule for production\n\nWould you like me to help you set up any specific part of this campaign?"
  },
  {
    "instruction": "View analytics and generate reports",
    "input": "What's the click-through rate?",
    "output": "I'll help you analyze your email performance. Here's what I can show you:\n\n**Campaign Analytics:**\n\n**CampaignSend Status Tracking:**\n```json\n{\n  \"id\": \"send-id\",\n  \"scheduleId\": \"schedule-id\",\n  \"groupId\": \"group-id\",\n  \"templateId\": \"template-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"email\": \"email@example.com\",\n  \"inviteToken\": \"token\",\n  \"inviteLink\": \"https://example.com/l/token\",\n  \"resendMessageId\": \"resend-message-id\",\n  \"status\": \"SENT\",\n  \"error\": null,\n  \"meta\": {},\n  \"sentAt\": \"2025-01-15T10:00:00Z\",\n  \"openedAt\": \"2025-01-15T10:05:00Z\",\n  \"visitedAt\": \"2025-01-15T10:10:00Z\"\n}\n```\n\n**CampaignSend Status Values:**\n- `PENDING` - Not yet sent\n- `SENDING` - Currently being sent\n- `SENT` - Successfully sent\n- `FAILED` - Failed to send\n- `SKIPPED` - Skipped (e.g., unsubscribed)\n\n**Key Metrics:**\n- **Sent Count**: Total emails sent\n- **Open Rate**: Percentage of emails opened (openedAt not null)\n- **Click Rate**: Percentage of emails clicked (visitedAt not null)\n- **Bounce Rate**: Percentage of failed sends\n- **Unsubscribe Rate**: Percentage of unsubscribed members\n\n**Visit Tracking:**\n```json\n{\n  \"id\": \"visit-id\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"path\": \"/event-page\",\n  \"query\": \"?utm_source=email\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"email\",\n  \"utmMedium\": \"newsletter\",\n  \"utmCampaign\": \"summer-event\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"timeOnPageMs\": 30000,\n  \"scrollDepth\": 75\n}\n```\n\n**Analytics Endpoints:**\n- `GET /api/admin/campaign/dashboard` - Dashboard overview\n- `GET /api/admin/export` - Export data\n- `GET /api/l/[token]` - Track link clicks\n- `GET /api/__pixel` - Track email opens\n\n**Export Options:**\n- CSV format for RSVP data\n- JSON format for campaign data\n- Filtered by date range\n- Filtered by campaign/group\n\n**Performance Tracking:**\n- Email delivery rates\n- Open and click tracking\n- Geographic distribution\n- Device and browser analytics\n- Time-based performance\n- A/B testing results\n\nLet me generate the appropriate analytics report for your request."
  },
  {
    "instruction": "Create a specific email template",
    "input": "Create a re-engagement template",
    "output": "I'll help you create a Re-engagement template. Here's a comprehensive setup:\n\n**Template Type:** Re-engagement\n\n**Suggested Structure:**\n\n**Subject Line:**\n```\nWe miss you, {{name}}!\n```\n\n**HTML Body Template:**\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Re-engagement</title>\n</head>\n<body style=\"font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: 0 auto; padding: 20px;\">\n    <div style=\"background: #f8f9fa; padding: 20px; border-radius: 8px;\">\n        <h1 style=\"color: #2c3e50; margin-bottom: 20px;\">{greeting_title}</h1>\n        <p style=\"font-size: 16px; margin-bottom: 20px;\">{greeting_message}</p>\n        \n        <div style=\"background: white; padding: 20px; border-radius: 6px; margin: 20px 0;\">\n            <h2 style=\"color: #34495e; margin-bottom: 15px;\">{main_content_title}</h2>\n            <p style=\"margin-bottom: 15px;\">It's been a while since we've heard from you. Here's what you've been missing...</p>\n            \n            <div style=\"text-align: center; margin: 30px 0;\">\n                <a href=\"#\" style=\"background: #3498db; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; display: inline-block;\">{button_text}</a>\n            </div>\n        </div>\n        \n        <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd;\">\n            <h3 style=\"color: #2c3e50; margin-bottom: 10px;\">{additional_info_title}</h3>\n            <p style=\"font-size: 14px; color: #666;\">{additional_info_body}</p>\n        </div>\n        \n        <div style=\"margin-top: 20px; text-align: center;\">\n            <p style=\"font-size: 14px; color: #666;\">{closing_title}</p>\n            <p style=\"font-size: 14px; color: #666;\">{closing_message}</p>\n        </div>\n        \n        <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center;\">\n            <p style=\"font-size: 12px; color: #999;\">\n                <strong>{signature_name}</strong><br>\n                {signature_title}<br>\n                {signature_company}<br>\n                {signature_location}\n            </p>\n            <p style=\"font-size: 12px; color: #999; margin-top: 10px;\">\n                <a href=\"{unsubscribeUrl}\" style=\"color: #999;\">Unsubscribe</a> | \n                <a href=\"#\" style=\"color: #999;\">Update Preferences</a>\n            </p>\n        </div>\n    </div>\n</body>\n</html>\n```\n\n**Text Body Template:**\n```\n{greeting_title}\n\n{greeting_message}\n\n{main_content_title}\nIt's been a while since we've heard from you. Here's what you've been missing...\n\n{button_text}: [Link]\n\n{additional_info_title}\n{additional_info_body}\n\n{closing_title}\n{closing_message}\n\n---\n{signature_name}\n{signature_title}\n{signature_company}\n{signature_location}\n\nUnsubscribe: {unsubscribeUrl}\n```\n\n**Template Variables:**\n{{name}}, {{lastActivity}}, {{specialOffer}}, {{unsubscribeUrl}}\n\n**API Request:**\n```json\n{\n  \"name\": \"Re-engagement Template\",\n  \"subject\": \"We miss you, {{name}}!\",\n  \"htmlBody\": \"[HTML content above]\",\n  \"textBody\": \"[Text content above]\",\n  \"meta\": {},\n  \"greeting_title\": \"Welcome!\",\n  \"greeting_message\": \"Thank you for your interest\",\n  \"signature_name\": \"Your Name\",\n  \"signature_title\": \"Your Title\",\n  \"signature_company\": \"Your Company\",\n  \"signature_location\": \"Your Location\",\n  \"main_content_title\": \"Re-engagement\",\n  \"main_content_body\": \"It's been a while since we've heard from you. Here's what you've been missing...\",\n  \"button_text\": \"Learn More\",\n  \"additional_info_title\": \"Additional Information\",\n  \"additional_info_body\": \"For more details, visit our website\",\n  \"closing_title\": \"Thank You\",\n  \"closing_message\": \"Best regards\"\n}\n```\n\n**Best Practices for Re-engagement:**\n- Keep subject line under 50 characters\n- Use clear, actionable language\n- Include unsubscribe link\n- Test on mobile devices\n- Personalize with recipient data\n- A/B test different versions\n\nWould you like me to customize this template for your specific needs?"
  },
  {
    "instruction": "Implement advanced features",
    "input": "Set up smart sending",
    "output": "I'll help you implement Smart Sending. Here's a comprehensive guide:\n\n**Feature:** Smart Sending\n**Description:** Send emails at optimal times for each recipient\n**Implementation:** Use smart sending windows and timezone optimization\n\n**Setup Requirements:**\n"
  },
  {
    "instruction": "Manage email campaigns",
    "input": "Delete a campaign",
    "output": "I'll help you manage your campaigns. Here are the available actions:\n\n**List Campaigns:**\n```\nGET /api/admin/campaign/campaigns\n```\n\n**Response:**\n```json\n{\n  \"campaigns\": [\n    {\n      \"id\": \"campaign-id\",\n      \"name\": \"Campaign Name\",\n      \"description\": \"Description\",\n      \"status\": \"DRAFT\",\n      \"meta\": {},\n      \"createdAt\": \"2025-01-15T10:00:00Z\",\n      \"updatedAt\": \"2025-01-15T10:00:00Z\",\n      \"schedules\": []\n    }\n  ]\n}\n```\n\n**Get Campaign Details:**\n```\nGET /api/admin/campaign/campaigns/[id]\n```\n\n**Update Campaign:**\n```\nPUT /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"id\": \"campaign-id\",\n  \"name\": \"Updated Name\",\n  \"description\": \"Updated description\",\n  \"status\": \"SCHEDULED\",\n  \"steps\": []\n}\n```\n\n**Delete Campaign:**\n```\nDELETE /api/admin/campaign/campaigns/[id]\n```\n\n**Campaign Status Values:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\nLet me execute the appropriate action for your request."
  },
  {
    "instruction": "Explain system architecture and technical details",
    "input": "How does authentication work?",
    "output": "I'll explain the technical architecture of the RSVP system:\n\n**System Architecture:**\n\n**Frontend:**\n- **Framework**: Next.js 14 with React\n- **Styling**: Tailwind CSS\n- **Animations**: Framer Motion\n- **State Management**: React hooks (useState, useEffect)\n- **Authentication**: Session-based with cookies\n\n**Backend:**\n- **Runtime**: Node.js\n- **Framework**: Next.js API routes\n- **Database**: PostgreSQL with Prisma ORM\n- **Email Service**: Resend API\n- **Vector Database**: Weaviate (for RAG)\n- **AI Integration**: Gemini 2.5 Flash\n\n**Database Models:**\n- `RSVP` - Event RSVP submissions\n- `Visit` - Website visit tracking\n- `CampaignTemplate` - Email templates\n- `Campaign` - Email campaigns\n- `AudienceGroup` - Audience segmentation\n- `AudienceMember` - Individual audience members\n- `CampaignSchedule` - Campaign scheduling\n- `CampaignSend` - Individual email sends\n\n**API Structure:**\n- `/api/rsvp` - RSVP form submission\n- `/api/admin/campaign/campaigns` - Campaign management\n- `/api/admin/campaign/schedules` - Schedule management\n- `/api/admin/campaign/templates` - Template management\n- `/api/admin/campaign/groups` - Audience group management\n- `/api/admin/campaign/send` - Email sending\n- `/api/admin/export` - Data export\n- `/api/unsubscribe` - Unsubscribe handling\n- `/api/l/[token]` - Link tracking\n- `/api/__pixel` - Email open tracking\n\n**Security Features:**\n- CSRF protection with origin/referer validation\n- Rate limiting with IP fingerprinting\n- Input validation with Zod schemas\n- Test detection to prevent spam\n- Security logging for monitoring\n- Secure headers with CSP\n\n**Environment Variables:**\n- `DATABASE_URL` - PostgreSQL connection\n- `RESEND_API_KEY` - Email service\n- `GEMINI_API_KEY` - AI service\n- `WEAVIATE_URL` - Vector database\n- `WEAVIATE_API_KEY` - Vector database auth\n- `CRON_SECRET` - Cron job authentication\n\n**File Structure:**\n```\nrsvp-app/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 app/           # Next.js app router\n\u2502   \u2502   \u251c\u2500\u2500 api/       # API routes\n\u2502   \u2502   \u251c\u2500\u2500 admin/     # Admin panel\n\u2502   \u2502   \u2514\u2500\u2500 (public)/  # Public pages\n\u2502   \u251c\u2500\u2500 components/    # React components\n\u2502   \u251c\u2500\u2500 lib/          # Utilities and services\n\u2502   \u2514\u2500\u2500 prisma/       # Database schema\n\u251c\u2500\u2500 public/           # Static assets\n\u2514\u2500\u2500 docs/            # Documentation\n```\n\n**Deployment:**\n- **Platform**: Vercel (frontend)\n- **Database**: Neon (PostgreSQL)\n- **AI Service**: Railway (planned)\n- **Vector DB**: Weaviate Cloud\n\n**Email Delivery:**\n- Resend API for email sending\n- Throttling support (emails per minute)\n- Smart sending windows\n- Timezone support\n- Recurring campaigns\n- Link and open tracking\n\n**AI Assistant (Juniper):**\n- Conversational interface\n- Real-time execution display\n- Tool integration for database operations\n- Context awareness\n- Error handling and recovery\n- Pattern-matching system (to be replaced with fine-tuned SLM)\n\nThis architecture provides a scalable, secure, and maintainable system for RSVP management and email campaigns."
  },
  {
    "instruction": "Create and manage email templates",
    "input": "I want a template for newsletters",
    "output": "I'll help you create a new email template. Here's what I need:\n\n**Required Information:**\n1. **Template Name**: What should we call this template?\n2. **Subject**: Email subject line\n3. **HTML Body**: Rich HTML content\n4. **Text Body**: Plain text version (optional)\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/templates\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Template Name\",\n  \"subject\": \"Email Subject\",\n  \"htmlBody\": \"<h1>Hello {name}</h1><p>Content here</p>\",\n  \"textBody\": \"Hello {name}\\n\\nContent here\",\n  \"meta\": {},\n  \"greeting_title\": \"Welcome!\",\n  \"greeting_message\": \"Thank you for joining us\",\n  \"signature_name\": \"Your Name\",\n  \"signature_title\": \"Your Title\",\n  \"signature_company\": \"Your Company\",\n  \"signature_location\": \"Your Location\",\n  \"main_content_title\": \"Main Title\",\n  \"main_content_body\": \"Main content here\",\n  \"button_text\": \"Click Here\",\n  \"additional_info_title\": \"Additional Info\",\n  \"additional_info_body\": \"Additional details\",\n  \"closing_title\": \"Thank You\",\n  \"closing_message\": \"Best regards\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Template name\n- `subject` (string) - Email subject\n- `htmlBody` (string) - HTML content\n- `meta` (object) - Template metadata\n\n**Optional Fields:**\n- `textBody` (string) - Plain text version\n- `greeting_title` (string) - Greeting title\n- `greeting_message` (string) - Greeting message\n- `signature_name` (string) - Signature name\n- `signature_title` (string) - Signature title\n- `signature_company` (string) - Signature company\n- `signature_location` (string) - Signature location\n- `main_content_title` (string) - Main content title\n- `main_content_body` (string) - Main content body\n- `button_text` (string) - Button text\n- `additional_info_title` (string) - Additional info title\n- `additional_info_body` (string) - Additional info body\n- `closing_title` (string) - Closing title\n- `closing_message` (string) - Closing message\n\n**Template Variables:**\n- `{name}` - Recipient's name\n- `{email}` - Recipient's email\n- `{firstName}` - First name\n- `{lastName}` - Last name\n- `{unsubscribeUrl}` - Unsubscribe link\n\n**Response:**\n```json\n{\n  \"template\": {\n    \"id\": \"template-id\",\n    \"name\": \"Template Name\",\n    \"subject\": \"Email Subject\",\n    \"htmlBody\": \"<h1>Hello {name}</h1>\",\n    \"textBody\": \"Hello {name}\",\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you create this template with some default content?"
  },
  {
    "instruction": "Generate analytics report",
    "input": "Generate a revenue attribution report",
    "output": "I'll help you generate a Revenue Attribution Report. Here's a comprehensive analysis:\n\n**Report Type:** Revenue Attribution Report\n**Timeframe:** last_quarter\n**Key Metrics:** revenue_generated, conversion_rate, roi, lifetime_value\n**Breakdown:** by_campaign, by_segment, by_channel\n\n**Data Collection:**\n```json\n{\n  \"reportType\": \"Revenue Attribution Report\",\n  \"timeframe\": \"last_quarter\",\n  \"metrics\": [\"revenue_generated\", \"conversion_rate\", \"roi\", \"lifetime_value\"],\n  \"breakdown\": [\"by_campaign\", \"by_segment\", \"by_channel\"],\n  \"filters\": {\n    \"campaignStatus\": [\"SENT\", \"COMPLETED\"],\n    \"audienceGroups\": [\"all\"],\n    \"excludeTest\": true\n  }\n}\n```\n\n**API Endpoints:**\n- `GET /api/admin/campaign/dashboard` - Dashboard data\n- `GET /api/admin/export` - Export raw data\n- `GET /api/admin/analytics/visitors` - Visitor analytics\n- `GET /api/admin/analytics/tracking-links` - Link performance\n\n**Key Performance Indicators:**\n"
  },
  {
    "instruction": "Create and manage audience groups",
    "input": "I need a group for tech professionals",
    "output": "I'll help you create a new audience group. Here's what I need:\n\n**Required Information:**\n1. **Group Name**: What should we call this group?\n2. **Description**: What does this group represent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/groups\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Group Name\",\n  \"description\": \"Description of the group\",\n  \"color\": \"#10b981\",\n  \"criteria\": {\n    \"industry\": \"technology\",\n    \"engagement\": \"high\",\n    \"tags\": [\"vip\", \"premium\"]\n  },\n  \"meta\": {}\n}\n```\n\n**Required Fields:**\n- `name` (string) - Group name\n- `description` (string) - Group description\n- `criteria` (object) - Group criteria\n- `meta` (object) - Group metadata\n\n**Optional Fields:**\n- `color` (string) - Group color (default: \"#10b981\")\n\n**Response:**\n```json\n{\n  \"group\": {\n    \"id\": \"group-id\",\n    \"name\": \"Group Name\",\n    \"description\": \"Description\",\n    \"color\": \"#10b981\",\n    \"criteria\": {},\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\",\n    \"members\": []\n  }\n}\n```\n\n**Audience Member Structure:**\n```json\n{\n  \"id\": \"member-id\",\n  \"groupId\": \"group-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"primaryEmail\": \"email@example.com\",\n  \"secondaryEmail\": \"secondary@example.com\",\n  \"tagsSnapshot\": [\"tag1\", \"tag2\"],\n  \"inviteToken\": \"token\",\n  \"meta\": {},\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"unsubscribed\": false\n}\n```\n\n**Member Status:**\n- `unsubscribed` (boolean) - Whether member has unsubscribed\n\n**Database Constraints:**\n- Unique constraint on `[groupId, businessId]`\n- Indexes on `groupId` and `businessId`\n\nWould you like me to help you set up the group criteria?"
  },
  {
    "instruction": "Set up automation workflow",
    "input": "Create a event follow-up automation",
    "output": "I'll help you set up a Event Follow-up automation workflow. Here's a comprehensive setup:\n\n**Workflow:** Event Follow-up\n**Trigger:** EVENT_ATTENDED\n**Description:** Follow up with event attendees\n\n**Workflow Steps:**\n"
  },
  {
    "instruction": "Optimize system performance",
    "input": "How do I optimize api performance?",
    "output": "I'll help you optimize API Performance. Here's a comprehensive optimization guide:\n\n**Area:** API Performance\n\n**Common Issues:**\n- Slow responses\n- High latency\n- Rate limiting\n\n**Optimization Solutions:**\n- Implement caching\n- Optimize queries\n- Use pagination\n- Add rate limiting\n\n**Performance Monitoring:**\n```json\n{\n  \"area\": \"API Performance\",\n  \"metrics\": {\n    \"responseTime\": \"< 200ms\",\n    \"throughput\": \"> 1000 req/min\",\n    \"errorRate\": \"< 1%\",\n    \"uptime\": \"> 99.9%\"\n  },\n  \"alerts\": [\n    \"High response time\",\n    \"Error rate spike\",\n    \"Resource usage high\"\n  ]\n}\n```\n\n**Implementation Steps:**\n1. **Baseline Measurement**: Measure current performance\n2. **Identify Bottlenecks**: Find performance issues\n3. **Implement Solutions**: Apply optimization techniques\n4. **Test Performance**: Verify improvements\n5. **Monitor Continuously**: Set up ongoing monitoring\n\n**Tools and Techniques:**\n- Performance profiling\n- Database query analysis\n- API response time monitoring\n- Error rate tracking\n- Resource usage monitoring\n\n**Best Practices:**\n- Regular performance audits\n- Proactive monitoring\n- Gradual optimization\n- A/B testing improvements\n- Documentation of changes\n\nWould you like me to help you implement specific optimizations?"
  },
  {
    "instruction": "Create and manage campaign schedules",
    "input": "Schedule a campaign to send",
    "output": "I'll help you create a campaign schedule. Here's what I need:\n\n**Required Information:**\n1. **Schedule Name**: What should we call this schedule?\n2. **Template ID**: Which email template to use?\n3. **Group ID**: Which audience group to target?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/schedules\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Schedule Name\",\n  \"templateId\": \"template-id\",\n  \"groupId\": \"audience-group-id\",\n  \"campaignId\": \"campaign-id\",\n  \"sendAt\": \"2025-01-15T10:00:00Z\",\n  \"throttlePerMinute\": 60,\n  \"repeatIntervalMins\": null,\n  \"stepOrder\": 1,\n  \"smartWindowStart\": \"2025-01-15T09:00:00Z\",\n  \"smartWindowEnd\": \"2025-01-15T17:00:00Z\",\n  \"timeZone\": \"America/Vancouver\",\n  \"status\": \"DRAFT\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Schedule name\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n\n**Optional Fields:**\n- `campaignId` (string) - Associated campaign ID\n- `sendAt` (ISO date string) - When to send (null for immediate)\n- `throttlePerMinute` (number) - Email sending rate (default: 60)\n- `repeatIntervalMins` (number) - Recurring interval in minutes\n- `stepOrder` (number) - Order in multi-step campaign (default: 1)\n- `smartWindowStart` (ISO date string) - Smart sending window start\n- `smartWindowEnd` (ISO date string) - Smart sending window end\n- `timeZone` (string) - Timezone (default: \"America/Vancouver\")\n- `status` (string) - Schedule status\n\n**Schedule Status Options:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\n**Response:**\n```json\n{\n  \"schedule\": {\n    \"id\": \"schedule-id\",\n    \"name\": \"Schedule Name\",\n    \"templateId\": \"template-id\",\n    \"groupId\": \"audience-group-id\",\n    \"status\": \"DRAFT\",\n    \"sendAt\": \"2025-01-15T10:00:00Z\",\n    \"timeZone\": \"America/Vancouver\",\n    \"throttlePerMinute\": 60,\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you set up the schedule details?"
  },
  {
    "instruction": "Create audience segmentation strategy",
    "input": "Create a demographic segmentation group",
    "output": "I'll help you create a Demographic Segmentation audience group. Here's a comprehensive setup:\n\n**Segmentation Strategy:** Demographic Segmentation\n**Description:** Segment by business type and industry\n\n**Segmentation Criteria:**\n```json\n{\n  \"name\": \"Demographic Segmentation Group\",\n  \"description\": \"Segment by business type and industry\",\n  \"color\": \"#10b981\",\n  \"criteria\": {\n  \"industry\": \"technology\",\n  \"companySize\": \"startup\",\n  \"businessType\": \"SaaS\",\n  \"tags\": [\n    \"tech\",\n    \"startup\",\n    \"saas\"\n  ]\n},\n  \"meta\": {\n    \"createdBy\": \"AI Assistant\",\n    \"purpose\": \"Segment by business type and industry\",\n    \"lastUpdated\": \"2025-01-15T10:00:00Z\",\n    \"memberCount\": 0,\n    \"autoUpdate\": true\n  }\n}\n```\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/groups\n```\n\n**Implementation Steps:**\n1. **Define Criteria**: Set up the segmentation rules\n2. **Create Group**: Use the API to create the audience group\n3. **Populate Members**: Add existing members or import new ones\n4. **Test Segmentation**: Verify the criteria work correctly\n5. **Monitor Performance**: Track engagement and adjust as needed\n\n**Member Addition:**\n```json\n{\n  \"groupId\": \"group-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"primaryEmail\": \"email@example.com\",\n  \"secondaryEmail\": \"secondary@example.com\",\n  \"tagsSnapshot\": [\"tag1\", \"tag2\"],\n  \"meta\": {\n    \"source\": \"import\",\n    \"addedBy\": \"AI Assistant\",\n    \"addedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\n**Best Practices:**\n- Use clear, measurable criteria\n- Test with small groups first\n- Monitor engagement rates\n- Update criteria regularly\n- Document segmentation logic\n- Use consistent naming conventions\n\n**Performance Metrics:**\n- Open rates by segment\n- Click-through rates\n- Unsubscribe rates\n- Conversion rates\n- Engagement scores\n\n**Automation Opportunities:**\n- Auto-add new members based on criteria\n- Remove inactive members\n- Update tags based on behavior\n- Trigger campaigns based on segment changes\n\nWould you like me to help you implement this segmentation strategy?"
  },
  {
    "instruction": "Create a new email campaign",
    "input": "Set up a campaign for the holiday promotion",
    "output": "I'll help you create a new campaign. Based on your request, here's what I need:\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Steps**: Campaign steps with templateId, groupId, and scheduling\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Optional description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"template-id\",\n      \"groupId\": \"audience-group-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1\n    }\n  ]\n}\n```\n\n**Campaign Status Options:**\n- `DRAFT` - Not yet ready to send\n- `SCHEDULED` - Scheduled for future send\n- `SENDING` - Currently being sent\n- `PAUSED` - Temporarily paused\n- `COMPLETED` - Finished sending\n- `CANCELLED` - Cancelled\n\n**Required Fields:**\n- `name` (string) - Campaign name\n- `steps` (array) - Array of campaign steps\n\n**Step Object Required Fields:**\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n- `stepOrder` (number) - Order of execution\n\n**Optional Step Fields:**\n- `sendAt` (ISO date string) - When to send\n- `throttlePerMinute` (number) - Email sending rate\n- `timeZone` (string) - Timezone for scheduling\n\nWould you like me to help you set up the campaign steps?"
  },
  {
    "instruction": "Implement technical solutions",
    "input": "How do I implement advanced analytics and reporting?",
    "output": "I'll help you implement Advanced Analytics and Reporting. Here's a comprehensive technical solution:\n\n**Scenario:** Advanced Analytics and Reporting\n**Challenge:** Providing real-time analytics with complex queries and data visualization\n**Solution:** Implement data warehouse with ETL processes and real-time dashboards\n\n**Technical Implementation:**\n- **warehouse**: PostgreSQL with materialized views\n- **etl**: Scheduled data processing\n- **dashboards**: Real-time data visualization\n- **caching**: Query result caching\n\n**Architecture Overview:**\n```json\n{\n  \"architecture\": {\n    \"frontend\": \"Next.js with React\",\n    \"backend\": \"Next.js API routes\",\n    \"database\": \"PostgreSQL with Prisma\",\n    \"caching\": \"Redis\",\n    \"queue\": \"Redis-based job queue\",\n    \"monitoring\": \"Real-time metrics\"\n  }\n}\n```\n\n**Implementation Steps:**\n\n**1. Database Schema:**\n```sql\n-- Example schema for high-volume processing\nCREATE TABLE email_queue (\n  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n  recipient_email VARCHAR(255) NOT NULL,\n  template_id UUID NOT NULL,\n  status VARCHAR(50) DEFAULT 'pending',\n  scheduled_at TIMESTAMP,\n  created_at TIMESTAMP DEFAULT NOW(),\n  processed_at TIMESTAMP\n);\n\nCREATE INDEX idx_email_queue_status ON email_queue(status);\nCREATE INDEX idx_email_queue_scheduled ON email_queue(scheduled_at);\n```\n\n**2. Queue Processing:**\n```javascript\n// Email queue processor\nclass EmailQueueProcessor {\n  constructor() {\n    this.batchSize = 1000;\n    this.throttleRate = 60; // emails per minute\n  }\n  \n  async processBatch() {\n    const emails = await this.getPendingEmails(this.batchSize);\n    \n    for (const email of emails) {\n      await this.sendEmail(email);\n      await this.updateStatus(email.id, 'sent');\n      await this.throttle();\n    }\n  }\n  \n  async throttle() {\n    const delay = 60000 / this.throttleRate; // 1 second per email\n    await new Promise(resolve => setTimeout(resolve, delay));\n  }\n}\n```\n\n**3. Real-time Updates:**\n```javascript\n// WebSocket implementation for real-time updates\nclass RealtimeUpdates {\n  constructor() {\n    this.clients = new Map();\n  }\n  \n  addClient(tenantId, client) {\n    if (!this.clients.has(tenantId)) {\n      this.clients.set(tenantId, new Set());\n    }\n    this.clients.get(tenantId).add(client);\n  }\n  \n  broadcast(tenantId, event, data) {\n    const clients = this.clients.get(tenantId);\n    if (clients) {\n      clients.forEach(client => {\n        client.send(JSON.stringify({ event, data }));\n      });\n    }\n  }\n}\n```\n\n**4. Monitoring and Metrics:**\n```javascript\n// Performance monitoring\nclass PerformanceMonitor {\n  constructor() {\n    this.metrics = new Map();\n  }\n  \n  recordMetric(name, value) {\n    if (!this.metrics.has(name)) {\n      this.metrics.set(name, []);\n    }\n    this.metrics.get(name).push({\n      value,\n      timestamp: Date.now()\n    });\n  }\n  \n  getMetrics(name) {\n    return this.metrics.get(name) || [];\n  }\n}\n```\n\n**5. Error Handling and Recovery:**\n```javascript\n// Robust error handling\nclass ErrorHandler {\n  static async handleEmailError(error, email) {\n    console.error('Email error:', error);\n    \n    if (error.code === 'RATE_LIMIT') {\n      await this.retryLater(email, 300000); // 5 minutes\n    } else if (error.code === 'INVALID_EMAIL') {\n      await this.markAsBounced(email);\n    } else {\n      await this.retryLater(email, 60000); // 1 minute\n    }\n  }\n}\n```\n\n**Performance Optimization:**\n- Use database indexes for fast queries\n- Implement connection pooling\n- Use Redis for session management\n- Implement query result caching\n- Use CDN for static assets\n- Optimize database queries\n\n**Monitoring and Alerting:**\n- Set up performance metrics\n- Monitor error rates\n- Track delivery rates\n- Alert on system issues\n- Monitor resource usage\n\n**Testing Strategy:**\n- Unit tests for core functionality\n- Integration tests for API endpoints\n- Load testing for high volume\n- End-to-end testing for workflows\n- Performance testing for scalability\n\n**Deployment Considerations:**\n- Use containerization (Docker)\n- Implement blue-green deployment\n- Set up health checks\n- Configure auto-scaling\n- Implement backup strategies\n\nWould you like me to help you implement any specific part of this technical solution?"
  },
  {
    "instruction": "Handle complex business scenarios",
    "input": "How do I manage e-commerce customer retention?",
    "output": "I'll help you manage E-commerce Customer Retention. Here's a comprehensive business solution:\n\n**Business Scenario:** E-commerce Customer Retention\n**Context:** Implementing customer retention campaigns for an e-commerce business with personalized messaging\n\n**Key Challenges:**\n- Customer lifecycle management\n- Personalization at scale\n- Cart abandonment recovery\n- Loyalty program integration\n\n**Recommended Solutions:**\n- Lifecycle segmentation\n- Dynamic content\n- Behavioral triggers\n- Loyalty automation\n\n**Implementation Strategy:**\n\n**1. Audience Segmentation:**\n```json\n{\n  \"segments\": [\n    {\n      \"name\": \"Primary Audience\",\n      \"criteria\": {\n        \"engagement\": \"high\",\n        \"industry\": \"relevant\",\n        \"location\": \"target_region\"\n      }\n    },\n    {\n      \"name\": \"Secondary Audience\",\n      \"criteria\": {\n        \"engagement\": \"medium\",\n        \"potential\": \"high\"\n      }\n    }\n  ]\n}\n```\n\n**2. Campaign Structure:**\n```json\n{\n  \"campaigns\": [\n    {\n      \"name\": \"Initial Outreach\",\n      \"type\": \"announcement\",\n      \"audience\": \"primary\",\n      \"timing\": \"immediate\"\n    },\n    {\n      \"name\": \"Follow-up Series\",\n      \"type\": \"nurture\",\n      \"audience\": \"all\",\n      \"timing\": \"staggered\"\n    },\n    {\n      \"name\": \"Final Reminder\",\n      \"type\": \"urgency\",\n      \"audience\": \"non_responders\",\n      \"timing\": \"deadline_approach\"\n    }\n  ]\n}\n```\n\n**3. Automation Workflows:**\n```json\n{\n  \"workflows\": [\n    {\n      \"trigger\": \"RSVP_RECEIVED\",\n      \"actions\": [\n        \"send_confirmation\",\n        \"update_attendance_list\",\n        \"trigger_follow_up_sequence\"\n      ]\n    },\n    {\n      \"trigger\": \"EVENT_REMINDER\",\n      \"actions\": [\n        \"send_reminder_email\",\n        \"update_calendar_invite\",\n        \"check_capacity\"\n      ]\n    }\n  ]\n}\n```\n\n**4. Performance Tracking:**\n```json\n{\n  \"metrics\": {\n    \"rsvp_rate\": \"target_80_percent\",\n    \"email_open_rate\": \"target_25_percent\",\n    \"click_through_rate\": \"target_5_percent\",\n    \"conversion_rate\": \"target_15_percent\"\n  },\n  \"reporting\": [\n    \"daily_rsvp_summary\",\n    \"weekly_engagement_report\",\n    \"monthly_performance_analysis\"\n  ]\n}\n```\n\n**5. Integration Points:**\n- **CRM Integration**: Sync RSVP data with customer records\n- **Calendar Integration**: Automatically create calendar events\n- **Payment Integration**: Handle event fees and donations\n- **Analytics Integration**: Track engagement and conversions\n\n**Best Practices:**\n- Start with a pilot group to test the process\n- Use A/B testing to optimize messaging\n- Implement feedback loops for continuous improvement\n- Monitor key metrics and adjust strategies\n- Maintain data quality and compliance\n\n**Success Metrics:**\n- RSVP completion rate\n- Email engagement rates\n- Event attendance rate\n- Customer satisfaction scores\n- Revenue impact (if applicable)\n\nWould you like me to help you implement any specific part of this solution?"
  },
  {
    "instruction": "Manage email campaigns",
    "input": "Get campaign details",
    "output": "I'll help you manage your campaigns. Here are the available actions:\n\n**List Campaigns:**\n```\nGET /api/admin/campaign/campaigns\n```\n\n**Response:**\n```json\n{\n  \"campaigns\": [\n    {\n      \"id\": \"campaign-id\",\n      \"name\": \"Campaign Name\",\n      \"description\": \"Description\",\n      \"status\": \"DRAFT\",\n      \"meta\": {},\n      \"createdAt\": \"2025-01-15T10:00:00Z\",\n      \"updatedAt\": \"2025-01-15T10:00:00Z\",\n      \"schedules\": []\n    }\n  ]\n}\n```\n\n**Get Campaign Details:**\n```\nGET /api/admin/campaign/campaigns/[id]\n```\n\n**Update Campaign:**\n```\nPUT /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"id\": \"campaign-id\",\n  \"name\": \"Updated Name\",\n  \"description\": \"Updated description\",\n  \"status\": \"SCHEDULED\",\n  \"steps\": []\n}\n```\n\n**Delete Campaign:**\n```\nDELETE /api/admin/campaign/campaigns/[id]\n```\n\n**Campaign Status Values:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\nLet me execute the appropriate action for your request."
  },
  {
    "instruction": "Create and manage campaign schedules",
    "input": "Schedule with timezone",
    "output": "I'll help you create a campaign schedule. Here's what I need:\n\n**Required Information:**\n1. **Schedule Name**: What should we call this schedule?\n2. **Template ID**: Which email template to use?\n3. **Group ID**: Which audience group to target?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/schedules\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Schedule Name\",\n  \"templateId\": \"template-id\",\n  \"groupId\": \"audience-group-id\",\n  \"campaignId\": \"campaign-id\",\n  \"sendAt\": \"2025-01-15T10:00:00Z\",\n  \"throttlePerMinute\": 60,\n  \"repeatIntervalMins\": null,\n  \"stepOrder\": 1,\n  \"smartWindowStart\": \"2025-01-15T09:00:00Z\",\n  \"smartWindowEnd\": \"2025-01-15T17:00:00Z\",\n  \"timeZone\": \"America/Vancouver\",\n  \"status\": \"DRAFT\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Schedule name\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n\n**Optional Fields:**\n- `campaignId` (string) - Associated campaign ID\n- `sendAt` (ISO date string) - When to send (null for immediate)\n- `throttlePerMinute` (number) - Email sending rate (default: 60)\n- `repeatIntervalMins` (number) - Recurring interval in minutes\n- `stepOrder` (number) - Order in multi-step campaign (default: 1)\n- `smartWindowStart` (ISO date string) - Smart sending window start\n- `smartWindowEnd` (ISO date string) - Smart sending window end\n- `timeZone` (string) - Timezone (default: \"America/Vancouver\")\n- `status` (string) - Schedule status\n\n**Schedule Status Options:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\n**Response:**\n```json\n{\n  \"schedule\": {\n    \"id\": \"schedule-id\",\n    \"name\": \"Schedule Name\",\n    \"templateId\": \"template-id\",\n    \"groupId\": \"audience-group-id\",\n    \"status\": \"DRAFT\",\n    \"sendAt\": \"2025-01-15T10:00:00Z\",\n    \"timeZone\": \"America/Vancouver\",\n    \"throttlePerMinute\": 60,\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you set up the schedule details?"
  },
  {
    "instruction": "View and manage RSVP data",
    "input": "Show RSVP analytics",
    "output": "I'll help you view RSVP data. Here's what I can show you:\n\n**RSVP Data Structure:**\n```json\n{\n  \"id\": \"rsvp-id\",\n  \"fullName\": \"John Doe\",\n  \"organization\": \"Company Name\",\n  \"email\": \"john@example.com\",\n  \"phone\": \"+1234567890\",\n  \"attendanceStatus\": \"CONFIRMED\",\n  \"attendeeCount\": 2,\n  \"dietaryPreference\": \"VEGETARIAN\",\n  \"dietaryOther\": \"No nuts\",\n  \"accessibilityNeeds\": \"Wheelchair access\",\n  \"referralSource\": \"WEBSITE\",\n  \"referralOther\": \"Google search\",\n  \"wantsResources\": true,\n  \"wantsAudit\": false,\n  \"learningGoal\": \"Learn about new technologies\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"google\",\n  \"utmMedium\": \"cpc\",\n  \"utmCampaign\": \"summer-event\",\n  \"utmTerm\": \"tech conference\",\n  \"utmContent\": \"banner-ad\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"tz\": \"America/Vancouver\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"ipHash\": \"hashed-ip\",\n  \"screenW\": 1920,\n  \"screenH\": 1080,\n  \"dpr\": 2.0,\n  \"platform\": \"MacIntel\",\n  \"device\": \"desktop\",\n  \"browser\": \"Chrome\",\n  \"meta\": \"additional data\"\n}\n```\n\n**Key Fields:**\n- `attendanceStatus` (string) - CONFIRMED, CANCELLED, etc.\n- `attendeeCount` (number) - Number of attendees\n- `dietaryPreference` (string) - Dietary requirements\n- `accessibilityNeeds` (string) - Accessibility requirements\n- `referralSource` (string) - How they found the event\n- `wantsResources` (boolean) - Wants additional resources\n- `wantsAudit` (boolean) - Wants audit information\n- `learningGoal` (string) - What they want to learn\n\n**Tracking Data:**\n- `visitorId` - Unique visitor identifier\n- `sessionId` - Session identifier\n- `referrer` - Referring URL\n- `utmSource`, `utmMedium`, `utmCampaign`, `utmTerm`, `utmContent` - UTM tracking\n- `userAgent` - Browser information\n- `language` - User language\n- `tz` - Timezone\n- `country`, `region`, `city` - Geographic data\n- `ipHash` - Hashed IP address\n- `screenW`, `screenH`, `dpr` - Screen information\n- `platform`, `device`, `browser` - Device information\n\n**Database Constraints:**\n- `email` field is unique\n- `id` is primary key (cuid)\n\n**API Endpoint:**\n```\nPOST /api/rsvp\n```\n\n**Security Features:**\n- CSRF protection\n- Rate limiting\n- Input validation\n- Test detection\n- Security logging\n\nLet me show you the RSVP data based on your request."
  },
  {
    "instruction": "View and manage RSVP data",
    "input": "List accessibility needs",
    "output": "I'll help you view RSVP data. Here's what I can show you:\n\n**RSVP Data Structure:**\n```json\n{\n  \"id\": \"rsvp-id\",\n  \"fullName\": \"John Doe\",\n  \"organization\": \"Company Name\",\n  \"email\": \"john@example.com\",\n  \"phone\": \"+1234567890\",\n  \"attendanceStatus\": \"CONFIRMED\",\n  \"attendeeCount\": 2,\n  \"dietaryPreference\": \"VEGETARIAN\",\n  \"dietaryOther\": \"No nuts\",\n  \"accessibilityNeeds\": \"Wheelchair access\",\n  \"referralSource\": \"WEBSITE\",\n  \"referralOther\": \"Google search\",\n  \"wantsResources\": true,\n  \"wantsAudit\": false,\n  \"learningGoal\": \"Learn about new technologies\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"google\",\n  \"utmMedium\": \"cpc\",\n  \"utmCampaign\": \"summer-event\",\n  \"utmTerm\": \"tech conference\",\n  \"utmContent\": \"banner-ad\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"tz\": \"America/Vancouver\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"ipHash\": \"hashed-ip\",\n  \"screenW\": 1920,\n  \"screenH\": 1080,\n  \"dpr\": 2.0,\n  \"platform\": \"MacIntel\",\n  \"device\": \"desktop\",\n  \"browser\": \"Chrome\",\n  \"meta\": \"additional data\"\n}\n```\n\n**Key Fields:**\n- `attendanceStatus` (string) - CONFIRMED, CANCELLED, etc.\n- `attendeeCount` (number) - Number of attendees\n- `dietaryPreference` (string) - Dietary requirements\n- `accessibilityNeeds` (string) - Accessibility requirements\n- `referralSource` (string) - How they found the event\n- `wantsResources` (boolean) - Wants additional resources\n- `wantsAudit` (boolean) - Wants audit information\n- `learningGoal` (string) - What they want to learn\n\n**Tracking Data:**\n- `visitorId` - Unique visitor identifier\n- `sessionId` - Session identifier\n- `referrer` - Referring URL\n- `utmSource`, `utmMedium`, `utmCampaign`, `utmTerm`, `utmContent` - UTM tracking\n- `userAgent` - Browser information\n- `language` - User language\n- `tz` - Timezone\n- `country`, `region`, `city` - Geographic data\n- `ipHash` - Hashed IP address\n- `screenW`, `screenH`, `dpr` - Screen information\n- `platform`, `device`, `browser` - Device information\n\n**Database Constraints:**\n- `email` field is unique\n- `id` is primary key (cuid)\n\n**API Endpoint:**\n```\nPOST /api/rsvp\n```\n\n**Security Features:**\n- CSRF protection\n- Rate limiting\n- Input validation\n- Test detection\n- Security logging\n\nLet me show you the RSVP data based on your request."
  },
  {
    "instruction": "Explain system architecture and technical details",
    "input": "What's the file structure?",
    "output": "I'll explain the technical architecture of the RSVP system:\n\n**System Architecture:**\n\n**Frontend:**\n- **Framework**: Next.js 14 with React\n- **Styling**: Tailwind CSS\n- **Animations**: Framer Motion\n- **State Management**: React hooks (useState, useEffect)\n- **Authentication**: Session-based with cookies\n\n**Backend:**\n- **Runtime**: Node.js\n- **Framework**: Next.js API routes\n- **Database**: PostgreSQL with Prisma ORM\n- **Email Service**: Resend API\n- **Vector Database**: Weaviate (for RAG)\n- **AI Integration**: Gemini 2.5 Flash\n\n**Database Models:**\n- `RSVP` - Event RSVP submissions\n- `Visit` - Website visit tracking\n- `CampaignTemplate` - Email templates\n- `Campaign` - Email campaigns\n- `AudienceGroup` - Audience segmentation\n- `AudienceMember` - Individual audience members\n- `CampaignSchedule` - Campaign scheduling\n- `CampaignSend` - Individual email sends\n\n**API Structure:**\n- `/api/rsvp` - RSVP form submission\n- `/api/admin/campaign/campaigns` - Campaign management\n- `/api/admin/campaign/schedules` - Schedule management\n- `/api/admin/campaign/templates` - Template management\n- `/api/admin/campaign/groups` - Audience group management\n- `/api/admin/campaign/send` - Email sending\n- `/api/admin/export` - Data export\n- `/api/unsubscribe` - Unsubscribe handling\n- `/api/l/[token]` - Link tracking\n- `/api/__pixel` - Email open tracking\n\n**Security Features:**\n- CSRF protection with origin/referer validation\n- Rate limiting with IP fingerprinting\n- Input validation with Zod schemas\n- Test detection to prevent spam\n- Security logging for monitoring\n- Secure headers with CSP\n\n**Environment Variables:**\n- `DATABASE_URL` - PostgreSQL connection\n- `RESEND_API_KEY` - Email service\n- `GEMINI_API_KEY` - AI service\n- `WEAVIATE_URL` - Vector database\n- `WEAVIATE_API_KEY` - Vector database auth\n- `CRON_SECRET` - Cron job authentication\n\n**File Structure:**\n```\nrsvp-app/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 app/           # Next.js app router\n\u2502   \u2502   \u251c\u2500\u2500 api/       # API routes\n\u2502   \u2502   \u251c\u2500\u2500 admin/     # Admin panel\n\u2502   \u2502   \u2514\u2500\u2500 (public)/  # Public pages\n\u2502   \u251c\u2500\u2500 components/    # React components\n\u2502   \u251c\u2500\u2500 lib/          # Utilities and services\n\u2502   \u2514\u2500\u2500 prisma/       # Database schema\n\u251c\u2500\u2500 public/           # Static assets\n\u2514\u2500\u2500 docs/            # Documentation\n```\n\n**Deployment:**\n- **Platform**: Vercel (frontend)\n- **Database**: Neon (PostgreSQL)\n- **AI Service**: Railway (planned)\n- **Vector DB**: Weaviate Cloud\n\n**Email Delivery:**\n- Resend API for email sending\n- Throttling support (emails per minute)\n- Smart sending windows\n- Timezone support\n- Recurring campaigns\n- Link and open tracking\n\n**AI Assistant (Juniper):**\n- Conversational interface\n- Real-time execution display\n- Tool integration for database operations\n- Context awareness\n- Error handling and recovery\n- Pattern-matching system (to be replaced with fine-tuned SLM)\n\nThis architecture provides a scalable, secure, and maintainable system for RSVP management and email campaigns."
  },
  {
    "instruction": "View and manage RSVP data",
    "input": "Show dietary preferences",
    "output": "I'll help you view RSVP data. Here's what I can show you:\n\n**RSVP Data Structure:**\n```json\n{\n  \"id\": \"rsvp-id\",\n  \"fullName\": \"John Doe\",\n  \"organization\": \"Company Name\",\n  \"email\": \"john@example.com\",\n  \"phone\": \"+1234567890\",\n  \"attendanceStatus\": \"CONFIRMED\",\n  \"attendeeCount\": 2,\n  \"dietaryPreference\": \"VEGETARIAN\",\n  \"dietaryOther\": \"No nuts\",\n  \"accessibilityNeeds\": \"Wheelchair access\",\n  \"referralSource\": \"WEBSITE\",\n  \"referralOther\": \"Google search\",\n  \"wantsResources\": true,\n  \"wantsAudit\": false,\n  \"learningGoal\": \"Learn about new technologies\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"google\",\n  \"utmMedium\": \"cpc\",\n  \"utmCampaign\": \"summer-event\",\n  \"utmTerm\": \"tech conference\",\n  \"utmContent\": \"banner-ad\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"tz\": \"America/Vancouver\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"ipHash\": \"hashed-ip\",\n  \"screenW\": 1920,\n  \"screenH\": 1080,\n  \"dpr\": 2.0,\n  \"platform\": \"MacIntel\",\n  \"device\": \"desktop\",\n  \"browser\": \"Chrome\",\n  \"meta\": \"additional data\"\n}\n```\n\n**Key Fields:**\n- `attendanceStatus` (string) - CONFIRMED, CANCELLED, etc.\n- `attendeeCount` (number) - Number of attendees\n- `dietaryPreference` (string) - Dietary requirements\n- `accessibilityNeeds` (string) - Accessibility requirements\n- `referralSource` (string) - How they found the event\n- `wantsResources` (boolean) - Wants additional resources\n- `wantsAudit` (boolean) - Wants audit information\n- `learningGoal` (string) - What they want to learn\n\n**Tracking Data:**\n- `visitorId` - Unique visitor identifier\n- `sessionId` - Session identifier\n- `referrer` - Referring URL\n- `utmSource`, `utmMedium`, `utmCampaign`, `utmTerm`, `utmContent` - UTM tracking\n- `userAgent` - Browser information\n- `language` - User language\n- `tz` - Timezone\n- `country`, `region`, `city` - Geographic data\n- `ipHash` - Hashed IP address\n- `screenW`, `screenH`, `dpr` - Screen information\n- `platform`, `device`, `browser` - Device information\n\n**Database Constraints:**\n- `email` field is unique\n- `id` is primary key (cuid)\n\n**API Endpoint:**\n```\nPOST /api/rsvp\n```\n\n**Security Features:**\n- CSRF protection\n- Rate limiting\n- Input validation\n- Test detection\n- Security logging\n\nLet me show you the RSVP data based on your request."
  },
  {
    "instruction": "Create a new email campaign",
    "input": "Create a campaign for the webinar announcement",
    "output": "I'll help you create a new campaign. Based on your request, here's what I need:\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Steps**: Campaign steps with templateId, groupId, and scheduling\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Optional description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"template-id\",\n      \"groupId\": \"audience-group-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1\n    }\n  ]\n}\n```\n\n**Campaign Status Options:**\n- `DRAFT` - Not yet ready to send\n- `SCHEDULED` - Scheduled for future send\n- `SENDING` - Currently being sent\n- `PAUSED` - Temporarily paused\n- `COMPLETED` - Finished sending\n- `CANCELLED` - Cancelled\n\n**Required Fields:**\n- `name` (string) - Campaign name\n- `steps` (array) - Array of campaign steps\n\n**Step Object Required Fields:**\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n- `stepOrder` (number) - Order of execution\n\n**Optional Step Fields:**\n- `sendAt` (ISO date string) - When to send\n- `throttlePerMinute` (number) - Email sending rate\n- `timeZone` (string) - Timezone for scheduling\n\nWould you like me to help you set up the campaign steps?"
  },
  {
    "instruction": "Manage email campaigns",
    "input": "Show campaign status",
    "output": "I'll help you manage your campaigns. Here are the available actions:\n\n**List Campaigns:**\n```\nGET /api/admin/campaign/campaigns\n```\n\n**Response:**\n```json\n{\n  \"campaigns\": [\n    {\n      \"id\": \"campaign-id\",\n      \"name\": \"Campaign Name\",\n      \"description\": \"Description\",\n      \"status\": \"DRAFT\",\n      \"meta\": {},\n      \"createdAt\": \"2025-01-15T10:00:00Z\",\n      \"updatedAt\": \"2025-01-15T10:00:00Z\",\n      \"schedules\": []\n    }\n  ]\n}\n```\n\n**Get Campaign Details:**\n```\nGET /api/admin/campaign/campaigns/[id]\n```\n\n**Update Campaign:**\n```\nPUT /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"id\": \"campaign-id\",\n  \"name\": \"Updated Name\",\n  \"description\": \"Updated description\",\n  \"status\": \"SCHEDULED\",\n  \"steps\": []\n}\n```\n\n**Delete Campaign:**\n```\nDELETE /api/admin/campaign/campaigns/[id]\n```\n\n**Campaign Status Values:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\nLet me execute the appropriate action for your request."
  },
  {
    "instruction": "View analytics and generate reports",
    "input": "Generate a monthly report",
    "output": "I'll help you analyze your email performance. Here's what I can show you:\n\n**Campaign Analytics:**\n\n**CampaignSend Status Tracking:**\n```json\n{\n  \"id\": \"send-id\",\n  \"scheduleId\": \"schedule-id\",\n  \"groupId\": \"group-id\",\n  \"templateId\": \"template-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"email\": \"email@example.com\",\n  \"inviteToken\": \"token\",\n  \"inviteLink\": \"https://example.com/l/token\",\n  \"resendMessageId\": \"resend-message-id\",\n  \"status\": \"SENT\",\n  \"error\": null,\n  \"meta\": {},\n  \"sentAt\": \"2025-01-15T10:00:00Z\",\n  \"openedAt\": \"2025-01-15T10:05:00Z\",\n  \"visitedAt\": \"2025-01-15T10:10:00Z\"\n}\n```\n\n**CampaignSend Status Values:**\n- `PENDING` - Not yet sent\n- `SENDING` - Currently being sent\n- `SENT` - Successfully sent\n- `FAILED` - Failed to send\n- `SKIPPED` - Skipped (e.g., unsubscribed)\n\n**Key Metrics:**\n- **Sent Count**: Total emails sent\n- **Open Rate**: Percentage of emails opened (openedAt not null)\n- **Click Rate**: Percentage of emails clicked (visitedAt not null)\n- **Bounce Rate**: Percentage of failed sends\n- **Unsubscribe Rate**: Percentage of unsubscribed members\n\n**Visit Tracking:**\n```json\n{\n  \"id\": \"visit-id\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"path\": \"/event-page\",\n  \"query\": \"?utm_source=email\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"email\",\n  \"utmMedium\": \"newsletter\",\n  \"utmCampaign\": \"summer-event\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"timeOnPageMs\": 30000,\n  \"scrollDepth\": 75\n}\n```\n\n**Analytics Endpoints:**\n- `GET /api/admin/campaign/dashboard` - Dashboard overview\n- `GET /api/admin/export` - Export data\n- `GET /api/l/[token]` - Track link clicks\n- `GET /api/__pixel` - Track email opens\n\n**Export Options:**\n- CSV format for RSVP data\n- JSON format for campaign data\n- Filtered by date range\n- Filtered by campaign/group\n\n**Performance Tracking:**\n- Email delivery rates\n- Open and click tracking\n- Geographic distribution\n- Device and browser analytics\n- Time-based performance\n- A/B testing results\n\nLet me generate the appropriate analytics report for your request."
  },
  {
    "instruction": "View analytics and generate reports",
    "input": "Show me campaign analytics",
    "output": "I'll help you analyze your email performance. Here's what I can show you:\n\n**Campaign Analytics:**\n\n**CampaignSend Status Tracking:**\n```json\n{\n  \"id\": \"send-id\",\n  \"scheduleId\": \"schedule-id\",\n  \"groupId\": \"group-id\",\n  \"templateId\": \"template-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"email\": \"email@example.com\",\n  \"inviteToken\": \"token\",\n  \"inviteLink\": \"https://example.com/l/token\",\n  \"resendMessageId\": \"resend-message-id\",\n  \"status\": \"SENT\",\n  \"error\": null,\n  \"meta\": {},\n  \"sentAt\": \"2025-01-15T10:00:00Z\",\n  \"openedAt\": \"2025-01-15T10:05:00Z\",\n  \"visitedAt\": \"2025-01-15T10:10:00Z\"\n}\n```\n\n**CampaignSend Status Values:**\n- `PENDING` - Not yet sent\n- `SENDING` - Currently being sent\n- `SENT` - Successfully sent\n- `FAILED` - Failed to send\n- `SKIPPED` - Skipped (e.g., unsubscribed)\n\n**Key Metrics:**\n- **Sent Count**: Total emails sent\n- **Open Rate**: Percentage of emails opened (openedAt not null)\n- **Click Rate**: Percentage of emails clicked (visitedAt not null)\n- **Bounce Rate**: Percentage of failed sends\n- **Unsubscribe Rate**: Percentage of unsubscribed members\n\n**Visit Tracking:**\n```json\n{\n  \"id\": \"visit-id\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"path\": \"/event-page\",\n  \"query\": \"?utm_source=email\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"email\",\n  \"utmMedium\": \"newsletter\",\n  \"utmCampaign\": \"summer-event\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"timeOnPageMs\": 30000,\n  \"scrollDepth\": 75\n}\n```\n\n**Analytics Endpoints:**\n- `GET /api/admin/campaign/dashboard` - Dashboard overview\n- `GET /api/admin/export` - Export data\n- `GET /api/l/[token]` - Track link clicks\n- `GET /api/__pixel` - Track email opens\n\n**Export Options:**\n- CSV format for RSVP data\n- JSON format for campaign data\n- Filtered by date range\n- Filtered by campaign/group\n\n**Performance Tracking:**\n- Email delivery rates\n- Open and click tracking\n- Geographic distribution\n- Device and browser analytics\n- Time-based performance\n- A/B testing results\n\nLet me generate the appropriate analytics report for your request."
  },
  {
    "instruction": "Create and manage email templates",
    "input": "Make a template for promotional emails",
    "output": "I'll help you create a new email template. Here's what I need:\n\n**Required Information:**\n1. **Template Name**: What should we call this template?\n2. **Subject**: Email subject line\n3. **HTML Body**: Rich HTML content\n4. **Text Body**: Plain text version (optional)\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/templates\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Template Name\",\n  \"subject\": \"Email Subject\",\n  \"htmlBody\": \"<h1>Hello {name}</h1><p>Content here</p>\",\n  \"textBody\": \"Hello {name}\\n\\nContent here\",\n  \"meta\": {},\n  \"greeting_title\": \"Welcome!\",\n  \"greeting_message\": \"Thank you for joining us\",\n  \"signature_name\": \"Your Name\",\n  \"signature_title\": \"Your Title\",\n  \"signature_company\": \"Your Company\",\n  \"signature_location\": \"Your Location\",\n  \"main_content_title\": \"Main Title\",\n  \"main_content_body\": \"Main content here\",\n  \"button_text\": \"Click Here\",\n  \"additional_info_title\": \"Additional Info\",\n  \"additional_info_body\": \"Additional details\",\n  \"closing_title\": \"Thank You\",\n  \"closing_message\": \"Best regards\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Template name\n- `subject` (string) - Email subject\n- `htmlBody` (string) - HTML content\n- `meta` (object) - Template metadata\n\n**Optional Fields:**\n- `textBody` (string) - Plain text version\n- `greeting_title` (string) - Greeting title\n- `greeting_message` (string) - Greeting message\n- `signature_name` (string) - Signature name\n- `signature_title` (string) - Signature title\n- `signature_company` (string) - Signature company\n- `signature_location` (string) - Signature location\n- `main_content_title` (string) - Main content title\n- `main_content_body` (string) - Main content body\n- `button_text` (string) - Button text\n- `additional_info_title` (string) - Additional info title\n- `additional_info_body` (string) - Additional info body\n- `closing_title` (string) - Closing title\n- `closing_message` (string) - Closing message\n\n**Template Variables:**\n- `{name}` - Recipient's name\n- `{email}` - Recipient's email\n- `{firstName}` - First name\n- `{lastName}` - Last name\n- `{unsubscribeUrl}` - Unsubscribe link\n\n**Response:**\n```json\n{\n  \"template\": {\n    \"id\": \"template-id\",\n    \"name\": \"Template Name\",\n    \"subject\": \"Email Subject\",\n    \"htmlBody\": \"<h1>Hello {name}</h1>\",\n    \"textBody\": \"Hello {name}\",\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you create this template with some default content?"
  },
  {
    "instruction": "Create and manage campaign schedules",
    "input": "Schedule for tomorrow",
    "output": "I'll help you create a campaign schedule. Here's what I need:\n\n**Required Information:**\n1. **Schedule Name**: What should we call this schedule?\n2. **Template ID**: Which email template to use?\n3. **Group ID**: Which audience group to target?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/schedules\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Schedule Name\",\n  \"templateId\": \"template-id\",\n  \"groupId\": \"audience-group-id\",\n  \"campaignId\": \"campaign-id\",\n  \"sendAt\": \"2025-01-15T10:00:00Z\",\n  \"throttlePerMinute\": 60,\n  \"repeatIntervalMins\": null,\n  \"stepOrder\": 1,\n  \"smartWindowStart\": \"2025-01-15T09:00:00Z\",\n  \"smartWindowEnd\": \"2025-01-15T17:00:00Z\",\n  \"timeZone\": \"America/Vancouver\",\n  \"status\": \"DRAFT\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Schedule name\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n\n**Optional Fields:**\n- `campaignId` (string) - Associated campaign ID\n- `sendAt` (ISO date string) - When to send (null for immediate)\n- `throttlePerMinute` (number) - Email sending rate (default: 60)\n- `repeatIntervalMins` (number) - Recurring interval in minutes\n- `stepOrder` (number) - Order in multi-step campaign (default: 1)\n- `smartWindowStart` (ISO date string) - Smart sending window start\n- `smartWindowEnd` (ISO date string) - Smart sending window end\n- `timeZone` (string) - Timezone (default: \"America/Vancouver\")\n- `status` (string) - Schedule status\n\n**Schedule Status Options:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\n**Response:**\n```json\n{\n  \"schedule\": {\n    \"id\": \"schedule-id\",\n    \"name\": \"Schedule Name\",\n    \"templateId\": \"template-id\",\n    \"groupId\": \"audience-group-id\",\n    \"status\": \"DRAFT\",\n    \"sendAt\": \"2025-01-15T10:00:00Z\",\n    \"timeZone\": \"America/Vancouver\",\n    \"throttlePerMinute\": 60,\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you set up the schedule details?"
  },
  {
    "instruction": "Handle edge cases and errors",
    "input": "What happens if I create a campaign with an empty audience group?",
    "output": "I'll explain what happens when you create a campaign with an empty audience group:\n\n**Empty Audience Group Behavior:**\n\n**Campaign Creation:**\n- Campaign can be created successfully\n- Status will be DRAFT\n- No emails will be sent initially\n\n**Scheduling:**\n- Schedule can be set up normally\n- `sendAt` time can be configured\n- Campaign will remain in SCHEDULED status\n\n**Execution:**\n- When send time arrives, system will check audience\n- If no members found, campaign status becomes COMPLETED\n- No emails sent, no errors generated\n\n**API Response:**\n```json\n{\n  \"result\": {\n    \"totalMembers\": 0,\n    \"emailsSent\": 0,\n    \"status\": \"COMPLETED\",\n    \"message\": \"No members found in audience group\"\n  }\n}\n```\n\n**Monitoring:**\n- Check audience group member count before sending\n- Use dashboard to monitor campaign status\n- Set up alerts for empty audiences\n\n**Prevention:**\n- Validate audience groups before campaign creation\n- Use audience group member count in UI\n- Provide warnings for empty groups\n\n**Database Queries:**\n```sql\nSELECT COUNT(*) FROM \"AudienceMember\" WHERE \"groupId\" = 'group-id';\n```\n\n**Best Practices:**\n- Always check audience size before campaigns\n- Use audience group descriptions\n- Implement member count validation\n- Provide clear feedback to users\n\nWould you like me to help you set up audience validation for your campaigns?"
  },
  {
    "instruction": "Create a detailed email campaign",
    "input": "Set up a birthday/anniversary campaign",
    "output": "I'll help you create a comprehensive campaign for: Set up a birthday/anniversary campaign\n\n**Campaign Overview:**\nPersonalized messages for customer milestones with special offers\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Target Audience**: Which audience group should receive this?\n3. **Email Templates**: Do you have existing templates or need new ones?\n4. **Timing**: When should this campaign start?\n5. **Frequency**: How often should emails be sent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Campaign Structure:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Detailed description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"welcome-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1,\n      \"throttlePerMinute\": 60\n    },\n    {\n      \"templateId\": \"follow-up-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-16T10:00:00Z\",\n      \"stepOrder\": 2,\n      \"throttlePerMinute\": 60\n    }\n  ]\n}\n```\n\n**Campaign Best Practices:**\n- Start with DRAFT status for testing\n- Use appropriate throttle rates (60 emails/minute recommended)\n- Set clear step orders for multi-step campaigns\n- Include timezone considerations\n- Test with small audience first\n\n**Next Steps:**\n1. Create or select email templates\n2. Define target audience groups\n3. Set up campaign steps with proper timing\n4. Test the campaign flow\n5. Schedule for production\n\nWould you like me to help you set up any specific part of this campaign?"
  },
  {
    "instruction": "Create and manage campaign schedules",
    "input": "Create a throttled schedule",
    "output": "I'll help you create a campaign schedule. Here's what I need:\n\n**Required Information:**\n1. **Schedule Name**: What should we call this schedule?\n2. **Template ID**: Which email template to use?\n3. **Group ID**: Which audience group to target?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/schedules\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Schedule Name\",\n  \"templateId\": \"template-id\",\n  \"groupId\": \"audience-group-id\",\n  \"campaignId\": \"campaign-id\",\n  \"sendAt\": \"2025-01-15T10:00:00Z\",\n  \"throttlePerMinute\": 60,\n  \"repeatIntervalMins\": null,\n  \"stepOrder\": 1,\n  \"smartWindowStart\": \"2025-01-15T09:00:00Z\",\n  \"smartWindowEnd\": \"2025-01-15T17:00:00Z\",\n  \"timeZone\": \"America/Vancouver\",\n  \"status\": \"DRAFT\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Schedule name\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n\n**Optional Fields:**\n- `campaignId` (string) - Associated campaign ID\n- `sendAt` (ISO date string) - When to send (null for immediate)\n- `throttlePerMinute` (number) - Email sending rate (default: 60)\n- `repeatIntervalMins` (number) - Recurring interval in minutes\n- `stepOrder` (number) - Order in multi-step campaign (default: 1)\n- `smartWindowStart` (ISO date string) - Smart sending window start\n- `smartWindowEnd` (ISO date string) - Smart sending window end\n- `timeZone` (string) - Timezone (default: \"America/Vancouver\")\n- `status` (string) - Schedule status\n\n**Schedule Status Options:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\n**Response:**\n```json\n{\n  \"schedule\": {\n    \"id\": \"schedule-id\",\n    \"name\": \"Schedule Name\",\n    \"templateId\": \"template-id\",\n    \"groupId\": \"audience-group-id\",\n    \"status\": \"DRAFT\",\n    \"sendAt\": \"2025-01-15T10:00:00Z\",\n    \"timeZone\": \"America/Vancouver\",\n    \"throttlePerMinute\": 60,\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you set up the schedule details?"
  },
  {
    "instruction": "Create a new email campaign",
    "input": "I need a campaign for our beta testers",
    "output": "I'll help you create a new campaign. Based on your request, here's what I need:\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Steps**: Campaign steps with templateId, groupId, and scheduling\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Optional description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"template-id\",\n      \"groupId\": \"audience-group-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1\n    }\n  ]\n}\n```\n\n**Campaign Status Options:**\n- `DRAFT` - Not yet ready to send\n- `SCHEDULED` - Scheduled for future send\n- `SENDING` - Currently being sent\n- `PAUSED` - Temporarily paused\n- `COMPLETED` - Finished sending\n- `CANCELLED` - Cancelled\n\n**Required Fields:**\n- `name` (string) - Campaign name\n- `steps` (array) - Array of campaign steps\n\n**Step Object Required Fields:**\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n- `stepOrder` (number) - Order of execution\n\n**Optional Step Fields:**\n- `sendAt` (ISO date string) - When to send\n- `throttlePerMinute` (number) - Email sending rate\n- `timeZone` (string) - Timezone for scheduling\n\nWould you like me to help you set up the campaign steps?"
  },
  {
    "instruction": "Create audience segmentation strategy",
    "input": "Create a lifecycle segmentation group",
    "output": "I'll help you create a Lifecycle Segmentation audience group. Here's a comprehensive setup:\n\n**Segmentation Strategy:** Lifecycle Segmentation\n**Description:** Segment by customer lifecycle stage\n\n**Segmentation Criteria:**\n```json\n{\n  \"name\": \"Lifecycle Segmentation Group\",\n  \"description\": \"Segment by customer lifecycle stage\",\n  \"color\": \"#10b981\",\n  \"criteria\": {\n  \"stage\": \"new_customer\",\n  \"onboardingComplete\": false,\n  \"firstPurchase\": \"recent\",\n  \"supportTickets\": 0\n},\n  \"meta\": {\n    \"createdBy\": \"AI Assistant\",\n    \"purpose\": \"Segment by customer lifecycle stage\",\n    \"lastUpdated\": \"2025-01-15T10:00:00Z\",\n    \"memberCount\": 0,\n    \"autoUpdate\": true\n  }\n}\n```\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/groups\n```\n\n**Implementation Steps:**\n1. **Define Criteria**: Set up the segmentation rules\n2. **Create Group**: Use the API to create the audience group\n3. **Populate Members**: Add existing members or import new ones\n4. **Test Segmentation**: Verify the criteria work correctly\n5. **Monitor Performance**: Track engagement and adjust as needed\n\n**Member Addition:**\n```json\n{\n  \"groupId\": \"group-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"primaryEmail\": \"email@example.com\",\n  \"secondaryEmail\": \"secondary@example.com\",\n  \"tagsSnapshot\": [\"tag1\", \"tag2\"],\n  \"meta\": {\n    \"source\": \"import\",\n    \"addedBy\": \"AI Assistant\",\n    \"addedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\n**Best Practices:**\n- Use clear, measurable criteria\n- Test with small groups first\n- Monitor engagement rates\n- Update criteria regularly\n- Document segmentation logic\n- Use consistent naming conventions\n\n**Performance Metrics:**\n- Open rates by segment\n- Click-through rates\n- Unsubscribe rates\n- Conversion rates\n- Engagement scores\n\n**Automation Opportunities:**\n- Auto-add new members based on criteria\n- Remove inactive members\n- Update tags based on behavior\n- Trigger campaigns based on segment changes\n\nWould you like me to help you implement this segmentation strategy?"
  },
  {
    "instruction": "Manage email campaigns",
    "input": "What's the status of my campaigns?",
    "output": "I'll help you manage your campaigns. Here are the available actions:\n\n**List Campaigns:**\n```\nGET /api/admin/campaign/campaigns\n```\n\n**Response:**\n```json\n{\n  \"campaigns\": [\n    {\n      \"id\": \"campaign-id\",\n      \"name\": \"Campaign Name\",\n      \"description\": \"Description\",\n      \"status\": \"DRAFT\",\n      \"meta\": {},\n      \"createdAt\": \"2025-01-15T10:00:00Z\",\n      \"updatedAt\": \"2025-01-15T10:00:00Z\",\n      \"schedules\": []\n    }\n  ]\n}\n```\n\n**Get Campaign Details:**\n```\nGET /api/admin/campaign/campaigns/[id]\n```\n\n**Update Campaign:**\n```\nPUT /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"id\": \"campaign-id\",\n  \"name\": \"Updated Name\",\n  \"description\": \"Updated description\",\n  \"status\": \"SCHEDULED\",\n  \"steps\": []\n}\n```\n\n**Delete Campaign:**\n```\nDELETE /api/admin/campaign/campaigns/[id]\n```\n\n**Campaign Status Values:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\nLet me execute the appropriate action for your request."
  },
  {
    "instruction": "Create audience segmentation strategy",
    "input": "Create a geographic segmentation group",
    "output": "I'll help you create a Geographic Segmentation audience group. Here's a comprehensive setup:\n\n**Segmentation Strategy:** Geographic Segmentation\n**Description:** Segment by location, timezone, or region\n\n**Segmentation Criteria:**\n```json\n{\n  \"name\": \"Geographic Segmentation Group\",\n  \"description\": \"Segment by location, timezone, or region\",\n  \"color\": \"#10b981\",\n  \"criteria\": {\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"timezone\": \"America/Vancouver\"\n},\n  \"meta\": {\n    \"createdBy\": \"AI Assistant\",\n    \"purpose\": \"Segment by location, timezone, or region\",\n    \"lastUpdated\": \"2025-01-15T10:00:00Z\",\n    \"memberCount\": 0,\n    \"autoUpdate\": true\n  }\n}\n```\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/groups\n```\n\n**Implementation Steps:**\n1. **Define Criteria**: Set up the segmentation rules\n2. **Create Group**: Use the API to create the audience group\n3. **Populate Members**: Add existing members or import new ones\n4. **Test Segmentation**: Verify the criteria work correctly\n5. **Monitor Performance**: Track engagement and adjust as needed\n\n**Member Addition:**\n```json\n{\n  \"groupId\": \"group-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"primaryEmail\": \"email@example.com\",\n  \"secondaryEmail\": \"secondary@example.com\",\n  \"tagsSnapshot\": [\"tag1\", \"tag2\"],\n  \"meta\": {\n    \"source\": \"import\",\n    \"addedBy\": \"AI Assistant\",\n    \"addedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\n**Best Practices:**\n- Use clear, measurable criteria\n- Test with small groups first\n- Monitor engagement rates\n- Update criteria regularly\n- Document segmentation logic\n- Use consistent naming conventions\n\n**Performance Metrics:**\n- Open rates by segment\n- Click-through rates\n- Unsubscribe rates\n- Conversion rates\n- Engagement scores\n\n**Automation Opportunities:**\n- Auto-add new members based on criteria\n- Remove inactive members\n- Update tags based on behavior\n- Trigger campaigns based on segment changes\n\nWould you like me to help you implement this segmentation strategy?"
  },
  {
    "instruction": "Generate analytics report",
    "input": "Generate a campaign performance report",
    "output": "I'll help you generate a Campaign Performance Report. Here's a comprehensive analysis:\n\n**Report Type:** Campaign Performance Report\n**Timeframe:** last_30_days\n**Key Metrics:** open_rate, click_rate, bounce_rate, unsubscribe_rate\n**Breakdown:** by_campaign, by_template, by_audience\n\n**Data Collection:**\n```json\n{\n  \"reportType\": \"Campaign Performance Report\",\n  \"timeframe\": \"last_30_days\",\n  \"metrics\": [\"open_rate\", \"click_rate\", \"bounce_rate\", \"unsubscribe_rate\"],\n  \"breakdown\": [\"by_campaign\", \"by_template\", \"by_audience\"],\n  \"filters\": {\n    \"campaignStatus\": [\"SENT\", \"COMPLETED\"],\n    \"audienceGroups\": [\"all\"],\n    \"excludeTest\": true\n  }\n}\n```\n\n**API Endpoints:**\n- `GET /api/admin/campaign/dashboard` - Dashboard data\n- `GET /api/admin/export` - Export raw data\n- `GET /api/admin/analytics/visitors` - Visitor analytics\n- `GET /api/admin/analytics/tracking-links` - Link performance\n\n**Key Performance Indicators:**\n"
  },
  {
    "instruction": "Set up automation workflow",
    "input": "Create a welcome series automation",
    "output": "I'll help you set up a Welcome Series automation workflow. Here's a comprehensive setup:\n\n**Workflow:** Welcome Series\n**Trigger:** NEW_SUBSCRIBER\n**Description:** Automated welcome email sequence for new subscribers\n\n**Workflow Steps:**\n"
  },
  {
    "instruction": "View and manage RSVP data",
    "input": "List all RSVPs",
    "output": "I'll help you view RSVP data. Here's what I can show you:\n\n**RSVP Data Structure:**\n```json\n{\n  \"id\": \"rsvp-id\",\n  \"fullName\": \"John Doe\",\n  \"organization\": \"Company Name\",\n  \"email\": \"john@example.com\",\n  \"phone\": \"+1234567890\",\n  \"attendanceStatus\": \"CONFIRMED\",\n  \"attendeeCount\": 2,\n  \"dietaryPreference\": \"VEGETARIAN\",\n  \"dietaryOther\": \"No nuts\",\n  \"accessibilityNeeds\": \"Wheelchair access\",\n  \"referralSource\": \"WEBSITE\",\n  \"referralOther\": \"Google search\",\n  \"wantsResources\": true,\n  \"wantsAudit\": false,\n  \"learningGoal\": \"Learn about new technologies\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"google\",\n  \"utmMedium\": \"cpc\",\n  \"utmCampaign\": \"summer-event\",\n  \"utmTerm\": \"tech conference\",\n  \"utmContent\": \"banner-ad\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"tz\": \"America/Vancouver\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"ipHash\": \"hashed-ip\",\n  \"screenW\": 1920,\n  \"screenH\": 1080,\n  \"dpr\": 2.0,\n  \"platform\": \"MacIntel\",\n  \"device\": \"desktop\",\n  \"browser\": \"Chrome\",\n  \"meta\": \"additional data\"\n}\n```\n\n**Key Fields:**\n- `attendanceStatus` (string) - CONFIRMED, CANCELLED, etc.\n- `attendeeCount` (number) - Number of attendees\n- `dietaryPreference` (string) - Dietary requirements\n- `accessibilityNeeds` (string) - Accessibility requirements\n- `referralSource` (string) - How they found the event\n- `wantsResources` (boolean) - Wants additional resources\n- `wantsAudit` (boolean) - Wants audit information\n- `learningGoal` (string) - What they want to learn\n\n**Tracking Data:**\n- `visitorId` - Unique visitor identifier\n- `sessionId` - Session identifier\n- `referrer` - Referring URL\n- `utmSource`, `utmMedium`, `utmCampaign`, `utmTerm`, `utmContent` - UTM tracking\n- `userAgent` - Browser information\n- `language` - User language\n- `tz` - Timezone\n- `country`, `region`, `city` - Geographic data\n- `ipHash` - Hashed IP address\n- `screenW`, `screenH`, `dpr` - Screen information\n- `platform`, `device`, `browser` - Device information\n\n**Database Constraints:**\n- `email` field is unique\n- `id` is primary key (cuid)\n\n**API Endpoint:**\n```\nPOST /api/rsvp\n```\n\n**Security Features:**\n- CSRF protection\n- Rate limiting\n- Input validation\n- Test detection\n- Security logging\n\nLet me show you the RSVP data based on your request."
  },
  {
    "instruction": "Optimize system performance",
    "input": "How do I optimize email delivery?",
    "output": "I'll help you optimize Email Delivery. Here's a comprehensive optimization guide:\n\n**Area:** Email Delivery\n\n**Common Issues:**\n- Slow sending\n- High bounce rates\n- Poor deliverability\n\n**Optimization Solutions:**\n- Optimize throttle rates\n- Clean email lists\n- Improve sender reputation\n- Use smart sending\n\n**Performance Monitoring:**\n```json\n{\n  \"area\": \"Email Delivery\",\n  \"metrics\": {\n    \"responseTime\": \"< 200ms\",\n    \"throughput\": \"> 1000 req/min\",\n    \"errorRate\": \"< 1%\",\n    \"uptime\": \"> 99.9%\"\n  },\n  \"alerts\": [\n    \"High response time\",\n    \"Error rate spike\",\n    \"Resource usage high\"\n  ]\n}\n```\n\n**Implementation Steps:**\n1. **Baseline Measurement**: Measure current performance\n2. **Identify Bottlenecks**: Find performance issues\n3. **Implement Solutions**: Apply optimization techniques\n4. **Test Performance**: Verify improvements\n5. **Monitor Continuously**: Set up ongoing monitoring\n\n**Tools and Techniques:**\n- Performance profiling\n- Database query analysis\n- API response time monitoring\n- Error rate tracking\n- Resource usage monitoring\n\n**Best Practices:**\n- Regular performance audits\n- Proactive monitoring\n- Gradual optimization\n- A/B testing improvements\n- Documentation of changes\n\nWould you like me to help you implement specific optimizations?"
  },
  {
    "instruction": "Implement industry-specific solutions",
    "input": "How do I set up email campaigns for nonprofit?",
    "output": "I'll help you set up email campaigns for the Nonprofit industry. Here's a comprehensive industry-specific solution:\n\n**Industry:** Nonprofit\n\n**Common Use Cases:**\n- Fundraising events\n- Volunteer coordination\n- Donor communication\n- Community outreach\n\n**Compliance Requirements:**\n- Nonprofit regulations\n- Donor privacy\n- Tax compliance\n- Grant requirements\n\n**Key Features:**\n- Donor management\n- Volunteer coordination\n- Event fundraising\n- Impact tracking\n\n**Industry-Specific Configuration:**\n\n**1. Audience Segmentation:**\n```json\n{\n  \"segments\": [\n    {\n      \"name\": \"Primary Stakeholders\",\n      \"criteria\": {\n        \"role\": \"primary\",\n        \"engagement\": \"high\",\n        \"compliance_status\": \"verified\"\n      }\n    },\n    {\n      \"name\": \"Secondary Audience\",\n      \"criteria\": {\n        \"role\": \"secondary\",\n        \"potential\": \"high\",\n        \"compliance_status\": \"pending\"\n      }\n    }\n  ]\n}\n```\n\n**2. Compliance Templates:**\n```json\n{\n  \"templates\": [\n    {\n      \"name\": \"Compliance Notice\",\n      \"subject\": \"Important Nonprofit Update\",\n      \"content\": \"Industry-specific compliance information\",\n      \"disclaimers\": \"Required legal disclaimers\"\n    },\n    {\n      \"name\": \"Event Invitation\",\n      \"subject\": \"You're Invited: Nonprofit Event\",\n      \"content\": \"Event details and registration\",\n      \"compliance\": \"Industry-specific requirements\"\n    }\n  ]\n}\n```\n\n**3. Data Protection:**\n```json\n{\n  \"data_protection\": {\n    \"encryption\": \"AES-256\",\n    \"access_controls\": \"role_based\",\n    \"audit_logging\": \"comprehensive\",\n    \"retention_policy\": \"industry_compliant\",\n    \"backup_strategy\": \"encrypted_backups\"\n  }\n}\n```\n\n**4. Workflow Automation:**\n```json\n{\n  \"workflows\": [\n    {\n      \"trigger\": \"COMPLIANCE_UPDATE\",\n      \"actions\": [\n        \"send_compliance_notice\",\n        \"update_audit_log\",\n        \"notify_compliance_team\"\n      ]\n    },\n    {\n      \"trigger\": \"EVENT_REGISTRATION\",\n      \"actions\": [\n        \"send_confirmation\",\n        \"update_attendance_list\",\n        \"trigger_reminder_sequence\"\n      ]\n    }\n  ]\n}\n```\n\n**5. Reporting and Analytics:**\n```json\n{\n  \"reporting\": {\n    \"compliance_reports\": \"monthly\",\n    \"engagement_metrics\": \"weekly\",\n    \"audit_trails\": \"real_time\",\n    \"performance_dashboard\": \"daily\"\n  }\n}\n```\n\n**Implementation Checklist:**\n- [ ] Set up industry-specific audience segments\n- [ ] Create compliance-compliant email templates\n- [ ] Implement data protection measures\n- [ ] Configure audit logging\n- [ ] Set up automated workflows\n- [ ] Test compliance requirements\n- [ ] Train team on industry regulations\n- [ ] Establish monitoring and reporting\n\n**Best Practices:**\n- Regular compliance audits\n- Staff training on industry regulations\n- Data minimization principles\n- Transparent communication\n- Continuous monitoring\n- Incident response planning\n\n**Success Metrics:**\n- Compliance adherence rate\n- Engagement rates\n- Event attendance\n- Customer satisfaction\n- Regulatory compliance score\n\nWould you like me to help you implement any specific compliance or industry requirements?"
  },
  {
    "instruction": "Explain system architecture and technical details",
    "input": "What's the system architecture?",
    "output": "I'll explain the technical architecture of the RSVP system:\n\n**System Architecture:**\n\n**Frontend:**\n- **Framework**: Next.js 14 with React\n- **Styling**: Tailwind CSS\n- **Animations**: Framer Motion\n- **State Management**: React hooks (useState, useEffect)\n- **Authentication**: Session-based with cookies\n\n**Backend:**\n- **Runtime**: Node.js\n- **Framework**: Next.js API routes\n- **Database**: PostgreSQL with Prisma ORM\n- **Email Service**: Resend API\n- **Vector Database**: Weaviate (for RAG)\n- **AI Integration**: Gemini 2.5 Flash\n\n**Database Models:**\n- `RSVP` - Event RSVP submissions\n- `Visit` - Website visit tracking\n- `CampaignTemplate` - Email templates\n- `Campaign` - Email campaigns\n- `AudienceGroup` - Audience segmentation\n- `AudienceMember` - Individual audience members\n- `CampaignSchedule` - Campaign scheduling\n- `CampaignSend` - Individual email sends\n\n**API Structure:**\n- `/api/rsvp` - RSVP form submission\n- `/api/admin/campaign/campaigns` - Campaign management\n- `/api/admin/campaign/schedules` - Schedule management\n- `/api/admin/campaign/templates` - Template management\n- `/api/admin/campaign/groups` - Audience group management\n- `/api/admin/campaign/send` - Email sending\n- `/api/admin/export` - Data export\n- `/api/unsubscribe` - Unsubscribe handling\n- `/api/l/[token]` - Link tracking\n- `/api/__pixel` - Email open tracking\n\n**Security Features:**\n- CSRF protection with origin/referer validation\n- Rate limiting with IP fingerprinting\n- Input validation with Zod schemas\n- Test detection to prevent spam\n- Security logging for monitoring\n- Secure headers with CSP\n\n**Environment Variables:**\n- `DATABASE_URL` - PostgreSQL connection\n- `RESEND_API_KEY` - Email service\n- `GEMINI_API_KEY` - AI service\n- `WEAVIATE_URL` - Vector database\n- `WEAVIATE_API_KEY` - Vector database auth\n- `CRON_SECRET` - Cron job authentication\n\n**File Structure:**\n```\nrsvp-app/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 app/           # Next.js app router\n\u2502   \u2502   \u251c\u2500\u2500 api/       # API routes\n\u2502   \u2502   \u251c\u2500\u2500 admin/     # Admin panel\n\u2502   \u2502   \u2514\u2500\u2500 (public)/  # Public pages\n\u2502   \u251c\u2500\u2500 components/    # React components\n\u2502   \u251c\u2500\u2500 lib/          # Utilities and services\n\u2502   \u2514\u2500\u2500 prisma/       # Database schema\n\u251c\u2500\u2500 public/           # Static assets\n\u2514\u2500\u2500 docs/            # Documentation\n```\n\n**Deployment:**\n- **Platform**: Vercel (frontend)\n- **Database**: Neon (PostgreSQL)\n- **AI Service**: Railway (planned)\n- **Vector DB**: Weaviate Cloud\n\n**Email Delivery:**\n- Resend API for email sending\n- Throttling support (emails per minute)\n- Smart sending windows\n- Timezone support\n- Recurring campaigns\n- Link and open tracking\n\n**AI Assistant (Juniper):**\n- Conversational interface\n- Real-time execution display\n- Tool integration for database operations\n- Context awareness\n- Error handling and recovery\n- Pattern-matching system (to be replaced with fine-tuned SLM)\n\nThis architecture provides a scalable, secure, and maintainable system for RSVP management and email campaigns."
  },
  {
    "instruction": "Optimize system performance",
    "input": "How do I optimize database performance?",
    "output": "I'll help you optimize Database Performance. Here's a comprehensive optimization guide:\n\n**Area:** Database Performance\n\n**Common Issues:**\n- Slow queries\n- High memory usage\n- Connection timeouts\n\n**Optimization Solutions:**\n- Add indexes\n- Optimize queries\n- Use connection pooling\n- Implement caching\n\n**Performance Monitoring:**\n```json\n{\n  \"area\": \"Database Performance\",\n  \"metrics\": {\n    \"responseTime\": \"< 200ms\",\n    \"throughput\": \"> 1000 req/min\",\n    \"errorRate\": \"< 1%\",\n    \"uptime\": \"> 99.9%\"\n  },\n  \"alerts\": [\n    \"High response time\",\n    \"Error rate spike\",\n    \"Resource usage high\"\n  ]\n}\n```\n\n**Implementation Steps:**\n1. **Baseline Measurement**: Measure current performance\n2. **Identify Bottlenecks**: Find performance issues\n3. **Implement Solutions**: Apply optimization techniques\n4. **Test Performance**: Verify improvements\n5. **Monitor Continuously**: Set up ongoing monitoring\n\n**Tools and Techniques:**\n- Performance profiling\n- Database query analysis\n- API response time monitoring\n- Error rate tracking\n- Resource usage monitoring\n\n**Best Practices:**\n- Regular performance audits\n- Proactive monitoring\n- Gradual optimization\n- A/B testing improvements\n- Documentation of changes\n\nWould you like me to help you implement specific optimizations?"
  },
  {
    "instruction": "Implement industry-specific solutions",
    "input": "How do I set up email campaigns for education?",
    "output": "I'll help you set up email campaigns for the Education industry. Here's a comprehensive industry-specific solution:\n\n**Industry:** Education\n\n**Common Use Cases:**\n- Student orientation\n- Parent-teacher conferences\n- Educational workshops\n- Alumni events\n\n**Compliance Requirements:**\n- FERPA compliance\n- Student privacy\n- Educational data protection\n- Accessibility requirements\n\n**Key Features:**\n- Student data management\n- Parent communication\n- Event scheduling\n- Resource distribution\n\n**Industry-Specific Configuration:**\n\n**1. Audience Segmentation:**\n```json\n{\n  \"segments\": [\n    {\n      \"name\": \"Primary Stakeholders\",\n      \"criteria\": {\n        \"role\": \"primary\",\n        \"engagement\": \"high\",\n        \"compliance_status\": \"verified\"\n      }\n    },\n    {\n      \"name\": \"Secondary Audience\",\n      \"criteria\": {\n        \"role\": \"secondary\",\n        \"potential\": \"high\",\n        \"compliance_status\": \"pending\"\n      }\n    }\n  ]\n}\n```\n\n**2. Compliance Templates:**\n```json\n{\n  \"templates\": [\n    {\n      \"name\": \"Compliance Notice\",\n      \"subject\": \"Important Education Update\",\n      \"content\": \"Industry-specific compliance information\",\n      \"disclaimers\": \"Required legal disclaimers\"\n    },\n    {\n      \"name\": \"Event Invitation\",\n      \"subject\": \"You're Invited: Education Event\",\n      \"content\": \"Event details and registration\",\n      \"compliance\": \"Industry-specific requirements\"\n    }\n  ]\n}\n```\n\n**3. Data Protection:**\n```json\n{\n  \"data_protection\": {\n    \"encryption\": \"AES-256\",\n    \"access_controls\": \"role_based\",\n    \"audit_logging\": \"comprehensive\",\n    \"retention_policy\": \"industry_compliant\",\n    \"backup_strategy\": \"encrypted_backups\"\n  }\n}\n```\n\n**4. Workflow Automation:**\n```json\n{\n  \"workflows\": [\n    {\n      \"trigger\": \"COMPLIANCE_UPDATE\",\n      \"actions\": [\n        \"send_compliance_notice\",\n        \"update_audit_log\",\n        \"notify_compliance_team\"\n      ]\n    },\n    {\n      \"trigger\": \"EVENT_REGISTRATION\",\n      \"actions\": [\n        \"send_confirmation\",\n        \"update_attendance_list\",\n        \"trigger_reminder_sequence\"\n      ]\n    }\n  ]\n}\n```\n\n**5. Reporting and Analytics:**\n```json\n{\n  \"reporting\": {\n    \"compliance_reports\": \"monthly\",\n    \"engagement_metrics\": \"weekly\",\n    \"audit_trails\": \"real_time\",\n    \"performance_dashboard\": \"daily\"\n  }\n}\n```\n\n**Implementation Checklist:**\n- [ ] Set up industry-specific audience segments\n- [ ] Create compliance-compliant email templates\n- [ ] Implement data protection measures\n- [ ] Configure audit logging\n- [ ] Set up automated workflows\n- [ ] Test compliance requirements\n- [ ] Train team on industry regulations\n- [ ] Establish monitoring and reporting\n\n**Best Practices:**\n- Regular compliance audits\n- Staff training on industry regulations\n- Data minimization principles\n- Transparent communication\n- Continuous monitoring\n- Incident response planning\n\n**Success Metrics:**\n- Compliance adherence rate\n- Engagement rates\n- Event attendance\n- Customer satisfaction\n- Regulatory compliance score\n\nWould you like me to help you implement any specific compliance or industry requirements?"
  },
  {
    "instruction": "Implement industry-specific solutions",
    "input": "How do I set up email campaigns for healthcare?",
    "output": "I'll help you set up email campaigns for the Healthcare industry. Here's a comprehensive industry-specific solution:\n\n**Industry:** Healthcare\n\n**Common Use Cases:**\n- Patient education events\n- Medical conference RSVPs\n- Healthcare provider training\n- Patient appointment reminders\n\n**Compliance Requirements:**\n- HIPAA compliance\n- Patient privacy\n- Medical data protection\n- Regulatory requirements\n\n**Key Features:**\n- Secure data handling\n- Compliance reporting\n- Patient consent management\n- Audit trails\n\n**Industry-Specific Configuration:**\n\n**1. Audience Segmentation:**\n```json\n{\n  \"segments\": [\n    {\n      \"name\": \"Primary Stakeholders\",\n      \"criteria\": {\n        \"role\": \"primary\",\n        \"engagement\": \"high\",\n        \"compliance_status\": \"verified\"\n      }\n    },\n    {\n      \"name\": \"Secondary Audience\",\n      \"criteria\": {\n        \"role\": \"secondary\",\n        \"potential\": \"high\",\n        \"compliance_status\": \"pending\"\n      }\n    }\n  ]\n}\n```\n\n**2. Compliance Templates:**\n```json\n{\n  \"templates\": [\n    {\n      \"name\": \"Compliance Notice\",\n      \"subject\": \"Important Healthcare Update\",\n      \"content\": \"Industry-specific compliance information\",\n      \"disclaimers\": \"Required legal disclaimers\"\n    },\n    {\n      \"name\": \"Event Invitation\",\n      \"subject\": \"You're Invited: Healthcare Event\",\n      \"content\": \"Event details and registration\",\n      \"compliance\": \"Industry-specific requirements\"\n    }\n  ]\n}\n```\n\n**3. Data Protection:**\n```json\n{\n  \"data_protection\": {\n    \"encryption\": \"AES-256\",\n    \"access_controls\": \"role_based\",\n    \"audit_logging\": \"comprehensive\",\n    \"retention_policy\": \"industry_compliant\",\n    \"backup_strategy\": \"encrypted_backups\"\n  }\n}\n```\n\n**4. Workflow Automation:**\n```json\n{\n  \"workflows\": [\n    {\n      \"trigger\": \"COMPLIANCE_UPDATE\",\n      \"actions\": [\n        \"send_compliance_notice\",\n        \"update_audit_log\",\n        \"notify_compliance_team\"\n      ]\n    },\n    {\n      \"trigger\": \"EVENT_REGISTRATION\",\n      \"actions\": [\n        \"send_confirmation\",\n        \"update_attendance_list\",\n        \"trigger_reminder_sequence\"\n      ]\n    }\n  ]\n}\n```\n\n**5. Reporting and Analytics:**\n```json\n{\n  \"reporting\": {\n    \"compliance_reports\": \"monthly\",\n    \"engagement_metrics\": \"weekly\",\n    \"audit_trails\": \"real_time\",\n    \"performance_dashboard\": \"daily\"\n  }\n}\n```\n\n**Implementation Checklist:**\n- [ ] Set up industry-specific audience segments\n- [ ] Create compliance-compliant email templates\n- [ ] Implement data protection measures\n- [ ] Configure audit logging\n- [ ] Set up automated workflows\n- [ ] Test compliance requirements\n- [ ] Train team on industry regulations\n- [ ] Establish monitoring and reporting\n\n**Best Practices:**\n- Regular compliance audits\n- Staff training on industry regulations\n- Data minimization principles\n- Transparent communication\n- Continuous monitoring\n- Incident response planning\n\n**Success Metrics:**\n- Compliance adherence rate\n- Engagement rates\n- Event attendance\n- Customer satisfaction\n- Regulatory compliance score\n\nWould you like me to help you implement any specific compliance or industry requirements?"
  },
  {
    "instruction": "Manage email campaigns",
    "input": "What campaigns do I have?",
    "output": "I'll help you manage your campaigns. Here are the available actions:\n\n**List Campaigns:**\n```\nGET /api/admin/campaign/campaigns\n```\n\n**Response:**\n```json\n{\n  \"campaigns\": [\n    {\n      \"id\": \"campaign-id\",\n      \"name\": \"Campaign Name\",\n      \"description\": \"Description\",\n      \"status\": \"DRAFT\",\n      \"meta\": {},\n      \"createdAt\": \"2025-01-15T10:00:00Z\",\n      \"updatedAt\": \"2025-01-15T10:00:00Z\",\n      \"schedules\": []\n    }\n  ]\n}\n```\n\n**Get Campaign Details:**\n```\nGET /api/admin/campaign/campaigns/[id]\n```\n\n**Update Campaign:**\n```\nPUT /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"id\": \"campaign-id\",\n  \"name\": \"Updated Name\",\n  \"description\": \"Updated description\",\n  \"status\": \"SCHEDULED\",\n  \"steps\": []\n}\n```\n\n**Delete Campaign:**\n```\nDELETE /api/admin/campaign/campaigns/[id]\n```\n\n**Campaign Status Values:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\nLet me execute the appropriate action for your request."
  },
  {
    "instruction": "Create and manage audience groups",
    "input": "Create a group for VIP customers",
    "output": "I'll help you create a new audience group. Here's what I need:\n\n**Required Information:**\n1. **Group Name**: What should we call this group?\n2. **Description**: What does this group represent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/groups\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Group Name\",\n  \"description\": \"Description of the group\",\n  \"color\": \"#10b981\",\n  \"criteria\": {\n    \"industry\": \"technology\",\n    \"engagement\": \"high\",\n    \"tags\": [\"vip\", \"premium\"]\n  },\n  \"meta\": {}\n}\n```\n\n**Required Fields:**\n- `name` (string) - Group name\n- `description` (string) - Group description\n- `criteria` (object) - Group criteria\n- `meta` (object) - Group metadata\n\n**Optional Fields:**\n- `color` (string) - Group color (default: \"#10b981\")\n\n**Response:**\n```json\n{\n  \"group\": {\n    \"id\": \"group-id\",\n    \"name\": \"Group Name\",\n    \"description\": \"Description\",\n    \"color\": \"#10b981\",\n    \"criteria\": {},\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\",\n    \"members\": []\n  }\n}\n```\n\n**Audience Member Structure:**\n```json\n{\n  \"id\": \"member-id\",\n  \"groupId\": \"group-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"primaryEmail\": \"email@example.com\",\n  \"secondaryEmail\": \"secondary@example.com\",\n  \"tagsSnapshot\": [\"tag1\", \"tag2\"],\n  \"inviteToken\": \"token\",\n  \"meta\": {},\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"unsubscribed\": false\n}\n```\n\n**Member Status:**\n- `unsubscribed` (boolean) - Whether member has unsubscribed\n\n**Database Constraints:**\n- Unique constraint on `[groupId, businessId]`\n- Indexes on `groupId` and `businessId`\n\nWould you like me to help you set up the group criteria?"
  },
  {
    "instruction": "Create a detailed email campaign",
    "input": "Create a customer onboarding campaign",
    "output": "I'll help you create a comprehensive campaign for: Create a customer onboarding campaign\n\n**Campaign Overview:**\n5-step onboarding sequence to help new customers get started\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Target Audience**: Which audience group should receive this?\n3. **Email Templates**: Do you have existing templates or need new ones?\n4. **Timing**: When should this campaign start?\n5. **Frequency**: How often should emails be sent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Campaign Structure:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Detailed description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"welcome-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1,\n      \"throttlePerMinute\": 60\n    },\n    {\n      \"templateId\": \"follow-up-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-16T10:00:00Z\",\n      \"stepOrder\": 2,\n      \"throttlePerMinute\": 60\n    }\n  ]\n}\n```\n\n**Campaign Best Practices:**\n- Start with DRAFT status for testing\n- Use appropriate throttle rates (60 emails/minute recommended)\n- Set clear step orders for multi-step campaigns\n- Include timezone considerations\n- Test with small audience first\n\n**Next Steps:**\n1. Create or select email templates\n2. Define target audience groups\n3. Set up campaign steps with proper timing\n4. Test the campaign flow\n5. Schedule for production\n\nWould you like me to help you set up any specific part of this campaign?"
  },
  {
    "instruction": "Create a detailed email campaign",
    "input": "Create a welcome email campaign for new subscribers",
    "output": "I'll help you create a comprehensive campaign for: Create a welcome email campaign for new subscribers\n\n**Campaign Overview:**\nWelcome new subscribers with a 3-step email sequence: welcome email, getting started guide, and first newsletter\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Target Audience**: Which audience group should receive this?\n3. **Email Templates**: Do you have existing templates or need new ones?\n4. **Timing**: When should this campaign start?\n5. **Frequency**: How often should emails be sent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Campaign Structure:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Detailed description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"welcome-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1,\n      \"throttlePerMinute\": 60\n    },\n    {\n      \"templateId\": \"follow-up-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-16T10:00:00Z\",\n      \"stepOrder\": 2,\n      \"throttlePerMinute\": 60\n    }\n  ]\n}\n```\n\n**Campaign Best Practices:**\n- Start with DRAFT status for testing\n- Use appropriate throttle rates (60 emails/minute recommended)\n- Set clear step orders for multi-step campaigns\n- Include timezone considerations\n- Test with small audience first\n\n**Next Steps:**\n1. Create or select email templates\n2. Define target audience groups\n3. Set up campaign steps with proper timing\n4. Test the campaign flow\n5. Schedule for production\n\nWould you like me to help you set up any specific part of this campaign?"
  },
  {
    "instruction": "Create a new email campaign",
    "input": "Make a campaign for the tech conference",
    "output": "I'll help you create a new campaign. Based on your request, here's what I need:\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Steps**: Campaign steps with templateId, groupId, and scheduling\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Optional description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"template-id\",\n      \"groupId\": \"audience-group-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1\n    }\n  ]\n}\n```\n\n**Campaign Status Options:**\n- `DRAFT` - Not yet ready to send\n- `SCHEDULED` - Scheduled for future send\n- `SENDING` - Currently being sent\n- `PAUSED` - Temporarily paused\n- `COMPLETED` - Finished sending\n- `CANCELLED` - Cancelled\n\n**Required Fields:**\n- `name` (string) - Campaign name\n- `steps` (array) - Array of campaign steps\n\n**Step Object Required Fields:**\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n- `stepOrder` (number) - Order of execution\n\n**Optional Step Fields:**\n- `sendAt` (ISO date string) - When to send\n- `throttlePerMinute` (number) - Email sending rate\n- `timeZone` (string) - Timezone for scheduling\n\nWould you like me to help you set up the campaign steps?"
  },
  {
    "instruction": "Create and manage email templates",
    "input": "Create a template for event invitations",
    "output": "I'll help you create a new email template. Here's what I need:\n\n**Required Information:**\n1. **Template Name**: What should we call this template?\n2. **Subject**: Email subject line\n3. **HTML Body**: Rich HTML content\n4. **Text Body**: Plain text version (optional)\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/templates\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Template Name\",\n  \"subject\": \"Email Subject\",\n  \"htmlBody\": \"<h1>Hello {name}</h1><p>Content here</p>\",\n  \"textBody\": \"Hello {name}\\n\\nContent here\",\n  \"meta\": {},\n  \"greeting_title\": \"Welcome!\",\n  \"greeting_message\": \"Thank you for joining us\",\n  \"signature_name\": \"Your Name\",\n  \"signature_title\": \"Your Title\",\n  \"signature_company\": \"Your Company\",\n  \"signature_location\": \"Your Location\",\n  \"main_content_title\": \"Main Title\",\n  \"main_content_body\": \"Main content here\",\n  \"button_text\": \"Click Here\",\n  \"additional_info_title\": \"Additional Info\",\n  \"additional_info_body\": \"Additional details\",\n  \"closing_title\": \"Thank You\",\n  \"closing_message\": \"Best regards\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Template name\n- `subject` (string) - Email subject\n- `htmlBody` (string) - HTML content\n- `meta` (object) - Template metadata\n\n**Optional Fields:**\n- `textBody` (string) - Plain text version\n- `greeting_title` (string) - Greeting title\n- `greeting_message` (string) - Greeting message\n- `signature_name` (string) - Signature name\n- `signature_title` (string) - Signature title\n- `signature_company` (string) - Signature company\n- `signature_location` (string) - Signature location\n- `main_content_title` (string) - Main content title\n- `main_content_body` (string) - Main content body\n- `button_text` (string) - Button text\n- `additional_info_title` (string) - Additional info title\n- `additional_info_body` (string) - Additional info body\n- `closing_title` (string) - Closing title\n- `closing_message` (string) - Closing message\n\n**Template Variables:**\n- `{name}` - Recipient's name\n- `{email}` - Recipient's email\n- `{firstName}` - First name\n- `{lastName}` - Last name\n- `{unsubscribeUrl}` - Unsubscribe link\n\n**Response:**\n```json\n{\n  \"template\": {\n    \"id\": \"template-id\",\n    \"name\": \"Template Name\",\n    \"subject\": \"Email Subject\",\n    \"htmlBody\": \"<h1>Hello {name}</h1>\",\n    \"textBody\": \"Hello {name}\",\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you create this template with some default content?"
  },
  {
    "instruction": "Create and manage audience groups",
    "input": "I want a group for beta testers",
    "output": "I'll help you create a new audience group. Here's what I need:\n\n**Required Information:**\n1. **Group Name**: What should we call this group?\n2. **Description**: What does this group represent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/groups\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Group Name\",\n  \"description\": \"Description of the group\",\n  \"color\": \"#10b981\",\n  \"criteria\": {\n    \"industry\": \"technology\",\n    \"engagement\": \"high\",\n    \"tags\": [\"vip\", \"premium\"]\n  },\n  \"meta\": {}\n}\n```\n\n**Required Fields:**\n- `name` (string) - Group name\n- `description` (string) - Group description\n- `criteria` (object) - Group criteria\n- `meta` (object) - Group metadata\n\n**Optional Fields:**\n- `color` (string) - Group color (default: \"#10b981\")\n\n**Response:**\n```json\n{\n  \"group\": {\n    \"id\": \"group-id\",\n    \"name\": \"Group Name\",\n    \"description\": \"Description\",\n    \"color\": \"#10b981\",\n    \"criteria\": {},\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\",\n    \"members\": []\n  }\n}\n```\n\n**Audience Member Structure:**\n```json\n{\n  \"id\": \"member-id\",\n  \"groupId\": \"group-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"primaryEmail\": \"email@example.com\",\n  \"secondaryEmail\": \"secondary@example.com\",\n  \"tagsSnapshot\": [\"tag1\", \"tag2\"],\n  \"inviteToken\": \"token\",\n  \"meta\": {},\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"unsubscribed\": false\n}\n```\n\n**Member Status:**\n- `unsubscribed` (boolean) - Whether member has unsubscribed\n\n**Database Constraints:**\n- Unique constraint on `[groupId, businessId]`\n- Indexes on `groupId` and `businessId`\n\nWould you like me to help you set up the group criteria?"
  },
  {
    "instruction": "Create and manage email templates",
    "input": "Create a template for survey requests",
    "output": "I'll help you create a new email template. Here's what I need:\n\n**Required Information:**\n1. **Template Name**: What should we call this template?\n2. **Subject**: Email subject line\n3. **HTML Body**: Rich HTML content\n4. **Text Body**: Plain text version (optional)\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/templates\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Template Name\",\n  \"subject\": \"Email Subject\",\n  \"htmlBody\": \"<h1>Hello {name}</h1><p>Content here</p>\",\n  \"textBody\": \"Hello {name}\\n\\nContent here\",\n  \"meta\": {},\n  \"greeting_title\": \"Welcome!\",\n  \"greeting_message\": \"Thank you for joining us\",\n  \"signature_name\": \"Your Name\",\n  \"signature_title\": \"Your Title\",\n  \"signature_company\": \"Your Company\",\n  \"signature_location\": \"Your Location\",\n  \"main_content_title\": \"Main Title\",\n  \"main_content_body\": \"Main content here\",\n  \"button_text\": \"Click Here\",\n  \"additional_info_title\": \"Additional Info\",\n  \"additional_info_body\": \"Additional details\",\n  \"closing_title\": \"Thank You\",\n  \"closing_message\": \"Best regards\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Template name\n- `subject` (string) - Email subject\n- `htmlBody` (string) - HTML content\n- `meta` (object) - Template metadata\n\n**Optional Fields:**\n- `textBody` (string) - Plain text version\n- `greeting_title` (string) - Greeting title\n- `greeting_message` (string) - Greeting message\n- `signature_name` (string) - Signature name\n- `signature_title` (string) - Signature title\n- `signature_company` (string) - Signature company\n- `signature_location` (string) - Signature location\n- `main_content_title` (string) - Main content title\n- `main_content_body` (string) - Main content body\n- `button_text` (string) - Button text\n- `additional_info_title` (string) - Additional info title\n- `additional_info_body` (string) - Additional info body\n- `closing_title` (string) - Closing title\n- `closing_message` (string) - Closing message\n\n**Template Variables:**\n- `{name}` - Recipient's name\n- `{email}` - Recipient's email\n- `{firstName}` - First name\n- `{lastName}` - Last name\n- `{unsubscribeUrl}` - Unsubscribe link\n\n**Response:**\n```json\n{\n  \"template\": {\n    \"id\": \"template-id\",\n    \"name\": \"Template Name\",\n    \"subject\": \"Email Subject\",\n    \"htmlBody\": \"<h1>Hello {name}</h1>\",\n    \"textBody\": \"Hello {name}\",\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you create this template with some default content?"
  },
  {
    "instruction": "Implement technical solutions",
    "input": "How do I implement high-volume email sending?",
    "output": "I'll help you implement High-Volume Email Sending. Here's a comprehensive technical solution:\n\n**Scenario:** High-Volume Email Sending\n**Challenge:** Sending 100,000+ emails efficiently without hitting rate limits\n**Solution:** Implement intelligent throttling, queue management, and batch processing\n\n**Technical Implementation:**\n- **throttling**: 60 emails per minute per IP\n- **batching**: 1000 emails per batch\n- **queue_management**: Redis-based queue\n- **monitoring**: Real-time delivery tracking\n\n**Architecture Overview:**\n```json\n{\n  \"architecture\": {\n    \"frontend\": \"Next.js with React\",\n    \"backend\": \"Next.js API routes\",\n    \"database\": \"PostgreSQL with Prisma\",\n    \"caching\": \"Redis\",\n    \"queue\": \"Redis-based job queue\",\n    \"monitoring\": \"Real-time metrics\"\n  }\n}\n```\n\n**Implementation Steps:**\n\n**1. Database Schema:**\n```sql\n-- Example schema for high-volume processing\nCREATE TABLE email_queue (\n  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n  recipient_email VARCHAR(255) NOT NULL,\n  template_id UUID NOT NULL,\n  status VARCHAR(50) DEFAULT 'pending',\n  scheduled_at TIMESTAMP,\n  created_at TIMESTAMP DEFAULT NOW(),\n  processed_at TIMESTAMP\n);\n\nCREATE INDEX idx_email_queue_status ON email_queue(status);\nCREATE INDEX idx_email_queue_scheduled ON email_queue(scheduled_at);\n```\n\n**2. Queue Processing:**\n```javascript\n// Email queue processor\nclass EmailQueueProcessor {\n  constructor() {\n    this.batchSize = 1000;\n    this.throttleRate = 60; // emails per minute\n  }\n  \n  async processBatch() {\n    const emails = await this.getPendingEmails(this.batchSize);\n    \n    for (const email of emails) {\n      await this.sendEmail(email);\n      await this.updateStatus(email.id, 'sent');\n      await this.throttle();\n    }\n  }\n  \n  async throttle() {\n    const delay = 60000 / this.throttleRate; // 1 second per email\n    await new Promise(resolve => setTimeout(resolve, delay));\n  }\n}\n```\n\n**3. Real-time Updates:**\n```javascript\n// WebSocket implementation for real-time updates\nclass RealtimeUpdates {\n  constructor() {\n    this.clients = new Map();\n  }\n  \n  addClient(tenantId, client) {\n    if (!this.clients.has(tenantId)) {\n      this.clients.set(tenantId, new Set());\n    }\n    this.clients.get(tenantId).add(client);\n  }\n  \n  broadcast(tenantId, event, data) {\n    const clients = this.clients.get(tenantId);\n    if (clients) {\n      clients.forEach(client => {\n        client.send(JSON.stringify({ event, data }));\n      });\n    }\n  }\n}\n```\n\n**4. Monitoring and Metrics:**\n```javascript\n// Performance monitoring\nclass PerformanceMonitor {\n  constructor() {\n    this.metrics = new Map();\n  }\n  \n  recordMetric(name, value) {\n    if (!this.metrics.has(name)) {\n      this.metrics.set(name, []);\n    }\n    this.metrics.get(name).push({\n      value,\n      timestamp: Date.now()\n    });\n  }\n  \n  getMetrics(name) {\n    return this.metrics.get(name) || [];\n  }\n}\n```\n\n**5. Error Handling and Recovery:**\n```javascript\n// Robust error handling\nclass ErrorHandler {\n  static async handleEmailError(error, email) {\n    console.error('Email error:', error);\n    \n    if (error.code === 'RATE_LIMIT') {\n      await this.retryLater(email, 300000); // 5 minutes\n    } else if (error.code === 'INVALID_EMAIL') {\n      await this.markAsBounced(email);\n    } else {\n      await this.retryLater(email, 60000); // 1 minute\n    }\n  }\n}\n```\n\n**Performance Optimization:**\n- Use database indexes for fast queries\n- Implement connection pooling\n- Use Redis for session management\n- Implement query result caching\n- Use CDN for static assets\n- Optimize database queries\n\n**Monitoring and Alerting:**\n- Set up performance metrics\n- Monitor error rates\n- Track delivery rates\n- Alert on system issues\n- Monitor resource usage\n\n**Testing Strategy:**\n- Unit tests for core functionality\n- Integration tests for API endpoints\n- Load testing for high volume\n- End-to-end testing for workflows\n- Performance testing for scalability\n\n**Deployment Considerations:**\n- Use containerization (Docker)\n- Implement blue-green deployment\n- Set up health checks\n- Configure auto-scaling\n- Implement backup strategies\n\nWould you like me to help you implement any specific part of this technical solution?"
  },
  {
    "instruction": "Create a new email campaign",
    "input": "Create a campaign for the product launch",
    "output": "I'll help you create a new campaign. Based on your request, here's what I need:\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Steps**: Campaign steps with templateId, groupId, and scheduling\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Optional description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"template-id\",\n      \"groupId\": \"audience-group-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1\n    }\n  ]\n}\n```\n\n**Campaign Status Options:**\n- `DRAFT` - Not yet ready to send\n- `SCHEDULED` - Scheduled for future send\n- `SENDING` - Currently being sent\n- `PAUSED` - Temporarily paused\n- `COMPLETED` - Finished sending\n- `CANCELLED` - Cancelled\n\n**Required Fields:**\n- `name` (string) - Campaign name\n- `steps` (array) - Array of campaign steps\n\n**Step Object Required Fields:**\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n- `stepOrder` (number) - Order of execution\n\n**Optional Step Fields:**\n- `sendAt` (ISO date string) - When to send\n- `throttlePerMinute` (number) - Email sending rate\n- `timeZone` (string) - Timezone for scheduling\n\nWould you like me to help you set up the campaign steps?"
  },
  {
    "instruction": "View analytics and generate reports",
    "input": "Generate an audience report",
    "output": "I'll help you analyze your email performance. Here's what I can show you:\n\n**Campaign Analytics:**\n\n**CampaignSend Status Tracking:**\n```json\n{\n  \"id\": \"send-id\",\n  \"scheduleId\": \"schedule-id\",\n  \"groupId\": \"group-id\",\n  \"templateId\": \"template-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"email\": \"email@example.com\",\n  \"inviteToken\": \"token\",\n  \"inviteLink\": \"https://example.com/l/token\",\n  \"resendMessageId\": \"resend-message-id\",\n  \"status\": \"SENT\",\n  \"error\": null,\n  \"meta\": {},\n  \"sentAt\": \"2025-01-15T10:00:00Z\",\n  \"openedAt\": \"2025-01-15T10:05:00Z\",\n  \"visitedAt\": \"2025-01-15T10:10:00Z\"\n}\n```\n\n**CampaignSend Status Values:**\n- `PENDING` - Not yet sent\n- `SENDING` - Currently being sent\n- `SENT` - Successfully sent\n- `FAILED` - Failed to send\n- `SKIPPED` - Skipped (e.g., unsubscribed)\n\n**Key Metrics:**\n- **Sent Count**: Total emails sent\n- **Open Rate**: Percentage of emails opened (openedAt not null)\n- **Click Rate**: Percentage of emails clicked (visitedAt not null)\n- **Bounce Rate**: Percentage of failed sends\n- **Unsubscribe Rate**: Percentage of unsubscribed members\n\n**Visit Tracking:**\n```json\n{\n  \"id\": \"visit-id\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"path\": \"/event-page\",\n  \"query\": \"?utm_source=email\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"email\",\n  \"utmMedium\": \"newsletter\",\n  \"utmCampaign\": \"summer-event\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"timeOnPageMs\": 30000,\n  \"scrollDepth\": 75\n}\n```\n\n**Analytics Endpoints:**\n- `GET /api/admin/campaign/dashboard` - Dashboard overview\n- `GET /api/admin/export` - Export data\n- `GET /api/l/[token]` - Track link clicks\n- `GET /api/__pixel` - Track email opens\n\n**Export Options:**\n- CSV format for RSVP data\n- JSON format for campaign data\n- Filtered by date range\n- Filtered by campaign/group\n\n**Performance Tracking:**\n- Email delivery rates\n- Open and click tracking\n- Geographic distribution\n- Device and browser analytics\n- Time-based performance\n- A/B testing results\n\nLet me generate the appropriate analytics report for your request."
  },
  {
    "instruction": "Implement security measures",
    "input": "How do I secure api security?",
    "output": "I'll help you implement security measures for API Security. Here's a comprehensive security guide:\n\n**Topic:** API Security\n**Description:** Secure API endpoints and prevent attacks\n\n**Security Measures:**\n- Authentication\n- Authorization\n- Rate limiting\n- Input validation\n\n**Implementation:**\n```json\n{\n  \"security\": {\n    \"topic\": \"API Security\",\n    \"measures\": [\"Authentication\", \"Authorization\", \"Rate limiting\", \"Input validation\"],\n    \"implementation\": {\n      \"encryption\": \"AES-256\",\n      \"authentication\": \"JWT tokens\",\n      \"rateLimiting\": \"100 req/min per IP\",\n      \"validation\": \"Zod schemas\"\n    }\n  }\n}\n```\n\n**Security Headers:**\n```javascript\nconst securityHeaders = {\n  'Content-Security-Policy': \"default-src 'self'\",\n  'X-Frame-Options': 'DENY',\n  'X-Content-Type-Options': 'nosniff',\n  'Referrer-Policy': 'strict-origin-when-cross-origin',\n  'Permissions-Policy': 'camera=(), microphone=(), geolocation=()'\n};\n```\n\n**Best Practices:**\n- Regular security audits\n- Keep dependencies updated\n- Use secure coding practices\n- Implement proper logging\n- Monitor for security issues\n- Train team on security\n\n**Compliance Requirements:**\n- GDPR: User consent, data portability, right to deletion\n- CAN-SPAM: Unsubscribe links, sender identification, truthful content\n- Industry standards: SOC 2, ISO 27001\n\n**Monitoring and Alerting:**\n- Failed login attempts\n- Unusual API usage\n- Data access patterns\n- Security event logging\n\nWould you like me to help you implement specific security measures?"
  },
  {
    "instruction": "Create a specific email template",
    "input": "Create a product announcement template",
    "output": "I'll help you create a Product Announcement template. Here's a comprehensive setup:\n\n**Template Type:** Product Announcement\n\n**Suggested Structure:**\n\n**Subject Line:**\n```\nIntroducing {{productName}} - Available Now!\n```\n\n**HTML Body Template:**\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Product Announcement</title>\n</head>\n<body style=\"font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: 0 auto; padding: 20px;\">\n    <div style=\"background: #f8f9fa; padding: 20px; border-radius: 8px;\">\n        <h1 style=\"color: #2c3e50; margin-bottom: 20px;\">{greeting_title}</h1>\n        <p style=\"font-size: 16px; margin-bottom: 20px;\">{greeting_message}</p>\n        \n        <div style=\"background: white; padding: 20px; border-radius: 6px; margin: 20px 0;\">\n            <h2 style=\"color: #34495e; margin-bottom: 15px;\">{main_content_title}</h2>\n            <p style=\"margin-bottom: 15px;\">We're excited to announce our latest product. Learn more and get early access...</p>\n            \n            <div style=\"text-align: center; margin: 30px 0;\">\n                <a href=\"#\" style=\"background: #3498db; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; display: inline-block;\">{button_text}</a>\n            </div>\n        </div>\n        \n        <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd;\">\n            <h3 style=\"color: #2c3e50; margin-bottom: 10px;\">{additional_info_title}</h3>\n            <p style=\"font-size: 14px; color: #666;\">{additional_info_body}</p>\n        </div>\n        \n        <div style=\"margin-top: 20px; text-align: center;\">\n            <p style=\"font-size: 14px; color: #666;\">{closing_title}</p>\n            <p style=\"font-size: 14px; color: #666;\">{closing_message}</p>\n        </div>\n        \n        <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center;\">\n            <p style=\"font-size: 12px; color: #999;\">\n                <strong>{signature_name}</strong><br>\n                {signature_title}<br>\n                {signature_company}<br>\n                {signature_location}\n            </p>\n            <p style=\"font-size: 12px; color: #999; margin-top: 10px;\">\n                <a href=\"{unsubscribeUrl}\" style=\"color: #999;\">Unsubscribe</a> | \n                <a href=\"#\" style=\"color: #999;\">Update Preferences</a>\n            </p>\n        </div>\n    </div>\n</body>\n</html>\n```\n\n**Text Body Template:**\n```\n{greeting_title}\n\n{greeting_message}\n\n{main_content_title}\nWe're excited to announce our latest product. Learn more and get early access...\n\n{button_text}: [Link]\n\n{additional_info_title}\n{additional_info_body}\n\n{closing_title}\n{closing_message}\n\n---\n{signature_name}\n{signature_title}\n{signature_company}\n{signature_location}\n\nUnsubscribe: {unsubscribeUrl}\n```\n\n**Template Variables:**\n{{name}}, {{productName}}, {{productUrl}}, {{unsubscribeUrl}}\n\n**API Request:**\n```json\n{\n  \"name\": \"Product Announcement Template\",\n  \"subject\": \"Introducing {{productName}} - Available Now!\",\n  \"htmlBody\": \"[HTML content above]\",\n  \"textBody\": \"[Text content above]\",\n  \"meta\": {},\n  \"greeting_title\": \"Welcome!\",\n  \"greeting_message\": \"Thank you for your interest\",\n  \"signature_name\": \"Your Name\",\n  \"signature_title\": \"Your Title\",\n  \"signature_company\": \"Your Company\",\n  \"signature_location\": \"Your Location\",\n  \"main_content_title\": \"Product Announcement\",\n  \"main_content_body\": \"We're excited to announce our latest product. Learn more and get early access...\",\n  \"button_text\": \"Learn More\",\n  \"additional_info_title\": \"Additional Information\",\n  \"additional_info_body\": \"For more details, visit our website\",\n  \"closing_title\": \"Thank You\",\n  \"closing_message\": \"Best regards\"\n}\n```\n\n**Best Practices for Product Announcement:**\n- Keep subject line under 50 characters\n- Use clear, actionable language\n- Include unsubscribe link\n- Test on mobile devices\n- Personalize with recipient data\n- A/B test different versions\n\nWould you like me to customize this template for your specific needs?"
  },
  {
    "instruction": "Create and manage audience groups",
    "input": "I need a group for inactive users",
    "output": "I'll help you create a new audience group. Here's what I need:\n\n**Required Information:**\n1. **Group Name**: What should we call this group?\n2. **Description**: What does this group represent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/groups\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Group Name\",\n  \"description\": \"Description of the group\",\n  \"color\": \"#10b981\",\n  \"criteria\": {\n    \"industry\": \"technology\",\n    \"engagement\": \"high\",\n    \"tags\": [\"vip\", \"premium\"]\n  },\n  \"meta\": {}\n}\n```\n\n**Required Fields:**\n- `name` (string) - Group name\n- `description` (string) - Group description\n- `criteria` (object) - Group criteria\n- `meta` (object) - Group metadata\n\n**Optional Fields:**\n- `color` (string) - Group color (default: \"#10b981\")\n\n**Response:**\n```json\n{\n  \"group\": {\n    \"id\": \"group-id\",\n    \"name\": \"Group Name\",\n    \"description\": \"Description\",\n    \"color\": \"#10b981\",\n    \"criteria\": {},\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\",\n    \"members\": []\n  }\n}\n```\n\n**Audience Member Structure:**\n```json\n{\n  \"id\": \"member-id\",\n  \"groupId\": \"group-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"primaryEmail\": \"email@example.com\",\n  \"secondaryEmail\": \"secondary@example.com\",\n  \"tagsSnapshot\": [\"tag1\", \"tag2\"],\n  \"inviteToken\": \"token\",\n  \"meta\": {},\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"unsubscribed\": false\n}\n```\n\n**Member Status:**\n- `unsubscribed` (boolean) - Whether member has unsubscribed\n\n**Database Constraints:**\n- Unique constraint on `[groupId, businessId]`\n- Indexes on `groupId` and `businessId`\n\nWould you like me to help you set up the group criteria?"
  },
  {
    "instruction": "Create a detailed email campaign",
    "input": "Set up a webinar announcement campaign",
    "output": "I'll help you create a comprehensive campaign for: Set up a webinar announcement campaign\n\n**Campaign Overview:**\n3-step sequence: save the date, reminder, and final reminder with agenda\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Target Audience**: Which audience group should receive this?\n3. **Email Templates**: Do you have existing templates or need new ones?\n4. **Timing**: When should this campaign start?\n5. **Frequency**: How often should emails be sent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Campaign Structure:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Detailed description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"welcome-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1,\n      \"throttlePerMinute\": 60\n    },\n    {\n      \"templateId\": \"follow-up-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-16T10:00:00Z\",\n      \"stepOrder\": 2,\n      \"throttlePerMinute\": 60\n    }\n  ]\n}\n```\n\n**Campaign Best Practices:**\n- Start with DRAFT status for testing\n- Use appropriate throttle rates (60 emails/minute recommended)\n- Set clear step orders for multi-step campaigns\n- Include timezone considerations\n- Test with small audience first\n\n**Next Steps:**\n1. Create or select email templates\n2. Define target audience groups\n3. Set up campaign steps with proper timing\n4. Test the campaign flow\n5. Schedule for production\n\nWould you like me to help you set up any specific part of this campaign?"
  },
  {
    "instruction": "Implement security measures",
    "input": "How do I secure compliance?",
    "output": "I'll help you implement security measures for Compliance. Here's a comprehensive security guide:\n\n**Topic:** Compliance\n**Description:** Meet regulatory requirements and standards\n\n**Security Measures:**\n- GDPR compliance\n- CAN-SPAM compliance\n- Data retention\n- User consent\n\n**Implementation:**\n```json\n{\n  \"security\": {\n    \"topic\": \"Compliance\",\n    \"measures\": [\"GDPR compliance\", \"CAN-SPAM compliance\", \"Data retention\", \"User consent\"],\n    \"implementation\": {\n      \"encryption\": \"AES-256\",\n      \"authentication\": \"JWT tokens\",\n      \"rateLimiting\": \"100 req/min per IP\",\n      \"validation\": \"Zod schemas\"\n    }\n  }\n}\n```\n\n**Security Headers:**\n```javascript\nconst securityHeaders = {\n  'Content-Security-Policy': \"default-src 'self'\",\n  'X-Frame-Options': 'DENY',\n  'X-Content-Type-Options': 'nosniff',\n  'Referrer-Policy': 'strict-origin-when-cross-origin',\n  'Permissions-Policy': 'camera=(), microphone=(), geolocation=()'\n};\n```\n\n**Best Practices:**\n- Regular security audits\n- Keep dependencies updated\n- Use secure coding practices\n- Implement proper logging\n- Monitor for security issues\n- Train team on security\n\n**Compliance Requirements:**\n- GDPR: User consent, data portability, right to deletion\n- CAN-SPAM: Unsubscribe links, sender identification, truthful content\n- Industry standards: SOC 2, ISO 27001\n\n**Monitoring and Alerting:**\n- Failed login attempts\n- Unusual API usage\n- Data access patterns\n- Security event logging\n\nWould you like me to help you implement specific security measures?"
  },
  {
    "instruction": "Create a detailed email campaign",
    "input": "Make a holiday promotion campaign",
    "output": "I'll help you create a comprehensive campaign for: Make a holiday promotion campaign\n\n**Campaign Overview:**\nBlack Friday sale with limited-time offers and urgency messaging\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Target Audience**: Which audience group should receive this?\n3. **Email Templates**: Do you have existing templates or need new ones?\n4. **Timing**: When should this campaign start?\n5. **Frequency**: How often should emails be sent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Campaign Structure:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Detailed description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"welcome-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1,\n      \"throttlePerMinute\": 60\n    },\n    {\n      \"templateId\": \"follow-up-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-16T10:00:00Z\",\n      \"stepOrder\": 2,\n      \"throttlePerMinute\": 60\n    }\n  ]\n}\n```\n\n**Campaign Best Practices:**\n- Start with DRAFT status for testing\n- Use appropriate throttle rates (60 emails/minute recommended)\n- Set clear step orders for multi-step campaigns\n- Include timezone considerations\n- Test with small audience first\n\n**Next Steps:**\n1. Create or select email templates\n2. Define target audience groups\n3. Set up campaign steps with proper timing\n4. Test the campaign flow\n5. Schedule for production\n\nWould you like me to help you set up any specific part of this campaign?"
  },
  {
    "instruction": "Create audience segmentation strategy",
    "input": "Create a engagement segmentation group",
    "output": "I'll help you create a Engagement Segmentation audience group. Here's a comprehensive setup:\n\n**Segmentation Strategy:** Engagement Segmentation\n**Description:** Segment by email engagement patterns\n\n**Segmentation Criteria:**\n```json\n{\n  \"name\": \"Engagement Segmentation Group\",\n  \"description\": \"Segment by email engagement patterns\",\n  \"color\": \"#10b981\",\n  \"criteria\": {\n  \"openRate\": \"high\",\n  \"clickRate\": \"high\",\n  \"unsubscribeRate\": \"low\",\n  \"lastEmailOpen\": \"7_days\"\n},\n  \"meta\": {\n    \"createdBy\": \"AI Assistant\",\n    \"purpose\": \"Segment by email engagement patterns\",\n    \"lastUpdated\": \"2025-01-15T10:00:00Z\",\n    \"memberCount\": 0,\n    \"autoUpdate\": true\n  }\n}\n```\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/groups\n```\n\n**Implementation Steps:**\n1. **Define Criteria**: Set up the segmentation rules\n2. **Create Group**: Use the API to create the audience group\n3. **Populate Members**: Add existing members or import new ones\n4. **Test Segmentation**: Verify the criteria work correctly\n5. **Monitor Performance**: Track engagement and adjust as needed\n\n**Member Addition:**\n```json\n{\n  \"groupId\": \"group-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"primaryEmail\": \"email@example.com\",\n  \"secondaryEmail\": \"secondary@example.com\",\n  \"tagsSnapshot\": [\"tag1\", \"tag2\"],\n  \"meta\": {\n    \"source\": \"import\",\n    \"addedBy\": \"AI Assistant\",\n    \"addedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\n**Best Practices:**\n- Use clear, measurable criteria\n- Test with small groups first\n- Monitor engagement rates\n- Update criteria regularly\n- Document segmentation logic\n- Use consistent naming conventions\n\n**Performance Metrics:**\n- Open rates by segment\n- Click-through rates\n- Unsubscribe rates\n- Conversion rates\n- Engagement scores\n\n**Automation Opportunities:**\n- Auto-add new members based on criteria\n- Remove inactive members\n- Update tags based on behavior\n- Trigger campaigns based on segment changes\n\nWould you like me to help you implement this segmentation strategy?"
  },
  {
    "instruction": "Troubleshoot system issues",
    "input": "Help me fix Poor audience segmentation",
    "output": "I'll help you troubleshoot Poor audience segmentation. Here's a comprehensive solution:\n\n**Problem:** Poor audience segmentation\n\n**Common Symptoms:**\n- Low engagement\n- Irrelevant content\n- High unsubscribe rates\n\n**Diagnostic Steps:**\n1. **Check System Status**: Verify all services are running\n2. **Review Logs**: Check error logs for specific issues\n3. **Test Components**: Test individual system components\n4. **Monitor Metrics**: Check relevant performance metrics\n5. **Validate Data**: Ensure data integrity\n\n**Recommended Solutions:**\n- Refine segmentation criteria\n- Collect more data\n- Use behavioral triggers\n- Test different segments\n\n**Implementation Steps:**\n"
  },
  {
    "instruction": "Create a new email campaign",
    "input": "I want to create a campaign for VIP customers",
    "output": "I'll help you create a new campaign. Based on your request, here's what I need:\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Steps**: Campaign steps with templateId, groupId, and scheduling\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Optional description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"template-id\",\n      \"groupId\": \"audience-group-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1\n    }\n  ]\n}\n```\n\n**Campaign Status Options:**\n- `DRAFT` - Not yet ready to send\n- `SCHEDULED` - Scheduled for future send\n- `SENDING` - Currently being sent\n- `PAUSED` - Temporarily paused\n- `COMPLETED` - Finished sending\n- `CANCELLED` - Cancelled\n\n**Required Fields:**\n- `name` (string) - Campaign name\n- `steps` (array) - Array of campaign steps\n\n**Step Object Required Fields:**\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n- `stepOrder` (number) - Order of execution\n\n**Optional Step Fields:**\n- `sendAt` (ISO date string) - When to send\n- `throttlePerMinute` (number) - Email sending rate\n- `timeZone` (string) - Timezone for scheduling\n\nWould you like me to help you set up the campaign steps?"
  },
  {
    "instruction": "Implement advanced features",
    "input": "Set up behavioral triggers",
    "output": "I'll help you implement Behavioral Triggers. Here's a comprehensive guide:\n\n**Feature:** Behavioral Triggers\n**Description:** Trigger emails based on user behavior and actions\n**Implementation:** Set up automation workflows with behavioral conditions\n\n**Setup Requirements:**\n"
  },
  {
    "instruction": "Generate analytics report",
    "input": "Generate a audience engagement report",
    "output": "I'll help you generate a Audience Engagement Report. Here's a comprehensive analysis:\n\n**Report Type:** Audience Engagement Report\n**Timeframe:** last_90_days\n**Key Metrics:** engagement_score, activity_level, growth_rate\n**Breakdown:** by_segment, by_industry, by_geography\n\n**Data Collection:**\n```json\n{\n  \"reportType\": \"Audience Engagement Report\",\n  \"timeframe\": \"last_90_days\",\n  \"metrics\": [\"engagement_score\", \"activity_level\", \"growth_rate\"],\n  \"breakdown\": [\"by_segment\", \"by_industry\", \"by_geography\"],\n  \"filters\": {\n    \"campaignStatus\": [\"SENT\", \"COMPLETED\"],\n    \"audienceGroups\": [\"all\"],\n    \"excludeTest\": true\n  }\n}\n```\n\n**API Endpoints:**\n- `GET /api/admin/campaign/dashboard` - Dashboard data\n- `GET /api/admin/export` - Export raw data\n- `GET /api/admin/analytics/visitors` - Visitor analytics\n- `GET /api/admin/analytics/tracking-links` - Link performance\n\n**Key Performance Indicators:**\n"
  },
  {
    "instruction": "Create a new email campaign",
    "input": "Make a campaign for our premium members",
    "output": "I'll help you create a new campaign. Based on your request, here's what I need:\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Steps**: Campaign steps with templateId, groupId, and scheduling\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Optional description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"template-id\",\n      \"groupId\": \"audience-group-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1\n    }\n  ]\n}\n```\n\n**Campaign Status Options:**\n- `DRAFT` - Not yet ready to send\n- `SCHEDULED` - Scheduled for future send\n- `SENDING` - Currently being sent\n- `PAUSED` - Temporarily paused\n- `COMPLETED` - Finished sending\n- `CANCELLED` - Cancelled\n\n**Required Fields:**\n- `name` (string) - Campaign name\n- `steps` (array) - Array of campaign steps\n\n**Step Object Required Fields:**\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n- `stepOrder` (number) - Order of execution\n\n**Optional Step Fields:**\n- `sendAt` (ISO date string) - When to send\n- `throttlePerMinute` (number) - Email sending rate\n- `timeZone` (string) - Timezone for scheduling\n\nWould you like me to help you set up the campaign steps?"
  },
  {
    "instruction": "Create a detailed email campaign",
    "input": "Create a seasonal newsletter campaign",
    "output": "I'll help you create a comprehensive campaign for: Create a seasonal newsletter campaign\n\n**Campaign Overview:**\nQuarterly newsletter with industry updates and company news\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Target Audience**: Which audience group should receive this?\n3. **Email Templates**: Do you have existing templates or need new ones?\n4. **Timing**: When should this campaign start?\n5. **Frequency**: How often should emails be sent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Campaign Structure:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Detailed description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"welcome-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1,\n      \"throttlePerMinute\": 60\n    },\n    {\n      \"templateId\": \"follow-up-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-16T10:00:00Z\",\n      \"stepOrder\": 2,\n      \"throttlePerMinute\": 60\n    }\n  ]\n}\n```\n\n**Campaign Best Practices:**\n- Start with DRAFT status for testing\n- Use appropriate throttle rates (60 emails/minute recommended)\n- Set clear step orders for multi-step campaigns\n- Include timezone considerations\n- Test with small audience first\n\n**Next Steps:**\n1. Create or select email templates\n2. Define target audience groups\n3. Set up campaign steps with proper timing\n4. Test the campaign flow\n5. Schedule for production\n\nWould you like me to help you set up any specific part of this campaign?"
  },
  {
    "instruction": "Explain system architecture and technical details",
    "input": "How does the database work?",
    "output": "I'll explain the technical architecture of the RSVP system:\n\n**System Architecture:**\n\n**Frontend:**\n- **Framework**: Next.js 14 with React\n- **Styling**: Tailwind CSS\n- **Animations**: Framer Motion\n- **State Management**: React hooks (useState, useEffect)\n- **Authentication**: Session-based with cookies\n\n**Backend:**\n- **Runtime**: Node.js\n- **Framework**: Next.js API routes\n- **Database**: PostgreSQL with Prisma ORM\n- **Email Service**: Resend API\n- **Vector Database**: Weaviate (for RAG)\n- **AI Integration**: Gemini 2.5 Flash\n\n**Database Models:**\n- `RSVP` - Event RSVP submissions\n- `Visit` - Website visit tracking\n- `CampaignTemplate` - Email templates\n- `Campaign` - Email campaigns\n- `AudienceGroup` - Audience segmentation\n- `AudienceMember` - Individual audience members\n- `CampaignSchedule` - Campaign scheduling\n- `CampaignSend` - Individual email sends\n\n**API Structure:**\n- `/api/rsvp` - RSVP form submission\n- `/api/admin/campaign/campaigns` - Campaign management\n- `/api/admin/campaign/schedules` - Schedule management\n- `/api/admin/campaign/templates` - Template management\n- `/api/admin/campaign/groups` - Audience group management\n- `/api/admin/campaign/send` - Email sending\n- `/api/admin/export` - Data export\n- `/api/unsubscribe` - Unsubscribe handling\n- `/api/l/[token]` - Link tracking\n- `/api/__pixel` - Email open tracking\n\n**Security Features:**\n- CSRF protection with origin/referer validation\n- Rate limiting with IP fingerprinting\n- Input validation with Zod schemas\n- Test detection to prevent spam\n- Security logging for monitoring\n- Secure headers with CSP\n\n**Environment Variables:**\n- `DATABASE_URL` - PostgreSQL connection\n- `RESEND_API_KEY` - Email service\n- `GEMINI_API_KEY` - AI service\n- `WEAVIATE_URL` - Vector database\n- `WEAVIATE_API_KEY` - Vector database auth\n- `CRON_SECRET` - Cron job authentication\n\n**File Structure:**\n```\nrsvp-app/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 app/           # Next.js app router\n\u2502   \u2502   \u251c\u2500\u2500 api/       # API routes\n\u2502   \u2502   \u251c\u2500\u2500 admin/     # Admin panel\n\u2502   \u2502   \u2514\u2500\u2500 (public)/  # Public pages\n\u2502   \u251c\u2500\u2500 components/    # React components\n\u2502   \u251c\u2500\u2500 lib/          # Utilities and services\n\u2502   \u2514\u2500\u2500 prisma/       # Database schema\n\u251c\u2500\u2500 public/           # Static assets\n\u2514\u2500\u2500 docs/            # Documentation\n```\n\n**Deployment:**\n- **Platform**: Vercel (frontend)\n- **Database**: Neon (PostgreSQL)\n- **AI Service**: Railway (planned)\n- **Vector DB**: Weaviate Cloud\n\n**Email Delivery:**\n- Resend API for email sending\n- Throttling support (emails per minute)\n- Smart sending windows\n- Timezone support\n- Recurring campaigns\n- Link and open tracking\n\n**AI Assistant (Juniper):**\n- Conversational interface\n- Real-time execution display\n- Tool integration for database operations\n- Context awareness\n- Error handling and recovery\n- Pattern-matching system (to be replaced with fine-tuned SLM)\n\nThis architecture provides a scalable, secure, and maintainable system for RSVP management and email campaigns."
  },
  {
    "instruction": "Set up automation workflow",
    "input": "Create a birthday campaign automation",
    "output": "I'll help you set up a Birthday Campaign automation workflow. Here's a comprehensive setup:\n\n**Workflow:** Birthday Campaign\n**Trigger:** BIRTHDAY\n**Description:** Send birthday wishes and special offers\n\n**Workflow Steps:**\n"
  },
  {
    "instruction": "Implement technical solutions",
    "input": "How do I implement multi-tenant architecture?",
    "output": "I'll help you implement Multi-tenant Architecture. Here's a comprehensive technical solution:\n\n**Scenario:** Multi-tenant Architecture\n**Challenge:** Supporting multiple organizations with isolated data and configurations\n**Solution:** Implement tenant isolation with separate databases and configuration management\n\n**Technical Implementation:**\n- **isolation**: Database per tenant\n- **configuration**: Tenant-specific settings\n- **routing**: Subdomain-based routing\n- **security**: Tenant-level access controls\n\n**Architecture Overview:**\n```json\n{\n  \"architecture\": {\n    \"frontend\": \"Next.js with React\",\n    \"backend\": \"Next.js API routes\",\n    \"database\": \"PostgreSQL with Prisma\",\n    \"caching\": \"Redis\",\n    \"queue\": \"Redis-based job queue\",\n    \"monitoring\": \"Real-time metrics\"\n  }\n}\n```\n\n**Implementation Steps:**\n\n**1. Database Schema:**\n```sql\n-- Example schema for high-volume processing\nCREATE TABLE email_queue (\n  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n  recipient_email VARCHAR(255) NOT NULL,\n  template_id UUID NOT NULL,\n  status VARCHAR(50) DEFAULT 'pending',\n  scheduled_at TIMESTAMP,\n  created_at TIMESTAMP DEFAULT NOW(),\n  processed_at TIMESTAMP\n);\n\nCREATE INDEX idx_email_queue_status ON email_queue(status);\nCREATE INDEX idx_email_queue_scheduled ON email_queue(scheduled_at);\n```\n\n**2. Queue Processing:**\n```javascript\n// Email queue processor\nclass EmailQueueProcessor {\n  constructor() {\n    this.batchSize = 1000;\n    this.throttleRate = 60; // emails per minute\n  }\n  \n  async processBatch() {\n    const emails = await this.getPendingEmails(this.batchSize);\n    \n    for (const email of emails) {\n      await this.sendEmail(email);\n      await this.updateStatus(email.id, 'sent');\n      await this.throttle();\n    }\n  }\n  \n  async throttle() {\n    const delay = 60000 / this.throttleRate; // 1 second per email\n    await new Promise(resolve => setTimeout(resolve, delay));\n  }\n}\n```\n\n**3. Real-time Updates:**\n```javascript\n// WebSocket implementation for real-time updates\nclass RealtimeUpdates {\n  constructor() {\n    this.clients = new Map();\n  }\n  \n  addClient(tenantId, client) {\n    if (!this.clients.has(tenantId)) {\n      this.clients.set(tenantId, new Set());\n    }\n    this.clients.get(tenantId).add(client);\n  }\n  \n  broadcast(tenantId, event, data) {\n    const clients = this.clients.get(tenantId);\n    if (clients) {\n      clients.forEach(client => {\n        client.send(JSON.stringify({ event, data }));\n      });\n    }\n  }\n}\n```\n\n**4. Monitoring and Metrics:**\n```javascript\n// Performance monitoring\nclass PerformanceMonitor {\n  constructor() {\n    this.metrics = new Map();\n  }\n  \n  recordMetric(name, value) {\n    if (!this.metrics.has(name)) {\n      this.metrics.set(name, []);\n    }\n    this.metrics.get(name).push({\n      value,\n      timestamp: Date.now()\n    });\n  }\n  \n  getMetrics(name) {\n    return this.metrics.get(name) || [];\n  }\n}\n```\n\n**5. Error Handling and Recovery:**\n```javascript\n// Robust error handling\nclass ErrorHandler {\n  static async handleEmailError(error, email) {\n    console.error('Email error:', error);\n    \n    if (error.code === 'RATE_LIMIT') {\n      await this.retryLater(email, 300000); // 5 minutes\n    } else if (error.code === 'INVALID_EMAIL') {\n      await this.markAsBounced(email);\n    } else {\n      await this.retryLater(email, 60000); // 1 minute\n    }\n  }\n}\n```\n\n**Performance Optimization:**\n- Use database indexes for fast queries\n- Implement connection pooling\n- Use Redis for session management\n- Implement query result caching\n- Use CDN for static assets\n- Optimize database queries\n\n**Monitoring and Alerting:**\n- Set up performance metrics\n- Monitor error rates\n- Track delivery rates\n- Alert on system issues\n- Monitor resource usage\n\n**Testing Strategy:**\n- Unit tests for core functionality\n- Integration tests for API endpoints\n- Load testing for high volume\n- End-to-end testing for workflows\n- Performance testing for scalability\n\n**Deployment Considerations:**\n- Use containerization (Docker)\n- Implement blue-green deployment\n- Set up health checks\n- Configure auto-scaling\n- Implement backup strategies\n\nWould you like me to help you implement any specific part of this technical solution?"
  },
  {
    "instruction": "Set up automation workflow",
    "input": "Create a abandoned cart recovery automation",
    "output": "I'll help you set up a Abandoned Cart Recovery automation workflow. Here's a comprehensive setup:\n\n**Workflow:** Abandoned Cart Recovery\n**Trigger:** CART_ABANDONED\n**Description:** Recover abandoned carts with targeted emails\n\n**Workflow Steps:**\n"
  },
  {
    "instruction": "Create a new email campaign",
    "input": "Create a campaign for newsletter subscribers",
    "output": "I'll help you create a new campaign. Based on your request, here's what I need:\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Steps**: Campaign steps with templateId, groupId, and scheduling\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Optional description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"template-id\",\n      \"groupId\": \"audience-group-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1\n    }\n  ]\n}\n```\n\n**Campaign Status Options:**\n- `DRAFT` - Not yet ready to send\n- `SCHEDULED` - Scheduled for future send\n- `SENDING` - Currently being sent\n- `PAUSED` - Temporarily paused\n- `COMPLETED` - Finished sending\n- `CANCELLED` - Cancelled\n\n**Required Fields:**\n- `name` (string) - Campaign name\n- `steps` (array) - Array of campaign steps\n\n**Step Object Required Fields:**\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n- `stepOrder` (number) - Order of execution\n\n**Optional Step Fields:**\n- `sendAt` (ISO date string) - When to send\n- `throttlePerMinute` (number) - Email sending rate\n- `timeZone` (string) - Timezone for scheduling\n\nWould you like me to help you set up the campaign steps?"
  },
  {
    "instruction": "Explain system architecture and technical details",
    "input": "What technologies are used?",
    "output": "I'll explain the technical architecture of the RSVP system:\n\n**System Architecture:**\n\n**Frontend:**\n- **Framework**: Next.js 14 with React\n- **Styling**: Tailwind CSS\n- **Animations**: Framer Motion\n- **State Management**: React hooks (useState, useEffect)\n- **Authentication**: Session-based with cookies\n\n**Backend:**\n- **Runtime**: Node.js\n- **Framework**: Next.js API routes\n- **Database**: PostgreSQL with Prisma ORM\n- **Email Service**: Resend API\n- **Vector Database**: Weaviate (for RAG)\n- **AI Integration**: Gemini 2.5 Flash\n\n**Database Models:**\n- `RSVP` - Event RSVP submissions\n- `Visit` - Website visit tracking\n- `CampaignTemplate` - Email templates\n- `Campaign` - Email campaigns\n- `AudienceGroup` - Audience segmentation\n- `AudienceMember` - Individual audience members\n- `CampaignSchedule` - Campaign scheduling\n- `CampaignSend` - Individual email sends\n\n**API Structure:**\n- `/api/rsvp` - RSVP form submission\n- `/api/admin/campaign/campaigns` - Campaign management\n- `/api/admin/campaign/schedules` - Schedule management\n- `/api/admin/campaign/templates` - Template management\n- `/api/admin/campaign/groups` - Audience group management\n- `/api/admin/campaign/send` - Email sending\n- `/api/admin/export` - Data export\n- `/api/unsubscribe` - Unsubscribe handling\n- `/api/l/[token]` - Link tracking\n- `/api/__pixel` - Email open tracking\n\n**Security Features:**\n- CSRF protection with origin/referer validation\n- Rate limiting with IP fingerprinting\n- Input validation with Zod schemas\n- Test detection to prevent spam\n- Security logging for monitoring\n- Secure headers with CSP\n\n**Environment Variables:**\n- `DATABASE_URL` - PostgreSQL connection\n- `RESEND_API_KEY` - Email service\n- `GEMINI_API_KEY` - AI service\n- `WEAVIATE_URL` - Vector database\n- `WEAVIATE_API_KEY` - Vector database auth\n- `CRON_SECRET` - Cron job authentication\n\n**File Structure:**\n```\nrsvp-app/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 app/           # Next.js app router\n\u2502   \u2502   \u251c\u2500\u2500 api/       # API routes\n\u2502   \u2502   \u251c\u2500\u2500 admin/     # Admin panel\n\u2502   \u2502   \u2514\u2500\u2500 (public)/  # Public pages\n\u2502   \u251c\u2500\u2500 components/    # React components\n\u2502   \u251c\u2500\u2500 lib/          # Utilities and services\n\u2502   \u2514\u2500\u2500 prisma/       # Database schema\n\u251c\u2500\u2500 public/           # Static assets\n\u2514\u2500\u2500 docs/            # Documentation\n```\n\n**Deployment:**\n- **Platform**: Vercel (frontend)\n- **Database**: Neon (PostgreSQL)\n- **AI Service**: Railway (planned)\n- **Vector DB**: Weaviate Cloud\n\n**Email Delivery:**\n- Resend API for email sending\n- Throttling support (emails per minute)\n- Smart sending windows\n- Timezone support\n- Recurring campaigns\n- Link and open tracking\n\n**AI Assistant (Juniper):**\n- Conversational interface\n- Real-time execution display\n- Tool integration for database operations\n- Context awareness\n- Error handling and recovery\n- Pattern-matching system (to be replaced with fine-tuned SLM)\n\nThis architecture provides a scalable, secure, and maintainable system for RSVP management and email campaigns."
  },
  {
    "instruction": "Integrate with external services",
    "input": "How do I integrate with LeadMine API?",
    "output": "I'll help you integrate with LeadMine API. Here's a comprehensive guide:\n\n**Service:** LeadMine API\n**Description:** Business data enrichment\n\n**Integration Points:**\n- /api/rsvp\n\n**Features:**\n- Business data\n- Industry classification\n- Contact enrichment\n\n**API Configuration:**\n```json\n{\n  \"service\": \"LeadMine API\",\n  \"endpoints\": [\"/api/rsvp\"],\n  \"features\": [\"Business data\", \"Industry classification\", \"Contact enrichment\"],\n  \"authentication\": {\n    \"type\": \"api_key\",\n    \"header\": \"Authorization\",\n    \"value\": \"Bearer YOUR_API_KEY\"\n  },\n  \"rateLimits\": {\n    \"requestsPerMinute\": 100,\n    \"requestsPerHour\": 1000\n  }\n}\n```\n\n**Implementation Steps:**\n1. **Get API Credentials**: Obtain API key or authentication token\n2. **Configure Environment**: Set up environment variables\n3. **Test Connection**: Verify API connectivity\n4. **Implement Endpoints**: Create API route handlers\n5. **Error Handling**: Implement proper error handling\n6. **Monitoring**: Set up logging and monitoring\n\n**Environment Variables:**\n```bash\n# LeadMine API Configuration\nLEADMINE_API_API_KEY=your_api_key_here\nLEADMINE_API_URL=https://api.service.com\nLEADMINE_API_TIMEOUT=30000\n```\n\n**Error Handling:**\n```javascript\ntry {\n  const response = await fetch(apiUrl, {\n    method: 'POST',\n    headers: {\n      'Authorization': `Bearer ${apiKey}`,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  });\n  \n  if (!response.ok) {\n    throw new Error(`API Error: ${response.status}`);\n  }\n  \n  return await response.json();\n} catch (error) {\n  console.error('Integration error:', error);\n  // Handle error appropriately\n}\n```\n\n**Best Practices:**\n- Use environment variables for credentials\n- Implement proper error handling\n- Set up rate limiting\n- Monitor API usage\n- Cache responses when appropriate\n- Use retry logic for failed requests\n\n**Testing:**\n- Test with sandbox/test environment first\n- Verify all endpoints work correctly\n- Test error scenarios\n- Monitor performance and reliability\n\nWould you like me to help you implement this integration?"
  },
  {
    "instruction": "View and manage RSVP data",
    "input": "What's the attendance status?",
    "output": "I'll help you view RSVP data. Here's what I can show you:\n\n**RSVP Data Structure:**\n```json\n{\n  \"id\": \"rsvp-id\",\n  \"fullName\": \"John Doe\",\n  \"organization\": \"Company Name\",\n  \"email\": \"john@example.com\",\n  \"phone\": \"+1234567890\",\n  \"attendanceStatus\": \"CONFIRMED\",\n  \"attendeeCount\": 2,\n  \"dietaryPreference\": \"VEGETARIAN\",\n  \"dietaryOther\": \"No nuts\",\n  \"accessibilityNeeds\": \"Wheelchair access\",\n  \"referralSource\": \"WEBSITE\",\n  \"referralOther\": \"Google search\",\n  \"wantsResources\": true,\n  \"wantsAudit\": false,\n  \"learningGoal\": \"Learn about new technologies\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"google\",\n  \"utmMedium\": \"cpc\",\n  \"utmCampaign\": \"summer-event\",\n  \"utmTerm\": \"tech conference\",\n  \"utmContent\": \"banner-ad\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"tz\": \"America/Vancouver\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"ipHash\": \"hashed-ip\",\n  \"screenW\": 1920,\n  \"screenH\": 1080,\n  \"dpr\": 2.0,\n  \"platform\": \"MacIntel\",\n  \"device\": \"desktop\",\n  \"browser\": \"Chrome\",\n  \"meta\": \"additional data\"\n}\n```\n\n**Key Fields:**\n- `attendanceStatus` (string) - CONFIRMED, CANCELLED, etc.\n- `attendeeCount` (number) - Number of attendees\n- `dietaryPreference` (string) - Dietary requirements\n- `accessibilityNeeds` (string) - Accessibility requirements\n- `referralSource` (string) - How they found the event\n- `wantsResources` (boolean) - Wants additional resources\n- `wantsAudit` (boolean) - Wants audit information\n- `learningGoal` (string) - What they want to learn\n\n**Tracking Data:**\n- `visitorId` - Unique visitor identifier\n- `sessionId` - Session identifier\n- `referrer` - Referring URL\n- `utmSource`, `utmMedium`, `utmCampaign`, `utmTerm`, `utmContent` - UTM tracking\n- `userAgent` - Browser information\n- `language` - User language\n- `tz` - Timezone\n- `country`, `region`, `city` - Geographic data\n- `ipHash` - Hashed IP address\n- `screenW`, `screenH`, `dpr` - Screen information\n- `platform`, `device`, `browser` - Device information\n\n**Database Constraints:**\n- `email` field is unique\n- `id` is primary key (cuid)\n\n**API Endpoint:**\n```\nPOST /api/rsvp\n```\n\n**Security Features:**\n- CSRF protection\n- Rate limiting\n- Input validation\n- Test detection\n- Security logging\n\nLet me show you the RSVP data based on your request."
  },
  {
    "instruction": "Troubleshoot system issues",
    "input": "Help me fix Low email open rates",
    "output": "I'll help you troubleshoot Low email open rates. Here's a comprehensive solution:\n\n**Problem:** Low email open rates\n\n**Common Symptoms:**\n- Open rates below 20%\n- Declining engagement\n- Poor deliverability\n\n**Diagnostic Steps:**\n1. **Check System Status**: Verify all services are running\n2. **Review Logs**: Check error logs for specific issues\n3. **Test Components**: Test individual system components\n4. **Monitor Metrics**: Check relevant performance metrics\n5. **Validate Data**: Ensure data integrity\n\n**Recommended Solutions:**\n- Improve subject lines\n- Optimize send times\n- Clean email list\n- A/B test content\n\n**Implementation Steps:**\n"
  },
  {
    "instruction": "Explain system architecture and technical details",
    "input": "Explain the API structure",
    "output": "I'll explain the technical architecture of the RSVP system:\n\n**System Architecture:**\n\n**Frontend:**\n- **Framework**: Next.js 14 with React\n- **Styling**: Tailwind CSS\n- **Animations**: Framer Motion\n- **State Management**: React hooks (useState, useEffect)\n- **Authentication**: Session-based with cookies\n\n**Backend:**\n- **Runtime**: Node.js\n- **Framework**: Next.js API routes\n- **Database**: PostgreSQL with Prisma ORM\n- **Email Service**: Resend API\n- **Vector Database**: Weaviate (for RAG)\n- **AI Integration**: Gemini 2.5 Flash\n\n**Database Models:**\n- `RSVP` - Event RSVP submissions\n- `Visit` - Website visit tracking\n- `CampaignTemplate` - Email templates\n- `Campaign` - Email campaigns\n- `AudienceGroup` - Audience segmentation\n- `AudienceMember` - Individual audience members\n- `CampaignSchedule` - Campaign scheduling\n- `CampaignSend` - Individual email sends\n\n**API Structure:**\n- `/api/rsvp` - RSVP form submission\n- `/api/admin/campaign/campaigns` - Campaign management\n- `/api/admin/campaign/schedules` - Schedule management\n- `/api/admin/campaign/templates` - Template management\n- `/api/admin/campaign/groups` - Audience group management\n- `/api/admin/campaign/send` - Email sending\n- `/api/admin/export` - Data export\n- `/api/unsubscribe` - Unsubscribe handling\n- `/api/l/[token]` - Link tracking\n- `/api/__pixel` - Email open tracking\n\n**Security Features:**\n- CSRF protection with origin/referer validation\n- Rate limiting with IP fingerprinting\n- Input validation with Zod schemas\n- Test detection to prevent spam\n- Security logging for monitoring\n- Secure headers with CSP\n\n**Environment Variables:**\n- `DATABASE_URL` - PostgreSQL connection\n- `RESEND_API_KEY` - Email service\n- `GEMINI_API_KEY` - AI service\n- `WEAVIATE_URL` - Vector database\n- `WEAVIATE_API_KEY` - Vector database auth\n- `CRON_SECRET` - Cron job authentication\n\n**File Structure:**\n```\nrsvp-app/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 app/           # Next.js app router\n\u2502   \u2502   \u251c\u2500\u2500 api/       # API routes\n\u2502   \u2502   \u251c\u2500\u2500 admin/     # Admin panel\n\u2502   \u2502   \u2514\u2500\u2500 (public)/  # Public pages\n\u2502   \u251c\u2500\u2500 components/    # React components\n\u2502   \u251c\u2500\u2500 lib/          # Utilities and services\n\u2502   \u2514\u2500\u2500 prisma/       # Database schema\n\u251c\u2500\u2500 public/           # Static assets\n\u2514\u2500\u2500 docs/            # Documentation\n```\n\n**Deployment:**\n- **Platform**: Vercel (frontend)\n- **Database**: Neon (PostgreSQL)\n- **AI Service**: Railway (planned)\n- **Vector DB**: Weaviate Cloud\n\n**Email Delivery:**\n- Resend API for email sending\n- Throttling support (emails per minute)\n- Smart sending windows\n- Timezone support\n- Recurring campaigns\n- Link and open tracking\n\n**AI Assistant (Juniper):**\n- Conversational interface\n- Real-time execution display\n- Tool integration for database operations\n- Context awareness\n- Error handling and recovery\n- Pattern-matching system (to be replaced with fine-tuned SLM)\n\nThis architecture provides a scalable, secure, and maintainable system for RSVP management and email campaigns."
  },
  {
    "instruction": "Create a detailed email campaign",
    "input": "Make a referral program campaign",
    "output": "I'll help you create a comprehensive campaign for: Make a referral program campaign\n\n**Campaign Overview:**\nEncourage existing customers to refer friends with rewards\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Target Audience**: Which audience group should receive this?\n3. **Email Templates**: Do you have existing templates or need new ones?\n4. **Timing**: When should this campaign start?\n5. **Frequency**: How often should emails be sent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Campaign Structure:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Detailed description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"welcome-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1,\n      \"throttlePerMinute\": 60\n    },\n    {\n      \"templateId\": \"follow-up-template-id\",\n      \"groupId\": \"new-subscribers-id\",\n      \"sendAt\": \"2025-01-16T10:00:00Z\",\n      \"stepOrder\": 2,\n      \"throttlePerMinute\": 60\n    }\n  ]\n}\n```\n\n**Campaign Best Practices:**\n- Start with DRAFT status for testing\n- Use appropriate throttle rates (60 emails/minute recommended)\n- Set clear step orders for multi-step campaigns\n- Include timezone considerations\n- Test with small audience first\n\n**Next Steps:**\n1. Create or select email templates\n2. Define target audience groups\n3. Set up campaign steps with proper timing\n4. Test the campaign flow\n5. Schedule for production\n\nWould you like me to help you set up any specific part of this campaign?"
  },
  {
    "instruction": "Implement security measures",
    "input": "How do I secure email security?",
    "output": "I'll help you implement security measures for Email Security. Here's a comprehensive security guide:\n\n**Topic:** Email Security\n**Description:** Secure email delivery and prevent abuse\n\n**Security Measures:**\n- SPF records\n- DKIM signing\n- DMARC policy\n- Rate limiting\n\n**Implementation:**\n```json\n{\n  \"security\": {\n    \"topic\": \"Email Security\",\n    \"measures\": [\"SPF records\", \"DKIM signing\", \"DMARC policy\", \"Rate limiting\"],\n    \"implementation\": {\n      \"encryption\": \"AES-256\",\n      \"authentication\": \"JWT tokens\",\n      \"rateLimiting\": \"100 req/min per IP\",\n      \"validation\": \"Zod schemas\"\n    }\n  }\n}\n```\n\n**Security Headers:**\n```javascript\nconst securityHeaders = {\n  'Content-Security-Policy': \"default-src 'self'\",\n  'X-Frame-Options': 'DENY',\n  'X-Content-Type-Options': 'nosniff',\n  'Referrer-Policy': 'strict-origin-when-cross-origin',\n  'Permissions-Policy': 'camera=(), microphone=(), geolocation=()'\n};\n```\n\n**Best Practices:**\n- Regular security audits\n- Keep dependencies updated\n- Use secure coding practices\n- Implement proper logging\n- Monitor for security issues\n- Train team on security\n\n**Compliance Requirements:**\n- GDPR: User consent, data portability, right to deletion\n- CAN-SPAM: Unsubscribe links, sender identification, truthful content\n- Industry standards: SOC 2, ISO 27001\n\n**Monitoring and Alerting:**\n- Failed login attempts\n- Unusual API usage\n- Data access patterns\n- Security event logging\n\nWould you like me to help you implement specific security measures?"
  },
  {
    "instruction": "Troubleshoot system issues",
    "input": "Help me fix High bounce rates",
    "output": "I'll help you troubleshoot High bounce rates. Here's a comprehensive solution:\n\n**Problem:** High bounce rates\n\n**Common Symptoms:**\n- Bounce rate above 5%\n- Delivery failures\n- Spam complaints\n\n**Diagnostic Steps:**\n1. **Check System Status**: Verify all services are running\n2. **Review Logs**: Check error logs for specific issues\n3. **Test Components**: Test individual system components\n4. **Monitor Metrics**: Check relevant performance metrics\n5. **Validate Data**: Ensure data integrity\n\n**Recommended Solutions:**\n- Validate email addresses\n- Remove inactive subscribers\n- Improve sender reputation\n- Use double opt-in\n\n**Implementation Steps:**\n"
  },
  {
    "instruction": "Create a specific email template",
    "input": "Create a newsletter template",
    "output": "I'll help you create a Newsletter template. Here's a comprehensive setup:\n\n**Template Type:** Newsletter\n\n**Suggested Structure:**\n\n**Subject Line:**\n```\n{{newsletterTitle}} - {{month}} {{year}}\n```\n\n**HTML Body Template:**\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Newsletter</title>\n</head>\n<body style=\"font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: 0 auto; padding: 20px;\">\n    <div style=\"background: #f8f9fa; padding: 20px; border-radius: 8px;\">\n        <h1 style=\"color: #2c3e50; margin-bottom: 20px;\">{greeting_title}</h1>\n        <p style=\"font-size: 16px; margin-bottom: 20px;\">{greeting_message}</p>\n        \n        <div style=\"background: white; padding: 20px; border-radius: 6px; margin: 20px 0;\">\n            <h2 style=\"color: #34495e; margin-bottom: 15px;\">{main_content_title}</h2>\n            <p style=\"margin-bottom: 15px;\">This month's highlights, industry news, and company updates...</p>\n            \n            <div style=\"text-align: center; margin: 30px 0;\">\n                <a href=\"#\" style=\"background: #3498db; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; display: inline-block;\">{button_text}</a>\n            </div>\n        </div>\n        \n        <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd;\">\n            <h3 style=\"color: #2c3e50; margin-bottom: 10px;\">{additional_info_title}</h3>\n            <p style=\"font-size: 14px; color: #666;\">{additional_info_body}</p>\n        </div>\n        \n        <div style=\"margin-top: 20px; text-align: center;\">\n            <p style=\"font-size: 14px; color: #666;\">{closing_title}</p>\n            <p style=\"font-size: 14px; color: #666;\">{closing_message}</p>\n        </div>\n        \n        <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center;\">\n            <p style=\"font-size: 12px; color: #999;\">\n                <strong>{signature_name}</strong><br>\n                {signature_title}<br>\n                {signature_company}<br>\n                {signature_location}\n            </p>\n            <p style=\"font-size: 12px; color: #999; margin-top: 10px;\">\n                <a href=\"{unsubscribeUrl}\" style=\"color: #999;\">Unsubscribe</a> | \n                <a href=\"#\" style=\"color: #999;\">Update Preferences</a>\n            </p>\n        </div>\n    </div>\n</body>\n</html>\n```\n\n**Text Body Template:**\n```\n{greeting_title}\n\n{greeting_message}\n\n{main_content_title}\nThis month's highlights, industry news, and company updates...\n\n{button_text}: [Link]\n\n{additional_info_title}\n{additional_info_body}\n\n{closing_title}\n{closing_message}\n\n---\n{signature_name}\n{signature_title}\n{signature_company}\n{signature_location}\n\nUnsubscribe: {unsubscribeUrl}\n```\n\n**Template Variables:**\n{{name}}, {{newsletterTitle}}, {{month}}, {{year}}, {{unsubscribeUrl}}\n\n**API Request:**\n```json\n{\n  \"name\": \"Newsletter Template\",\n  \"subject\": \"{{newsletterTitle}} - {{month}} {{year}}\",\n  \"htmlBody\": \"[HTML content above]\",\n  \"textBody\": \"[Text content above]\",\n  \"meta\": {},\n  \"greeting_title\": \"Welcome!\",\n  \"greeting_message\": \"Thank you for your interest\",\n  \"signature_name\": \"Your Name\",\n  \"signature_title\": \"Your Title\",\n  \"signature_company\": \"Your Company\",\n  \"signature_location\": \"Your Location\",\n  \"main_content_title\": \"Newsletter\",\n  \"main_content_body\": \"This month's highlights, industry news, and company updates...\",\n  \"button_text\": \"Learn More\",\n  \"additional_info_title\": \"Additional Information\",\n  \"additional_info_body\": \"For more details, visit our website\",\n  \"closing_title\": \"Thank You\",\n  \"closing_message\": \"Best regards\"\n}\n```\n\n**Best Practices for Newsletter:**\n- Keep subject line under 50 characters\n- Use clear, actionable language\n- Include unsubscribe link\n- Test on mobile devices\n- Personalize with recipient data\n- A/B test different versions\n\nWould you like me to customize this template for your specific needs?"
  },
  {
    "instruction": "Create and manage audience groups",
    "input": "Create a group for premium members",
    "output": "I'll help you create a new audience group. Here's what I need:\n\n**Required Information:**\n1. **Group Name**: What should we call this group?\n2. **Description**: What does this group represent?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/groups\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Group Name\",\n  \"description\": \"Description of the group\",\n  \"color\": \"#10b981\",\n  \"criteria\": {\n    \"industry\": \"technology\",\n    \"engagement\": \"high\",\n    \"tags\": [\"vip\", \"premium\"]\n  },\n  \"meta\": {}\n}\n```\n\n**Required Fields:**\n- `name` (string) - Group name\n- `description` (string) - Group description\n- `criteria` (object) - Group criteria\n- `meta` (object) - Group metadata\n\n**Optional Fields:**\n- `color` (string) - Group color (default: \"#10b981\")\n\n**Response:**\n```json\n{\n  \"group\": {\n    \"id\": \"group-id\",\n    \"name\": \"Group Name\",\n    \"description\": \"Description\",\n    \"color\": \"#10b981\",\n    \"criteria\": {},\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\",\n    \"members\": []\n  }\n}\n```\n\n**Audience Member Structure:**\n```json\n{\n  \"id\": \"member-id\",\n  \"groupId\": \"group-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"primaryEmail\": \"email@example.com\",\n  \"secondaryEmail\": \"secondary@example.com\",\n  \"tagsSnapshot\": [\"tag1\", \"tag2\"],\n  \"inviteToken\": \"token\",\n  \"meta\": {},\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"unsubscribed\": false\n}\n```\n\n**Member Status:**\n- `unsubscribed` (boolean) - Whether member has unsubscribed\n\n**Database Constraints:**\n- Unique constraint on `[groupId, businessId]`\n- Indexes on `groupId` and `businessId`\n\nWould you like me to help you set up the group criteria?"
  },
  {
    "instruction": "Manage email campaigns",
    "input": "Show me all campaigns",
    "output": "I'll help you manage your campaigns. Here are the available actions:\n\n**List Campaigns:**\n```\nGET /api/admin/campaign/campaigns\n```\n\n**Response:**\n```json\n{\n  \"campaigns\": [\n    {\n      \"id\": \"campaign-id\",\n      \"name\": \"Campaign Name\",\n      \"description\": \"Description\",\n      \"status\": \"DRAFT\",\n      \"meta\": {},\n      \"createdAt\": \"2025-01-15T10:00:00Z\",\n      \"updatedAt\": \"2025-01-15T10:00:00Z\",\n      \"schedules\": []\n    }\n  ]\n}\n```\n\n**Get Campaign Details:**\n```\nGET /api/admin/campaign/campaigns/[id]\n```\n\n**Update Campaign:**\n```\nPUT /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"id\": \"campaign-id\",\n  \"name\": \"Updated Name\",\n  \"description\": \"Updated description\",\n  \"status\": \"SCHEDULED\",\n  \"steps\": []\n}\n```\n\n**Delete Campaign:**\n```\nDELETE /api/admin/campaign/campaigns/[id]\n```\n\n**Campaign Status Values:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\nLet me execute the appropriate action for your request."
  },
  {
    "instruction": "Handle complex business scenarios",
    "input": "How do I manage saas product launch campaign?",
    "output": "I'll help you manage SaaS Product Launch Campaign. Here's a comprehensive business solution:\n\n**Business Scenario:** SaaS Product Launch Campaign\n**Context:** Launching a new SaaS product with targeted email campaigns to different customer segments\n\n**Key Challenges:**\n- Segment-specific messaging\n- Timing optimization\n- Feature adoption tracking\n- Conversion optimization\n\n**Recommended Solutions:**\n- Audience segmentation\n- Smart sending windows\n- Behavioral triggers\n- A/B testing\n\n**Implementation Strategy:**\n\n**1. Audience Segmentation:**\n```json\n{\n  \"segments\": [\n    {\n      \"name\": \"Primary Audience\",\n      \"criteria\": {\n        \"engagement\": \"high\",\n        \"industry\": \"relevant\",\n        \"location\": \"target_region\"\n      }\n    },\n    {\n      \"name\": \"Secondary Audience\",\n      \"criteria\": {\n        \"engagement\": \"medium\",\n        \"potential\": \"high\"\n      }\n    }\n  ]\n}\n```\n\n**2. Campaign Structure:**\n```json\n{\n  \"campaigns\": [\n    {\n      \"name\": \"Initial Outreach\",\n      \"type\": \"announcement\",\n      \"audience\": \"primary\",\n      \"timing\": \"immediate\"\n    },\n    {\n      \"name\": \"Follow-up Series\",\n      \"type\": \"nurture\",\n      \"audience\": \"all\",\n      \"timing\": \"staggered\"\n    },\n    {\n      \"name\": \"Final Reminder\",\n      \"type\": \"urgency\",\n      \"audience\": \"non_responders\",\n      \"timing\": \"deadline_approach\"\n    }\n  ]\n}\n```\n\n**3. Automation Workflows:**\n```json\n{\n  \"workflows\": [\n    {\n      \"trigger\": \"RSVP_RECEIVED\",\n      \"actions\": [\n        \"send_confirmation\",\n        \"update_attendance_list\",\n        \"trigger_follow_up_sequence\"\n      ]\n    },\n    {\n      \"trigger\": \"EVENT_REMINDER\",\n      \"actions\": [\n        \"send_reminder_email\",\n        \"update_calendar_invite\",\n        \"check_capacity\"\n      ]\n    }\n  ]\n}\n```\n\n**4. Performance Tracking:**\n```json\n{\n  \"metrics\": {\n    \"rsvp_rate\": \"target_80_percent\",\n    \"email_open_rate\": \"target_25_percent\",\n    \"click_through_rate\": \"target_5_percent\",\n    \"conversion_rate\": \"target_15_percent\"\n  },\n  \"reporting\": [\n    \"daily_rsvp_summary\",\n    \"weekly_engagement_report\",\n    \"monthly_performance_analysis\"\n  ]\n}\n```\n\n**5. Integration Points:**\n- **CRM Integration**: Sync RSVP data with customer records\n- **Calendar Integration**: Automatically create calendar events\n- **Payment Integration**: Handle event fees and donations\n- **Analytics Integration**: Track engagement and conversions\n\n**Best Practices:**\n- Start with a pilot group to test the process\n- Use A/B testing to optimize messaging\n- Implement feedback loops for continuous improvement\n- Monitor key metrics and adjust strategies\n- Maintain data quality and compliance\n\n**Success Metrics:**\n- RSVP completion rate\n- Email engagement rates\n- Event attendance rate\n- Customer satisfaction scores\n- Revenue impact (if applicable)\n\nWould you like me to help you implement any specific part of this solution?"
  },
  {
    "instruction": "View and manage RSVP data",
    "input": "What RSVPs do I have?",
    "output": "I'll help you view RSVP data. Here's what I can show you:\n\n**RSVP Data Structure:**\n```json\n{\n  \"id\": \"rsvp-id\",\n  \"fullName\": \"John Doe\",\n  \"organization\": \"Company Name\",\n  \"email\": \"john@example.com\",\n  \"phone\": \"+1234567890\",\n  \"attendanceStatus\": \"CONFIRMED\",\n  \"attendeeCount\": 2,\n  \"dietaryPreference\": \"VEGETARIAN\",\n  \"dietaryOther\": \"No nuts\",\n  \"accessibilityNeeds\": \"Wheelchair access\",\n  \"referralSource\": \"WEBSITE\",\n  \"referralOther\": \"Google search\",\n  \"wantsResources\": true,\n  \"wantsAudit\": false,\n  \"learningGoal\": \"Learn about new technologies\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"google\",\n  \"utmMedium\": \"cpc\",\n  \"utmCampaign\": \"summer-event\",\n  \"utmTerm\": \"tech conference\",\n  \"utmContent\": \"banner-ad\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"tz\": \"America/Vancouver\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"ipHash\": \"hashed-ip\",\n  \"screenW\": 1920,\n  \"screenH\": 1080,\n  \"dpr\": 2.0,\n  \"platform\": \"MacIntel\",\n  \"device\": \"desktop\",\n  \"browser\": \"Chrome\",\n  \"meta\": \"additional data\"\n}\n```\n\n**Key Fields:**\n- `attendanceStatus` (string) - CONFIRMED, CANCELLED, etc.\n- `attendeeCount` (number) - Number of attendees\n- `dietaryPreference` (string) - Dietary requirements\n- `accessibilityNeeds` (string) - Accessibility requirements\n- `referralSource` (string) - How they found the event\n- `wantsResources` (boolean) - Wants additional resources\n- `wantsAudit` (boolean) - Wants audit information\n- `learningGoal` (string) - What they want to learn\n\n**Tracking Data:**\n- `visitorId` - Unique visitor identifier\n- `sessionId` - Session identifier\n- `referrer` - Referring URL\n- `utmSource`, `utmMedium`, `utmCampaign`, `utmTerm`, `utmContent` - UTM tracking\n- `userAgent` - Browser information\n- `language` - User language\n- `tz` - Timezone\n- `country`, `region`, `city` - Geographic data\n- `ipHash` - Hashed IP address\n- `screenW`, `screenH`, `dpr` - Screen information\n- `platform`, `device`, `browser` - Device information\n\n**Database Constraints:**\n- `email` field is unique\n- `id` is primary key (cuid)\n\n**API Endpoint:**\n```\nPOST /api/rsvp\n```\n\n**Security Features:**\n- CSRF protection\n- Rate limiting\n- Input validation\n- Test detection\n- Security logging\n\nLet me show you the RSVP data based on your request."
  },
  {
    "instruction": "View and manage RSVP data",
    "input": "Show referral sources",
    "output": "I'll help you view RSVP data. Here's what I can show you:\n\n**RSVP Data Structure:**\n```json\n{\n  \"id\": \"rsvp-id\",\n  \"fullName\": \"John Doe\",\n  \"organization\": \"Company Name\",\n  \"email\": \"john@example.com\",\n  \"phone\": \"+1234567890\",\n  \"attendanceStatus\": \"CONFIRMED\",\n  \"attendeeCount\": 2,\n  \"dietaryPreference\": \"VEGETARIAN\",\n  \"dietaryOther\": \"No nuts\",\n  \"accessibilityNeeds\": \"Wheelchair access\",\n  \"referralSource\": \"WEBSITE\",\n  \"referralOther\": \"Google search\",\n  \"wantsResources\": true,\n  \"wantsAudit\": false,\n  \"learningGoal\": \"Learn about new technologies\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"google\",\n  \"utmMedium\": \"cpc\",\n  \"utmCampaign\": \"summer-event\",\n  \"utmTerm\": \"tech conference\",\n  \"utmContent\": \"banner-ad\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"tz\": \"America/Vancouver\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"ipHash\": \"hashed-ip\",\n  \"screenW\": 1920,\n  \"screenH\": 1080,\n  \"dpr\": 2.0,\n  \"platform\": \"MacIntel\",\n  \"device\": \"desktop\",\n  \"browser\": \"Chrome\",\n  \"meta\": \"additional data\"\n}\n```\n\n**Key Fields:**\n- `attendanceStatus` (string) - CONFIRMED, CANCELLED, etc.\n- `attendeeCount` (number) - Number of attendees\n- `dietaryPreference` (string) - Dietary requirements\n- `accessibilityNeeds` (string) - Accessibility requirements\n- `referralSource` (string) - How they found the event\n- `wantsResources` (boolean) - Wants additional resources\n- `wantsAudit` (boolean) - Wants audit information\n- `learningGoal` (string) - What they want to learn\n\n**Tracking Data:**\n- `visitorId` - Unique visitor identifier\n- `sessionId` - Session identifier\n- `referrer` - Referring URL\n- `utmSource`, `utmMedium`, `utmCampaign`, `utmTerm`, `utmContent` - UTM tracking\n- `userAgent` - Browser information\n- `language` - User language\n- `tz` - Timezone\n- `country`, `region`, `city` - Geographic data\n- `ipHash` - Hashed IP address\n- `screenW`, `screenH`, `dpr` - Screen information\n- `platform`, `device`, `browser` - Device information\n\n**Database Constraints:**\n- `email` field is unique\n- `id` is primary key (cuid)\n\n**API Endpoint:**\n```\nPOST /api/rsvp\n```\n\n**Security Features:**\n- CSRF protection\n- Rate limiting\n- Input validation\n- Test detection\n- Security logging\n\nLet me show you the RSVP data based on your request."
  },
  {
    "instruction": "Create and manage campaign schedules",
    "input": "Create immediate send schedule",
    "output": "I'll help you create a campaign schedule. Here's what I need:\n\n**Required Information:**\n1. **Schedule Name**: What should we call this schedule?\n2. **Template ID**: Which email template to use?\n3. **Group ID**: Which audience group to target?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/schedules\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Schedule Name\",\n  \"templateId\": \"template-id\",\n  \"groupId\": \"audience-group-id\",\n  \"campaignId\": \"campaign-id\",\n  \"sendAt\": \"2025-01-15T10:00:00Z\",\n  \"throttlePerMinute\": 60,\n  \"repeatIntervalMins\": null,\n  \"stepOrder\": 1,\n  \"smartWindowStart\": \"2025-01-15T09:00:00Z\",\n  \"smartWindowEnd\": \"2025-01-15T17:00:00Z\",\n  \"timeZone\": \"America/Vancouver\",\n  \"status\": \"DRAFT\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Schedule name\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n\n**Optional Fields:**\n- `campaignId` (string) - Associated campaign ID\n- `sendAt` (ISO date string) - When to send (null for immediate)\n- `throttlePerMinute` (number) - Email sending rate (default: 60)\n- `repeatIntervalMins` (number) - Recurring interval in minutes\n- `stepOrder` (number) - Order in multi-step campaign (default: 1)\n- `smartWindowStart` (ISO date string) - Smart sending window start\n- `smartWindowEnd` (ISO date string) - Smart sending window end\n- `timeZone` (string) - Timezone (default: \"America/Vancouver\")\n- `status` (string) - Schedule status\n\n**Schedule Status Options:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\n**Response:**\n```json\n{\n  \"schedule\": {\n    \"id\": \"schedule-id\",\n    \"name\": \"Schedule Name\",\n    \"templateId\": \"template-id\",\n    \"groupId\": \"audience-group-id\",\n    \"status\": \"DRAFT\",\n    \"sendAt\": \"2025-01-15T10:00:00Z\",\n    \"timeZone\": \"America/Vancouver\",\n    \"throttlePerMinute\": 60,\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you set up the schedule details?"
  },
  {
    "instruction": "Handle complex business scenarios",
    "input": "How do I manage tech conference rsvp management?",
    "output": "I'll help you manage Tech Conference RSVP Management. Here's a comprehensive business solution:\n\n**Business Scenario:** Tech Conference RSVP Management\n**Context:** Managing RSVPs for a 500-person tech conference with multiple sessions, dietary requirements, and accessibility needs\n\n**Key Challenges:**\n- High volume RSVPs\n- Complex dietary tracking\n- Accessibility accommodations\n- Session capacity management\n\n**Recommended Solutions:**\n- Automated RSVP processing\n- Dietary preference tracking\n- Accessibility needs documentation\n- Real-time capacity monitoring\n\n**Implementation Strategy:**\n\n**1. Audience Segmentation:**\n```json\n{\n  \"segments\": [\n    {\n      \"name\": \"Primary Audience\",\n      \"criteria\": {\n        \"engagement\": \"high\",\n        \"industry\": \"relevant\",\n        \"location\": \"target_region\"\n      }\n    },\n    {\n      \"name\": \"Secondary Audience\",\n      \"criteria\": {\n        \"engagement\": \"medium\",\n        \"potential\": \"high\"\n      }\n    }\n  ]\n}\n```\n\n**2. Campaign Structure:**\n```json\n{\n  \"campaigns\": [\n    {\n      \"name\": \"Initial Outreach\",\n      \"type\": \"announcement\",\n      \"audience\": \"primary\",\n      \"timing\": \"immediate\"\n    },\n    {\n      \"name\": \"Follow-up Series\",\n      \"type\": \"nurture\",\n      \"audience\": \"all\",\n      \"timing\": \"staggered\"\n    },\n    {\n      \"name\": \"Final Reminder\",\n      \"type\": \"urgency\",\n      \"audience\": \"non_responders\",\n      \"timing\": \"deadline_approach\"\n    }\n  ]\n}\n```\n\n**3. Automation Workflows:**\n```json\n{\n  \"workflows\": [\n    {\n      \"trigger\": \"RSVP_RECEIVED\",\n      \"actions\": [\n        \"send_confirmation\",\n        \"update_attendance_list\",\n        \"trigger_follow_up_sequence\"\n      ]\n    },\n    {\n      \"trigger\": \"EVENT_REMINDER\",\n      \"actions\": [\n        \"send_reminder_email\",\n        \"update_calendar_invite\",\n        \"check_capacity\"\n      ]\n    }\n  ]\n}\n```\n\n**4. Performance Tracking:**\n```json\n{\n  \"metrics\": {\n    \"rsvp_rate\": \"target_80_percent\",\n    \"email_open_rate\": \"target_25_percent\",\n    \"click_through_rate\": \"target_5_percent\",\n    \"conversion_rate\": \"target_15_percent\"\n  },\n  \"reporting\": [\n    \"daily_rsvp_summary\",\n    \"weekly_engagement_report\",\n    \"monthly_performance_analysis\"\n  ]\n}\n```\n\n**5. Integration Points:**\n- **CRM Integration**: Sync RSVP data with customer records\n- **Calendar Integration**: Automatically create calendar events\n- **Payment Integration**: Handle event fees and donations\n- **Analytics Integration**: Track engagement and conversions\n\n**Best Practices:**\n- Start with a pilot group to test the process\n- Use A/B testing to optimize messaging\n- Implement feedback loops for continuous improvement\n- Monitor key metrics and adjust strategies\n- Maintain data quality and compliance\n\n**Success Metrics:**\n- RSVP completion rate\n- Email engagement rates\n- Event attendance rate\n- Customer satisfaction scores\n- Revenue impact (if applicable)\n\nWould you like me to help you implement any specific part of this solution?"
  },
  {
    "instruction": "Troubleshoot system issues",
    "input": "Help me fix Campaign not sending",
    "output": "I'll help you troubleshoot Campaign not sending. Here's a comprehensive solution:\n\n**Problem:** Campaign not sending\n\n**Common Symptoms:**\n- Campaign stuck in DRAFT\n- No emails sent\n- Error messages\n\n**Diagnostic Steps:**\n1. **Check System Status**: Verify all services are running\n2. **Review Logs**: Check error logs for specific issues\n3. **Test Components**: Test individual system components\n4. **Monitor Metrics**: Check relevant performance metrics\n5. **Validate Data**: Ensure data integrity\n\n**Recommended Solutions:**\n- Check campaign status\n- Verify audience groups\n- Test email templates\n- Check API limits\n\n**Implementation Steps:**\n"
  },
  {
    "instruction": "Troubleshoot system issues",
    "input": "Help me fix RSVP form issues",
    "output": "I'll help you troubleshoot RSVP form issues. Here's a comprehensive solution:\n\n**Problem:** RSVP form issues\n\n**Common Symptoms:**\n- Form not submitting\n- Validation errors\n- Missing data\n\n**Diagnostic Steps:**\n1. **Check System Status**: Verify all services are running\n2. **Review Logs**: Check error logs for specific issues\n3. **Test Components**: Test individual system components\n4. **Monitor Metrics**: Check relevant performance metrics\n5. **Validate Data**: Ensure data integrity\n\n**Recommended Solutions:**\n- Check form validation\n- Test form submission\n- Verify database connection\n- Review error logs\n\n**Implementation Steps:**\n"
  },
  {
    "instruction": "Create a specific email template",
    "input": "Create a promotional template",
    "output": "I'll help you create a Promotional template. Here's a comprehensive setup:\n\n**Template Type:** Promotional\n\n**Suggested Structure:**\n\n**Subject Line:**\n```\n{{discount}}% Off {{product}} - Limited Time!\n```\n\n**HTML Body Template:**\n```html\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Promotional</title>\n</head>\n<body style=\"font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: 0 auto; padding: 20px;\">\n    <div style=\"background: #f8f9fa; padding: 20px; border-radius: 8px;\">\n        <h1 style=\"color: #2c3e50; margin-bottom: 20px;\">{greeting_title}</h1>\n        <p style=\"font-size: 16px; margin-bottom: 20px;\">{greeting_message}</p>\n        \n        <div style=\"background: white; padding: 20px; border-radius: 6px; margin: 20px 0;\">\n            <h2 style=\"color: #34495e; margin-bottom: 15px;\">{main_content_title}</h2>\n            <p style=\"margin-bottom: 15px;\">Don't miss this exclusive offer. Valid until {{expiryDate}}...</p>\n            \n            <div style=\"text-align: center; margin: 30px 0;\">\n                <a href=\"#\" style=\"background: #3498db; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; display: inline-block;\">{button_text}</a>\n            </div>\n        </div>\n        \n        <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd;\">\n            <h3 style=\"color: #2c3e50; margin-bottom: 10px;\">{additional_info_title}</h3>\n            <p style=\"font-size: 14px; color: #666;\">{additional_info_body}</p>\n        </div>\n        \n        <div style=\"margin-top: 20px; text-align: center;\">\n            <p style=\"font-size: 14px; color: #666;\">{closing_title}</p>\n            <p style=\"font-size: 14px; color: #666;\">{closing_message}</p>\n        </div>\n        \n        <div style=\"margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center;\">\n            <p style=\"font-size: 12px; color: #999;\">\n                <strong>{signature_name}</strong><br>\n                {signature_title}<br>\n                {signature_company}<br>\n                {signature_location}\n            </p>\n            <p style=\"font-size: 12px; color: #999; margin-top: 10px;\">\n                <a href=\"{unsubscribeUrl}\" style=\"color: #999;\">Unsubscribe</a> | \n                <a href=\"#\" style=\"color: #999;\">Update Preferences</a>\n            </p>\n        </div>\n    </div>\n</body>\n</html>\n```\n\n**Text Body Template:**\n```\n{greeting_title}\n\n{greeting_message}\n\n{main_content_title}\nDon't miss this exclusive offer. Valid until {{expiryDate}}...\n\n{button_text}: [Link]\n\n{additional_info_title}\n{additional_info_body}\n\n{closing_title}\n{closing_message}\n\n---\n{signature_name}\n{signature_title}\n{signature_company}\n{signature_location}\n\nUnsubscribe: {unsubscribeUrl}\n```\n\n**Template Variables:**\n{{name}}, {{discount}}, {{product}}, {{expiryDate}}, {{promoCode}}\n\n**API Request:**\n```json\n{\n  \"name\": \"Promotional Template\",\n  \"subject\": \"{{discount}}% Off {{product}} - Limited Time!\",\n  \"htmlBody\": \"[HTML content above]\",\n  \"textBody\": \"[Text content above]\",\n  \"meta\": {},\n  \"greeting_title\": \"Welcome!\",\n  \"greeting_message\": \"Thank you for your interest\",\n  \"signature_name\": \"Your Name\",\n  \"signature_title\": \"Your Title\",\n  \"signature_company\": \"Your Company\",\n  \"signature_location\": \"Your Location\",\n  \"main_content_title\": \"Promotional\",\n  \"main_content_body\": \"Don't miss this exclusive offer. Valid until {{expiryDate}}...\",\n  \"button_text\": \"Learn More\",\n  \"additional_info_title\": \"Additional Information\",\n  \"additional_info_body\": \"For more details, visit our website\",\n  \"closing_title\": \"Thank You\",\n  \"closing_message\": \"Best regards\"\n}\n```\n\n**Best Practices for Promotional:**\n- Keep subject line under 50 characters\n- Use clear, actionable language\n- Include unsubscribe link\n- Test on mobile devices\n- Personalize with recipient data\n- A/B test different versions\n\nWould you like me to customize this template for your specific needs?"
  },
  {
    "instruction": "View analytics and generate reports",
    "input": "Show me bounce rates",
    "output": "I'll help you analyze your email performance. Here's what I can show you:\n\n**Campaign Analytics:**\n\n**CampaignSend Status Tracking:**\n```json\n{\n  \"id\": \"send-id\",\n  \"scheduleId\": \"schedule-id\",\n  \"groupId\": \"group-id\",\n  \"templateId\": \"template-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"email\": \"email@example.com\",\n  \"inviteToken\": \"token\",\n  \"inviteLink\": \"https://example.com/l/token\",\n  \"resendMessageId\": \"resend-message-id\",\n  \"status\": \"SENT\",\n  \"error\": null,\n  \"meta\": {},\n  \"sentAt\": \"2025-01-15T10:00:00Z\",\n  \"openedAt\": \"2025-01-15T10:05:00Z\",\n  \"visitedAt\": \"2025-01-15T10:10:00Z\"\n}\n```\n\n**CampaignSend Status Values:**\n- `PENDING` - Not yet sent\n- `SENDING` - Currently being sent\n- `SENT` - Successfully sent\n- `FAILED` - Failed to send\n- `SKIPPED` - Skipped (e.g., unsubscribed)\n\n**Key Metrics:**\n- **Sent Count**: Total emails sent\n- **Open Rate**: Percentage of emails opened (openedAt not null)\n- **Click Rate**: Percentage of emails clicked (visitedAt not null)\n- **Bounce Rate**: Percentage of failed sends\n- **Unsubscribe Rate**: Percentage of unsubscribed members\n\n**Visit Tracking:**\n```json\n{\n  \"id\": \"visit-id\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"path\": \"/event-page\",\n  \"query\": \"?utm_source=email\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"email\",\n  \"utmMedium\": \"newsletter\",\n  \"utmCampaign\": \"summer-event\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"timeOnPageMs\": 30000,\n  \"scrollDepth\": 75\n}\n```\n\n**Analytics Endpoints:**\n- `GET /api/admin/campaign/dashboard` - Dashboard overview\n- `GET /api/admin/export` - Export data\n- `GET /api/l/[token]` - Track link clicks\n- `GET /api/__pixel` - Track email opens\n\n**Export Options:**\n- CSV format for RSVP data\n- JSON format for campaign data\n- Filtered by date range\n- Filtered by campaign/group\n\n**Performance Tracking:**\n- Email delivery rates\n- Open and click tracking\n- Geographic distribution\n- Device and browser analytics\n- Time-based performance\n- A/B testing results\n\nLet me generate the appropriate analytics report for your request."
  },
  {
    "instruction": "Optimize system performance",
    "input": "How do I optimize frontend performance?",
    "output": "I'll help you optimize Frontend Performance. Here's a comprehensive optimization guide:\n\n**Area:** Frontend Performance\n\n**Common Issues:**\n- Slow page loads\n- High bundle size\n- Poor user experience\n\n**Optimization Solutions:**\n- Code splitting\n- Image optimization\n- Lazy loading\n- CDN usage\n\n**Performance Monitoring:**\n```json\n{\n  \"area\": \"Frontend Performance\",\n  \"metrics\": {\n    \"responseTime\": \"< 200ms\",\n    \"throughput\": \"> 1000 req/min\",\n    \"errorRate\": \"< 1%\",\n    \"uptime\": \"> 99.9%\"\n  },\n  \"alerts\": [\n    \"High response time\",\n    \"Error rate spike\",\n    \"Resource usage high\"\n  ]\n}\n```\n\n**Implementation Steps:**\n1. **Baseline Measurement**: Measure current performance\n2. **Identify Bottlenecks**: Find performance issues\n3. **Implement Solutions**: Apply optimization techniques\n4. **Test Performance**: Verify improvements\n5. **Monitor Continuously**: Set up ongoing monitoring\n\n**Tools and Techniques:**\n- Performance profiling\n- Database query analysis\n- API response time monitoring\n- Error rate tracking\n- Resource usage monitoring\n\n**Best Practices:**\n- Regular performance audits\n- Proactive monitoring\n- Gradual optimization\n- A/B testing improvements\n- Documentation of changes\n\nWould you like me to help you implement specific optimizations?"
  },
  {
    "instruction": "View and manage RSVP data",
    "input": "Export RSVP to CSV",
    "output": "I'll help you view RSVP data. Here's what I can show you:\n\n**RSVP Data Structure:**\n```json\n{\n  \"id\": \"rsvp-id\",\n  \"fullName\": \"John Doe\",\n  \"organization\": \"Company Name\",\n  \"email\": \"john@example.com\",\n  \"phone\": \"+1234567890\",\n  \"attendanceStatus\": \"CONFIRMED\",\n  \"attendeeCount\": 2,\n  \"dietaryPreference\": \"VEGETARIAN\",\n  \"dietaryOther\": \"No nuts\",\n  \"accessibilityNeeds\": \"Wheelchair access\",\n  \"referralSource\": \"WEBSITE\",\n  \"referralOther\": \"Google search\",\n  \"wantsResources\": true,\n  \"wantsAudit\": false,\n  \"learningGoal\": \"Learn about new technologies\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"google\",\n  \"utmMedium\": \"cpc\",\n  \"utmCampaign\": \"summer-event\",\n  \"utmTerm\": \"tech conference\",\n  \"utmContent\": \"banner-ad\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"tz\": \"America/Vancouver\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"ipHash\": \"hashed-ip\",\n  \"screenW\": 1920,\n  \"screenH\": 1080,\n  \"dpr\": 2.0,\n  \"platform\": \"MacIntel\",\n  \"device\": \"desktop\",\n  \"browser\": \"Chrome\",\n  \"meta\": \"additional data\"\n}\n```\n\n**Key Fields:**\n- `attendanceStatus` (string) - CONFIRMED, CANCELLED, etc.\n- `attendeeCount` (number) - Number of attendees\n- `dietaryPreference` (string) - Dietary requirements\n- `accessibilityNeeds` (string) - Accessibility requirements\n- `referralSource` (string) - How they found the event\n- `wantsResources` (boolean) - Wants additional resources\n- `wantsAudit` (boolean) - Wants audit information\n- `learningGoal` (string) - What they want to learn\n\n**Tracking Data:**\n- `visitorId` - Unique visitor identifier\n- `sessionId` - Session identifier\n- `referrer` - Referring URL\n- `utmSource`, `utmMedium`, `utmCampaign`, `utmTerm`, `utmContent` - UTM tracking\n- `userAgent` - Browser information\n- `language` - User language\n- `tz` - Timezone\n- `country`, `region`, `city` - Geographic data\n- `ipHash` - Hashed IP address\n- `screenW`, `screenH`, `dpr` - Screen information\n- `platform`, `device`, `browser` - Device information\n\n**Database Constraints:**\n- `email` field is unique\n- `id` is primary key (cuid)\n\n**API Endpoint:**\n```\nPOST /api/rsvp\n```\n\n**Security Features:**\n- CSRF protection\n- Rate limiting\n- Input validation\n- Test detection\n- Security logging\n\nLet me show you the RSVP data based on your request."
  },
  {
    "instruction": "Implement industry-specific solutions",
    "input": "How do I set up email campaigns for financial services?",
    "output": "I'll help you set up email campaigns for the Financial Services industry. Here's a comprehensive industry-specific solution:\n\n**Industry:** Financial Services\n\n**Common Use Cases:**\n- Client seminars\n- Investment workshops\n- Compliance training\n- Regulatory updates\n\n**Compliance Requirements:**\n- SOX compliance\n- Financial regulations\n- Client data protection\n- Audit requirements\n\n**Key Features:**\n- Secure communication\n- Compliance tracking\n- Client segmentation\n- Regulatory reporting\n\n**Industry-Specific Configuration:**\n\n**1. Audience Segmentation:**\n```json\n{\n  \"segments\": [\n    {\n      \"name\": \"Primary Stakeholders\",\n      \"criteria\": {\n        \"role\": \"primary\",\n        \"engagement\": \"high\",\n        \"compliance_status\": \"verified\"\n      }\n    },\n    {\n      \"name\": \"Secondary Audience\",\n      \"criteria\": {\n        \"role\": \"secondary\",\n        \"potential\": \"high\",\n        \"compliance_status\": \"pending\"\n      }\n    }\n  ]\n}\n```\n\n**2. Compliance Templates:**\n```json\n{\n  \"templates\": [\n    {\n      \"name\": \"Compliance Notice\",\n      \"subject\": \"Important Financial Services Update\",\n      \"content\": \"Industry-specific compliance information\",\n      \"disclaimers\": \"Required legal disclaimers\"\n    },\n    {\n      \"name\": \"Event Invitation\",\n      \"subject\": \"You're Invited: Financial Services Event\",\n      \"content\": \"Event details and registration\",\n      \"compliance\": \"Industry-specific requirements\"\n    }\n  ]\n}\n```\n\n**3. Data Protection:**\n```json\n{\n  \"data_protection\": {\n    \"encryption\": \"AES-256\",\n    \"access_controls\": \"role_based\",\n    \"audit_logging\": \"comprehensive\",\n    \"retention_policy\": \"industry_compliant\",\n    \"backup_strategy\": \"encrypted_backups\"\n  }\n}\n```\n\n**4. Workflow Automation:**\n```json\n{\n  \"workflows\": [\n    {\n      \"trigger\": \"COMPLIANCE_UPDATE\",\n      \"actions\": [\n        \"send_compliance_notice\",\n        \"update_audit_log\",\n        \"notify_compliance_team\"\n      ]\n    },\n    {\n      \"trigger\": \"EVENT_REGISTRATION\",\n      \"actions\": [\n        \"send_confirmation\",\n        \"update_attendance_list\",\n        \"trigger_reminder_sequence\"\n      ]\n    }\n  ]\n}\n```\n\n**5. Reporting and Analytics:**\n```json\n{\n  \"reporting\": {\n    \"compliance_reports\": \"monthly\",\n    \"engagement_metrics\": \"weekly\",\n    \"audit_trails\": \"real_time\",\n    \"performance_dashboard\": \"daily\"\n  }\n}\n```\n\n**Implementation Checklist:**\n- [ ] Set up industry-specific audience segments\n- [ ] Create compliance-compliant email templates\n- [ ] Implement data protection measures\n- [ ] Configure audit logging\n- [ ] Set up automated workflows\n- [ ] Test compliance requirements\n- [ ] Train team on industry regulations\n- [ ] Establish monitoring and reporting\n\n**Best Practices:**\n- Regular compliance audits\n- Staff training on industry regulations\n- Data minimization principles\n- Transparent communication\n- Continuous monitoring\n- Incident response planning\n\n**Success Metrics:**\n- Compliance adherence rate\n- Engagement rates\n- Event attendance\n- Customer satisfaction\n- Regulatory compliance score\n\nWould you like me to help you implement any specific compliance or industry requirements?"
  },
  {
    "instruction": "Create and manage campaign schedules",
    "input": "Set up email scheduling",
    "output": "I'll help you create a campaign schedule. Here's what I need:\n\n**Required Information:**\n1. **Schedule Name**: What should we call this schedule?\n2. **Template ID**: Which email template to use?\n3. **Group ID**: Which audience group to target?\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/schedules\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Schedule Name\",\n  \"templateId\": \"template-id\",\n  \"groupId\": \"audience-group-id\",\n  \"campaignId\": \"campaign-id\",\n  \"sendAt\": \"2025-01-15T10:00:00Z\",\n  \"throttlePerMinute\": 60,\n  \"repeatIntervalMins\": null,\n  \"stepOrder\": 1,\n  \"smartWindowStart\": \"2025-01-15T09:00:00Z\",\n  \"smartWindowEnd\": \"2025-01-15T17:00:00Z\",\n  \"timeZone\": \"America/Vancouver\",\n  \"status\": \"DRAFT\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Schedule name\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n\n**Optional Fields:**\n- `campaignId` (string) - Associated campaign ID\n- `sendAt` (ISO date string) - When to send (null for immediate)\n- `throttlePerMinute` (number) - Email sending rate (default: 60)\n- `repeatIntervalMins` (number) - Recurring interval in minutes\n- `stepOrder` (number) - Order in multi-step campaign (default: 1)\n- `smartWindowStart` (ISO date string) - Smart sending window start\n- `smartWindowEnd` (ISO date string) - Smart sending window end\n- `timeZone` (string) - Timezone (default: \"America/Vancouver\")\n- `status` (string) - Schedule status\n\n**Schedule Status Options:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\n**Response:**\n```json\n{\n  \"schedule\": {\n    \"id\": \"schedule-id\",\n    \"name\": \"Schedule Name\",\n    \"templateId\": \"template-id\",\n    \"groupId\": \"audience-group-id\",\n    \"status\": \"DRAFT\",\n    \"sendAt\": \"2025-01-15T10:00:00Z\",\n    \"timeZone\": \"America/Vancouver\",\n    \"throttlePerMinute\": 60,\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you set up the schedule details?"
  },
  {
    "instruction": "Implement advanced features",
    "input": "Set up advanced segmentation",
    "output": "I'll help you implement Advanced Segmentation. Here's a comprehensive guide:\n\n**Feature:** Advanced Segmentation\n**Description:** Create complex audience segments with multiple criteria\n**Implementation:** Use nested criteria and boolean logic for segmentation\n\n**Setup Requirements:**\n"
  },
  {
    "instruction": "Generate analytics report",
    "input": "Generate a email deliverability report",
    "output": "I'll help you generate a Email Deliverability Report. Here's a comprehensive analysis:\n\n**Report Type:** Email Deliverability Report\n**Timeframe:** last_7_days\n**Key Metrics:** delivery_rate, bounce_rate, spam_rate, reputation_score\n**Breakdown:** by_domain, by_provider, by_campaign\n\n**Data Collection:**\n```json\n{\n  \"reportType\": \"Email Deliverability Report\",\n  \"timeframe\": \"last_7_days\",\n  \"metrics\": [\"delivery_rate\", \"bounce_rate\", \"spam_rate\", \"reputation_score\"],\n  \"breakdown\": [\"by_domain\", \"by_provider\", \"by_campaign\"],\n  \"filters\": {\n    \"campaignStatus\": [\"SENT\", \"COMPLETED\"],\n    \"audienceGroups\": [\"all\"],\n    \"excludeTest\": true\n  }\n}\n```\n\n**API Endpoints:**\n- `GET /api/admin/campaign/dashboard` - Dashboard data\n- `GET /api/admin/export` - Export raw data\n- `GET /api/admin/analytics/visitors` - Visitor analytics\n- `GET /api/admin/analytics/tracking-links` - Link performance\n\n**Key Performance Indicators:**\n"
  },
  {
    "instruction": "Explain system architecture and technical details",
    "input": "How does email delivery work?",
    "output": "I'll explain the technical architecture of the RSVP system:\n\n**System Architecture:**\n\n**Frontend:**\n- **Framework**: Next.js 14 with React\n- **Styling**: Tailwind CSS\n- **Animations**: Framer Motion\n- **State Management**: React hooks (useState, useEffect)\n- **Authentication**: Session-based with cookies\n\n**Backend:**\n- **Runtime**: Node.js\n- **Framework**: Next.js API routes\n- **Database**: PostgreSQL with Prisma ORM\n- **Email Service**: Resend API\n- **Vector Database**: Weaviate (for RAG)\n- **AI Integration**: Gemini 2.5 Flash\n\n**Database Models:**\n- `RSVP` - Event RSVP submissions\n- `Visit` - Website visit tracking\n- `CampaignTemplate` - Email templates\n- `Campaign` - Email campaigns\n- `AudienceGroup` - Audience segmentation\n- `AudienceMember` - Individual audience members\n- `CampaignSchedule` - Campaign scheduling\n- `CampaignSend` - Individual email sends\n\n**API Structure:**\n- `/api/rsvp` - RSVP form submission\n- `/api/admin/campaign/campaigns` - Campaign management\n- `/api/admin/campaign/schedules` - Schedule management\n- `/api/admin/campaign/templates` - Template management\n- `/api/admin/campaign/groups` - Audience group management\n- `/api/admin/campaign/send` - Email sending\n- `/api/admin/export` - Data export\n- `/api/unsubscribe` - Unsubscribe handling\n- `/api/l/[token]` - Link tracking\n- `/api/__pixel` - Email open tracking\n\n**Security Features:**\n- CSRF protection with origin/referer validation\n- Rate limiting with IP fingerprinting\n- Input validation with Zod schemas\n- Test detection to prevent spam\n- Security logging for monitoring\n- Secure headers with CSP\n\n**Environment Variables:**\n- `DATABASE_URL` - PostgreSQL connection\n- `RESEND_API_KEY` - Email service\n- `GEMINI_API_KEY` - AI service\n- `WEAVIATE_URL` - Vector database\n- `WEAVIATE_API_KEY` - Vector database auth\n- `CRON_SECRET` - Cron job authentication\n\n**File Structure:**\n```\nrsvp-app/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 app/           # Next.js app router\n\u2502   \u2502   \u251c\u2500\u2500 api/       # API routes\n\u2502   \u2502   \u251c\u2500\u2500 admin/     # Admin panel\n\u2502   \u2502   \u2514\u2500\u2500 (public)/  # Public pages\n\u2502   \u251c\u2500\u2500 components/    # React components\n\u2502   \u251c\u2500\u2500 lib/          # Utilities and services\n\u2502   \u2514\u2500\u2500 prisma/       # Database schema\n\u251c\u2500\u2500 public/           # Static assets\n\u2514\u2500\u2500 docs/            # Documentation\n```\n\n**Deployment:**\n- **Platform**: Vercel (frontend)\n- **Database**: Neon (PostgreSQL)\n- **AI Service**: Railway (planned)\n- **Vector DB**: Weaviate Cloud\n\n**Email Delivery:**\n- Resend API for email sending\n- Throttling support (emails per minute)\n- Smart sending windows\n- Timezone support\n- Recurring campaigns\n- Link and open tracking\n\n**AI Assistant (Juniper):**\n- Conversational interface\n- Real-time execution display\n- Tool integration for database operations\n- Context awareness\n- Error handling and recovery\n- Pattern-matching system (to be replaced with fine-tuned SLM)\n\nThis architecture provides a scalable, secure, and maintainable system for RSVP management and email campaigns."
  },
  {
    "instruction": "Handle complex business scenarios",
    "input": "How do I manage corporate training program?",
    "output": "I'll help you manage Corporate Training Program. Here's a comprehensive business solution:\n\n**Business Scenario:** Corporate Training Program\n**Context:** Managing employee training sessions with RSVP tracking, material distribution, and progress monitoring\n\n**Key Challenges:**\n- Employee scheduling\n- Training material delivery\n- Progress tracking\n- Compliance reporting\n\n**Recommended Solutions:**\n- Employee segmentation\n- Automated material delivery\n- Progress monitoring\n- Compliance automation\n\n**Implementation Strategy:**\n\n**1. Audience Segmentation:**\n```json\n{\n  \"segments\": [\n    {\n      \"name\": \"Primary Audience\",\n      \"criteria\": {\n        \"engagement\": \"high\",\n        \"industry\": \"relevant\",\n        \"location\": \"target_region\"\n      }\n    },\n    {\n      \"name\": \"Secondary Audience\",\n      \"criteria\": {\n        \"engagement\": \"medium\",\n        \"potential\": \"high\"\n      }\n    }\n  ]\n}\n```\n\n**2. Campaign Structure:**\n```json\n{\n  \"campaigns\": [\n    {\n      \"name\": \"Initial Outreach\",\n      \"type\": \"announcement\",\n      \"audience\": \"primary\",\n      \"timing\": \"immediate\"\n    },\n    {\n      \"name\": \"Follow-up Series\",\n      \"type\": \"nurture\",\n      \"audience\": \"all\",\n      \"timing\": \"staggered\"\n    },\n    {\n      \"name\": \"Final Reminder\",\n      \"type\": \"urgency\",\n      \"audience\": \"non_responders\",\n      \"timing\": \"deadline_approach\"\n    }\n  ]\n}\n```\n\n**3. Automation Workflows:**\n```json\n{\n  \"workflows\": [\n    {\n      \"trigger\": \"RSVP_RECEIVED\",\n      \"actions\": [\n        \"send_confirmation\",\n        \"update_attendance_list\",\n        \"trigger_follow_up_sequence\"\n      ]\n    },\n    {\n      \"trigger\": \"EVENT_REMINDER\",\n      \"actions\": [\n        \"send_reminder_email\",\n        \"update_calendar_invite\",\n        \"check_capacity\"\n      ]\n    }\n  ]\n}\n```\n\n**4. Performance Tracking:**\n```json\n{\n  \"metrics\": {\n    \"rsvp_rate\": \"target_80_percent\",\n    \"email_open_rate\": \"target_25_percent\",\n    \"click_through_rate\": \"target_5_percent\",\n    \"conversion_rate\": \"target_15_percent\"\n  },\n  \"reporting\": [\n    \"daily_rsvp_summary\",\n    \"weekly_engagement_report\",\n    \"monthly_performance_analysis\"\n  ]\n}\n```\n\n**5. Integration Points:**\n- **CRM Integration**: Sync RSVP data with customer records\n- **Calendar Integration**: Automatically create calendar events\n- **Payment Integration**: Handle event fees and donations\n- **Analytics Integration**: Track engagement and conversions\n\n**Best Practices:**\n- Start with a pilot group to test the process\n- Use A/B testing to optimize messaging\n- Implement feedback loops for continuous improvement\n- Monitor key metrics and adjust strategies\n- Maintain data quality and compliance\n\n**Success Metrics:**\n- RSVP completion rate\n- Email engagement rates\n- Event attendance rate\n- Customer satisfaction scores\n- Revenue impact (if applicable)\n\nWould you like me to help you implement any specific part of this solution?"
  },
  {
    "instruction": "View analytics and generate reports",
    "input": "Show me audience engagement",
    "output": "I'll help you analyze your email performance. Here's what I can show you:\n\n**Campaign Analytics:**\n\n**CampaignSend Status Tracking:**\n```json\n{\n  \"id\": \"send-id\",\n  \"scheduleId\": \"schedule-id\",\n  \"groupId\": \"group-id\",\n  \"templateId\": \"template-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"email\": \"email@example.com\",\n  \"inviteToken\": \"token\",\n  \"inviteLink\": \"https://example.com/l/token\",\n  \"resendMessageId\": \"resend-message-id\",\n  \"status\": \"SENT\",\n  \"error\": null,\n  \"meta\": {},\n  \"sentAt\": \"2025-01-15T10:00:00Z\",\n  \"openedAt\": \"2025-01-15T10:05:00Z\",\n  \"visitedAt\": \"2025-01-15T10:10:00Z\"\n}\n```\n\n**CampaignSend Status Values:**\n- `PENDING` - Not yet sent\n- `SENDING` - Currently being sent\n- `SENT` - Successfully sent\n- `FAILED` - Failed to send\n- `SKIPPED` - Skipped (e.g., unsubscribed)\n\n**Key Metrics:**\n- **Sent Count**: Total emails sent\n- **Open Rate**: Percentage of emails opened (openedAt not null)\n- **Click Rate**: Percentage of emails clicked (visitedAt not null)\n- **Bounce Rate**: Percentage of failed sends\n- **Unsubscribe Rate**: Percentage of unsubscribed members\n\n**Visit Tracking:**\n```json\n{\n  \"id\": \"visit-id\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"path\": \"/event-page\",\n  \"query\": \"?utm_source=email\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"email\",\n  \"utmMedium\": \"newsletter\",\n  \"utmCampaign\": \"summer-event\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"timeOnPageMs\": 30000,\n  \"scrollDepth\": 75\n}\n```\n\n**Analytics Endpoints:**\n- `GET /api/admin/campaign/dashboard` - Dashboard overview\n- `GET /api/admin/export` - Export data\n- `GET /api/l/[token]` - Track link clicks\n- `GET /api/__pixel` - Track email opens\n\n**Export Options:**\n- CSV format for RSVP data\n- JSON format for campaign data\n- Filtered by date range\n- Filtered by campaign/group\n\n**Performance Tracking:**\n- Email delivery rates\n- Open and click tracking\n- Geographic distribution\n- Device and browser analytics\n- Time-based performance\n- A/B testing results\n\nLet me generate the appropriate analytics report for your request."
  },
  {
    "instruction": "Create a new email campaign",
    "input": "Create a new campaign",
    "output": "I'll help you create a new campaign. Based on your request, here's what I need:\n\n**Required Information:**\n1. **Campaign Name**: What should we call this campaign?\n2. **Steps**: Campaign steps with templateId, groupId, and scheduling\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Campaign Name\",\n  \"description\": \"Optional description\",\n  \"status\": \"DRAFT\",\n  \"steps\": [\n    {\n      \"templateId\": \"template-id\",\n      \"groupId\": \"audience-group-id\",\n      \"sendAt\": \"2025-01-15T10:00:00Z\",\n      \"stepOrder\": 1\n    }\n  ]\n}\n```\n\n**Campaign Status Options:**\n- `DRAFT` - Not yet ready to send\n- `SCHEDULED` - Scheduled for future send\n- `SENDING` - Currently being sent\n- `PAUSED` - Temporarily paused\n- `COMPLETED` - Finished sending\n- `CANCELLED` - Cancelled\n\n**Required Fields:**\n- `name` (string) - Campaign name\n- `steps` (array) - Array of campaign steps\n\n**Step Object Required Fields:**\n- `templateId` (string) - Email template ID\n- `groupId` (string) - Audience group ID\n- `stepOrder` (number) - Order of execution\n\n**Optional Step Fields:**\n- `sendAt` (ISO date string) - When to send\n- `throttlePerMinute` (number) - Email sending rate\n- `timeZone` (string) - Timezone for scheduling\n\nWould you like me to help you set up the campaign steps?"
  },
  {
    "instruction": "Create and manage email templates",
    "input": "Create a template for follow-up emails",
    "output": "I'll help you create a new email template. Here's what I need:\n\n**Required Information:**\n1. **Template Name**: What should we call this template?\n2. **Subject**: Email subject line\n3. **HTML Body**: Rich HTML content\n4. **Text Body**: Plain text version (optional)\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/templates\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Template Name\",\n  \"subject\": \"Email Subject\",\n  \"htmlBody\": \"<h1>Hello {name}</h1><p>Content here</p>\",\n  \"textBody\": \"Hello {name}\\n\\nContent here\",\n  \"meta\": {},\n  \"greeting_title\": \"Welcome!\",\n  \"greeting_message\": \"Thank you for joining us\",\n  \"signature_name\": \"Your Name\",\n  \"signature_title\": \"Your Title\",\n  \"signature_company\": \"Your Company\",\n  \"signature_location\": \"Your Location\",\n  \"main_content_title\": \"Main Title\",\n  \"main_content_body\": \"Main content here\",\n  \"button_text\": \"Click Here\",\n  \"additional_info_title\": \"Additional Info\",\n  \"additional_info_body\": \"Additional details\",\n  \"closing_title\": \"Thank You\",\n  \"closing_message\": \"Best regards\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Template name\n- `subject` (string) - Email subject\n- `htmlBody` (string) - HTML content\n- `meta` (object) - Template metadata\n\n**Optional Fields:**\n- `textBody` (string) - Plain text version\n- `greeting_title` (string) - Greeting title\n- `greeting_message` (string) - Greeting message\n- `signature_name` (string) - Signature name\n- `signature_title` (string) - Signature title\n- `signature_company` (string) - Signature company\n- `signature_location` (string) - Signature location\n- `main_content_title` (string) - Main content title\n- `main_content_body` (string) - Main content body\n- `button_text` (string) - Button text\n- `additional_info_title` (string) - Additional info title\n- `additional_info_body` (string) - Additional info body\n- `closing_title` (string) - Closing title\n- `closing_message` (string) - Closing message\n\n**Template Variables:**\n- `{name}` - Recipient's name\n- `{email}` - Recipient's email\n- `{firstName}` - First name\n- `{lastName}` - Last name\n- `{unsubscribeUrl}` - Unsubscribe link\n\n**Response:**\n```json\n{\n  \"template\": {\n    \"id\": \"template-id\",\n    \"name\": \"Template Name\",\n    \"subject\": \"Email Subject\",\n    \"htmlBody\": \"<h1>Hello {name}</h1>\",\n    \"textBody\": \"Hello {name}\",\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you create this template with some default content?"
  },
  {
    "instruction": "View and manage RSVP data",
    "input": "Export RSVP data",
    "output": "I'll help you view RSVP data. Here's what I can show you:\n\n**RSVP Data Structure:**\n```json\n{\n  \"id\": \"rsvp-id\",\n  \"fullName\": \"John Doe\",\n  \"organization\": \"Company Name\",\n  \"email\": \"john@example.com\",\n  \"phone\": \"+1234567890\",\n  \"attendanceStatus\": \"CONFIRMED\",\n  \"attendeeCount\": 2,\n  \"dietaryPreference\": \"VEGETARIAN\",\n  \"dietaryOther\": \"No nuts\",\n  \"accessibilityNeeds\": \"Wheelchair access\",\n  \"referralSource\": \"WEBSITE\",\n  \"referralOther\": \"Google search\",\n  \"wantsResources\": true,\n  \"wantsAudit\": false,\n  \"learningGoal\": \"Learn about new technologies\",\n  \"createdAt\": \"2025-01-15T10:00:00Z\",\n  \"visitorId\": \"visitor-id\",\n  \"sessionId\": \"session-id\",\n  \"referrer\": \"https://example.com\",\n  \"eid\": \"event-id\",\n  \"utmSource\": \"google\",\n  \"utmMedium\": \"cpc\",\n  \"utmCampaign\": \"summer-event\",\n  \"utmTerm\": \"tech conference\",\n  \"utmContent\": \"banner-ad\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"language\": \"en-US\",\n  \"tz\": \"America/Vancouver\",\n  \"country\": \"Canada\",\n  \"region\": \"BC\",\n  \"city\": \"Vancouver\",\n  \"ipHash\": \"hashed-ip\",\n  \"screenW\": 1920,\n  \"screenH\": 1080,\n  \"dpr\": 2.0,\n  \"platform\": \"MacIntel\",\n  \"device\": \"desktop\",\n  \"browser\": \"Chrome\",\n  \"meta\": \"additional data\"\n}\n```\n\n**Key Fields:**\n- `attendanceStatus` (string) - CONFIRMED, CANCELLED, etc.\n- `attendeeCount` (number) - Number of attendees\n- `dietaryPreference` (string) - Dietary requirements\n- `accessibilityNeeds` (string) - Accessibility requirements\n- `referralSource` (string) - How they found the event\n- `wantsResources` (boolean) - Wants additional resources\n- `wantsAudit` (boolean) - Wants audit information\n- `learningGoal` (string) - What they want to learn\n\n**Tracking Data:**\n- `visitorId` - Unique visitor identifier\n- `sessionId` - Session identifier\n- `referrer` - Referring URL\n- `utmSource`, `utmMedium`, `utmCampaign`, `utmTerm`, `utmContent` - UTM tracking\n- `userAgent` - Browser information\n- `language` - User language\n- `tz` - Timezone\n- `country`, `region`, `city` - Geographic data\n- `ipHash` - Hashed IP address\n- `screenW`, `screenH`, `dpr` - Screen information\n- `platform`, `device`, `browser` - Device information\n\n**Database Constraints:**\n- `email` field is unique\n- `id` is primary key (cuid)\n\n**API Endpoint:**\n```\nPOST /api/rsvp\n```\n\n**Security Features:**\n- CSRF protection\n- Rate limiting\n- Input validation\n- Test detection\n- Security logging\n\nLet me show you the RSVP data based on your request."
  },
  {
    "instruction": "Create and manage email templates",
    "input": "I need a template for RSVP confirmations",
    "output": "I'll help you create a new email template. Here's what I need:\n\n**Required Information:**\n1. **Template Name**: What should we call this template?\n2. **Subject**: Email subject line\n3. **HTML Body**: Rich HTML content\n4. **Text Body**: Plain text version (optional)\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/templates\n```\n\n**Request Body:**\n```json\n{\n  \"name\": \"Template Name\",\n  \"subject\": \"Email Subject\",\n  \"htmlBody\": \"<h1>Hello {name}</h1><p>Content here</p>\",\n  \"textBody\": \"Hello {name}\\n\\nContent here\",\n  \"meta\": {},\n  \"greeting_title\": \"Welcome!\",\n  \"greeting_message\": \"Thank you for joining us\",\n  \"signature_name\": \"Your Name\",\n  \"signature_title\": \"Your Title\",\n  \"signature_company\": \"Your Company\",\n  \"signature_location\": \"Your Location\",\n  \"main_content_title\": \"Main Title\",\n  \"main_content_body\": \"Main content here\",\n  \"button_text\": \"Click Here\",\n  \"additional_info_title\": \"Additional Info\",\n  \"additional_info_body\": \"Additional details\",\n  \"closing_title\": \"Thank You\",\n  \"closing_message\": \"Best regards\"\n}\n```\n\n**Required Fields:**\n- `name` (string) - Template name\n- `subject` (string) - Email subject\n- `htmlBody` (string) - HTML content\n- `meta` (object) - Template metadata\n\n**Optional Fields:**\n- `textBody` (string) - Plain text version\n- `greeting_title` (string) - Greeting title\n- `greeting_message` (string) - Greeting message\n- `signature_name` (string) - Signature name\n- `signature_title` (string) - Signature title\n- `signature_company` (string) - Signature company\n- `signature_location` (string) - Signature location\n- `main_content_title` (string) - Main content title\n- `main_content_body` (string) - Main content body\n- `button_text` (string) - Button text\n- `additional_info_title` (string) - Additional info title\n- `additional_info_body` (string) - Additional info body\n- `closing_title` (string) - Closing title\n- `closing_message` (string) - Closing message\n\n**Template Variables:**\n- `{name}` - Recipient's name\n- `{email}` - Recipient's email\n- `{firstName}` - First name\n- `{lastName}` - Last name\n- `{unsubscribeUrl}` - Unsubscribe link\n\n**Response:**\n```json\n{\n  \"template\": {\n    \"id\": \"template-id\",\n    \"name\": \"Template Name\",\n    \"subject\": \"Email Subject\",\n    \"htmlBody\": \"<h1>Hello {name}</h1>\",\n    \"textBody\": \"Hello {name}\",\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\nWould you like me to help you create this template with some default content?"
  },
  {
    "instruction": "Explain system architecture and technical details",
    "input": "How does the AI assistant work?",
    "output": "I'll explain the technical architecture of the RSVP system:\n\n**System Architecture:**\n\n**Frontend:**\n- **Framework**: Next.js 14 with React\n- **Styling**: Tailwind CSS\n- **Animations**: Framer Motion\n- **State Management**: React hooks (useState, useEffect)\n- **Authentication**: Session-based with cookies\n\n**Backend:**\n- **Runtime**: Node.js\n- **Framework**: Next.js API routes\n- **Database**: PostgreSQL with Prisma ORM\n- **Email Service**: Resend API\n- **Vector Database**: Weaviate (for RAG)\n- **AI Integration**: Gemini 2.5 Flash\n\n**Database Models:**\n- `RSVP` - Event RSVP submissions\n- `Visit` - Website visit tracking\n- `CampaignTemplate` - Email templates\n- `Campaign` - Email campaigns\n- `AudienceGroup` - Audience segmentation\n- `AudienceMember` - Individual audience members\n- `CampaignSchedule` - Campaign scheduling\n- `CampaignSend` - Individual email sends\n\n**API Structure:**\n- `/api/rsvp` - RSVP form submission\n- `/api/admin/campaign/campaigns` - Campaign management\n- `/api/admin/campaign/schedules` - Schedule management\n- `/api/admin/campaign/templates` - Template management\n- `/api/admin/campaign/groups` - Audience group management\n- `/api/admin/campaign/send` - Email sending\n- `/api/admin/export` - Data export\n- `/api/unsubscribe` - Unsubscribe handling\n- `/api/l/[token]` - Link tracking\n- `/api/__pixel` - Email open tracking\n\n**Security Features:**\n- CSRF protection with origin/referer validation\n- Rate limiting with IP fingerprinting\n- Input validation with Zod schemas\n- Test detection to prevent spam\n- Security logging for monitoring\n- Secure headers with CSP\n\n**Environment Variables:**\n- `DATABASE_URL` - PostgreSQL connection\n- `RESEND_API_KEY` - Email service\n- `GEMINI_API_KEY` - AI service\n- `WEAVIATE_URL` - Vector database\n- `WEAVIATE_API_KEY` - Vector database auth\n- `CRON_SECRET` - Cron job authentication\n\n**File Structure:**\n```\nrsvp-app/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 app/           # Next.js app router\n\u2502   \u2502   \u251c\u2500\u2500 api/       # API routes\n\u2502   \u2502   \u251c\u2500\u2500 admin/     # Admin panel\n\u2502   \u2502   \u2514\u2500\u2500 (public)/  # Public pages\n\u2502   \u251c\u2500\u2500 components/    # React components\n\u2502   \u251c\u2500\u2500 lib/          # Utilities and services\n\u2502   \u2514\u2500\u2500 prisma/       # Database schema\n\u251c\u2500\u2500 public/           # Static assets\n\u2514\u2500\u2500 docs/            # Documentation\n```\n\n**Deployment:**\n- **Platform**: Vercel (frontend)\n- **Database**: Neon (PostgreSQL)\n- **AI Service**: Railway (planned)\n- **Vector DB**: Weaviate Cloud\n\n**Email Delivery:**\n- Resend API for email sending\n- Throttling support (emails per minute)\n- Smart sending windows\n- Timezone support\n- Recurring campaigns\n- Link and open tracking\n\n**AI Assistant (Juniper):**\n- Conversational interface\n- Real-time execution display\n- Tool integration for database operations\n- Context awareness\n- Error handling and recovery\n- Pattern-matching system (to be replaced with fine-tuned SLM)\n\nThis architecture provides a scalable, secure, and maintainable system for RSVP management and email campaigns."
  },
  {
    "instruction": "Explain system architecture and technical details",
    "input": "What are the environment variables?",
    "output": "I'll explain the technical architecture of the RSVP system:\n\n**System Architecture:**\n\n**Frontend:**\n- **Framework**: Next.js 14 with React\n- **Styling**: Tailwind CSS\n- **Animations**: Framer Motion\n- **State Management**: React hooks (useState, useEffect)\n- **Authentication**: Session-based with cookies\n\n**Backend:**\n- **Runtime**: Node.js\n- **Framework**: Next.js API routes\n- **Database**: PostgreSQL with Prisma ORM\n- **Email Service**: Resend API\n- **Vector Database**: Weaviate (for RAG)\n- **AI Integration**: Gemini 2.5 Flash\n\n**Database Models:**\n- `RSVP` - Event RSVP submissions\n- `Visit` - Website visit tracking\n- `CampaignTemplate` - Email templates\n- `Campaign` - Email campaigns\n- `AudienceGroup` - Audience segmentation\n- `AudienceMember` - Individual audience members\n- `CampaignSchedule` - Campaign scheduling\n- `CampaignSend` - Individual email sends\n\n**API Structure:**\n- `/api/rsvp` - RSVP form submission\n- `/api/admin/campaign/campaigns` - Campaign management\n- `/api/admin/campaign/schedules` - Schedule management\n- `/api/admin/campaign/templates` - Template management\n- `/api/admin/campaign/groups` - Audience group management\n- `/api/admin/campaign/send` - Email sending\n- `/api/admin/export` - Data export\n- `/api/unsubscribe` - Unsubscribe handling\n- `/api/l/[token]` - Link tracking\n- `/api/__pixel` - Email open tracking\n\n**Security Features:**\n- CSRF protection with origin/referer validation\n- Rate limiting with IP fingerprinting\n- Input validation with Zod schemas\n- Test detection to prevent spam\n- Security logging for monitoring\n- Secure headers with CSP\n\n**Environment Variables:**\n- `DATABASE_URL` - PostgreSQL connection\n- `RESEND_API_KEY` - Email service\n- `GEMINI_API_KEY` - AI service\n- `WEAVIATE_URL` - Vector database\n- `WEAVIATE_API_KEY` - Vector database auth\n- `CRON_SECRET` - Cron job authentication\n\n**File Structure:**\n```\nrsvp-app/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 app/           # Next.js app router\n\u2502   \u2502   \u251c\u2500\u2500 api/       # API routes\n\u2502   \u2502   \u251c\u2500\u2500 admin/     # Admin panel\n\u2502   \u2502   \u2514\u2500\u2500 (public)/  # Public pages\n\u2502   \u251c\u2500\u2500 components/    # React components\n\u2502   \u251c\u2500\u2500 lib/          # Utilities and services\n\u2502   \u2514\u2500\u2500 prisma/       # Database schema\n\u251c\u2500\u2500 public/           # Static assets\n\u2514\u2500\u2500 docs/            # Documentation\n```\n\n**Deployment:**\n- **Platform**: Vercel (frontend)\n- **Database**: Neon (PostgreSQL)\n- **AI Service**: Railway (planned)\n- **Vector DB**: Weaviate Cloud\n\n**Email Delivery:**\n- Resend API for email sending\n- Throttling support (emails per minute)\n- Smart sending windows\n- Timezone support\n- Recurring campaigns\n- Link and open tracking\n\n**AI Assistant (Juniper):**\n- Conversational interface\n- Real-time execution display\n- Tool integration for database operations\n- Context awareness\n- Error handling and recovery\n- Pattern-matching system (to be replaced with fine-tuned SLM)\n\nThis architecture provides a scalable, secure, and maintainable system for RSVP management and email campaigns."
  },
  {
    "instruction": "Manage email campaigns",
    "input": "List my campaigns",
    "output": "I'll help you manage your campaigns. Here are the available actions:\n\n**List Campaigns:**\n```\nGET /api/admin/campaign/campaigns\n```\n\n**Response:**\n```json\n{\n  \"campaigns\": [\n    {\n      \"id\": \"campaign-id\",\n      \"name\": \"Campaign Name\",\n      \"description\": \"Description\",\n      \"status\": \"DRAFT\",\n      \"meta\": {},\n      \"createdAt\": \"2025-01-15T10:00:00Z\",\n      \"updatedAt\": \"2025-01-15T10:00:00Z\",\n      \"schedules\": []\n    }\n  ]\n}\n```\n\n**Get Campaign Details:**\n```\nGET /api/admin/campaign/campaigns/[id]\n```\n\n**Update Campaign:**\n```\nPUT /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"id\": \"campaign-id\",\n  \"name\": \"Updated Name\",\n  \"description\": \"Updated description\",\n  \"status\": \"SCHEDULED\",\n  \"steps\": []\n}\n```\n\n**Delete Campaign:**\n```\nDELETE /api/admin/campaign/campaigns/[id]\n```\n\n**Campaign Status Values:**\n- `DRAFT` - Not yet ready\n- `SCHEDULED` - Scheduled to send\n- `SENDING` - Currently sending\n- `PAUSED` - Paused\n- `COMPLETED` - Finished\n- `CANCELLED` - Cancelled\n\nLet me execute the appropriate action for your request."
  },
  {
    "instruction": "Create audience segmentation strategy",
    "input": "Create a event-based segmentation group",
    "output": "I'll help you create a Event-Based Segmentation audience group. Here's a comprehensive setup:\n\n**Segmentation Strategy:** Event-Based Segmentation\n**Description:** Segment by event attendance and participation\n\n**Segmentation Criteria:**\n```json\n{\n  \"name\": \"Event-Based Segmentation Group\",\n  \"description\": \"Segment by event attendance and participation\",\n  \"color\": \"#10b981\",\n  \"criteria\": {\n  \"eventAttendance\": \"frequent\",\n  \"lastEvent\": \"recent\",\n  \"eventType\": \"webinar\",\n  \"rsvpStatus\": \"confirmed\"\n},\n  \"meta\": {\n    \"createdBy\": \"AI Assistant\",\n    \"purpose\": \"Segment by event attendance and participation\",\n    \"lastUpdated\": \"2025-01-15T10:00:00Z\",\n    \"memberCount\": 0,\n    \"autoUpdate\": true\n  }\n}\n```\n\n**API Endpoint:**\n```\nPOST /api/admin/campaign/groups\n```\n\n**Implementation Steps:**\n1. **Define Criteria**: Set up the segmentation rules\n2. **Create Group**: Use the API to create the audience group\n3. **Populate Members**: Add existing members or import new ones\n4. **Test Segmentation**: Verify the criteria work correctly\n5. **Monitor Performance**: Track engagement and adjust as needed\n\n**Member Addition:**\n```json\n{\n  \"groupId\": \"group-id\",\n  \"businessId\": \"business-id\",\n  \"businessName\": \"Business Name\",\n  \"primaryEmail\": \"email@example.com\",\n  \"secondaryEmail\": \"secondary@example.com\",\n  \"tagsSnapshot\": [\"tag1\", \"tag2\"],\n  \"meta\": {\n    \"source\": \"import\",\n    \"addedBy\": \"AI Assistant\",\n    \"addedAt\": \"2025-01-15T10:00:00Z\"\n  }\n}\n```\n\n**Best Practices:**\n- Use clear, measurable criteria\n- Test with small groups first\n- Monitor engagement rates\n- Update criteria regularly\n- Document segmentation logic\n- Use consistent naming conventions\n\n**Performance Metrics:**\n- Open rates by segment\n- Click-through rates\n- Unsubscribe rates\n- Conversion rates\n- Engagement scores\n\n**Automation Opportunities:**\n- Auto-add new members based on criteria\n- Remove inactive members\n- Update tags based on behavior\n- Trigger campaigns based on segment changes\n\nWould you like me to help you implement this segmentation strategy?"
  },
  {
    "instruction": "Implement advanced features",
    "input": "Set up dynamic content",
    "output": "I'll help you implement Dynamic Content. Here's a comprehensive guide:\n\n**Feature:** Dynamic Content\n**Description:** Personalize email content based on recipient data\n**Implementation:** Use template variables and conditional content blocks\n\n**Setup Requirements:**\n"
  },
  {
    "instruction": "Explain system architecture and technical details",
    "input": "What's the deployment setup?",
    "output": "I'll explain the technical architecture of the RSVP system:\n\n**System Architecture:**\n\n**Frontend:**\n- **Framework**: Next.js 14 with React\n- **Styling**: Tailwind CSS\n- **Animations**: Framer Motion\n- **State Management**: React hooks (useState, useEffect)\n- **Authentication**: Session-based with cookies\n\n**Backend:**\n- **Runtime**: Node.js\n- **Framework**: Next.js API routes\n- **Database**: PostgreSQL with Prisma ORM\n- **Email Service**: Resend API\n- **Vector Database**: Weaviate (for RAG)\n- **AI Integration**: Gemini 2.5 Flash\n\n**Database Models:**\n- `RSVP` - Event RSVP submissions\n- `Visit` - Website visit tracking\n- `CampaignTemplate` - Email templates\n- `Campaign` - Email campaigns\n- `AudienceGroup` - Audience segmentation\n- `AudienceMember` - Individual audience members\n- `CampaignSchedule` - Campaign scheduling\n- `CampaignSend` - Individual email sends\n\n**API Structure:**\n- `/api/rsvp` - RSVP form submission\n- `/api/admin/campaign/campaigns` - Campaign management\n- `/api/admin/campaign/schedules` - Schedule management\n- `/api/admin/campaign/templates` - Template management\n- `/api/admin/campaign/groups` - Audience group management\n- `/api/admin/campaign/send` - Email sending\n- `/api/admin/export` - Data export\n- `/api/unsubscribe` - Unsubscribe handling\n- `/api/l/[token]` - Link tracking\n- `/api/__pixel` - Email open tracking\n\n**Security Features:**\n- CSRF protection with origin/referer validation\n- Rate limiting with IP fingerprinting\n- Input validation with Zod schemas\n- Test detection to prevent spam\n- Security logging for monitoring\n- Secure headers with CSP\n\n**Environment Variables:**\n- `DATABASE_URL` - PostgreSQL connection\n- `RESEND_API_KEY` - Email service\n- `GEMINI_API_KEY` - AI service\n- `WEAVIATE_URL` - Vector database\n- `WEAVIATE_API_KEY` - Vector database auth\n- `CRON_SECRET` - Cron job authentication\n\n**File Structure:**\n```\nrsvp-app/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 app/           # Next.js app router\n\u2502   \u2502   \u251c\u2500\u2500 api/       # API routes\n\u2502   \u2502   \u251c\u2500\u2500 admin/     # Admin panel\n\u2502   \u2502   \u2514\u2500\u2500 (public)/  # Public pages\n\u2502   \u251c\u2500\u2500 components/    # React components\n\u2502   \u251c\u2500\u2500 lib/          # Utilities and services\n\u2502   \u2514\u2500\u2500 prisma/       # Database schema\n\u251c\u2500\u2500 public/           # Static assets\n\u2514\u2500\u2500 docs/            # Documentation\n```\n\n**Deployment:**\n- **Platform**: Vercel (frontend)\n- **Database**: Neon (PostgreSQL)\n- **AI Service**: Railway (planned)\n- **Vector DB**: Weaviate Cloud\n\n**Email Delivery:**\n- Resend API for email sending\n- Throttling support (emails per minute)\n- Smart sending windows\n- Timezone support\n- Recurring campaigns\n- Link and open tracking\n\n**AI Assistant (Juniper):**\n- Conversational interface\n- Real-time execution display\n- Tool integration for database operations\n- Context awareness\n- Error handling and recovery\n- Pattern-matching system (to be replaced with fine-tuned SLM)\n\nThis architecture provides a scalable, secure, and maintainable system for RSVP management and email campaigns."
  }
]