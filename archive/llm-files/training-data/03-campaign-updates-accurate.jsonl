{"instruction": "Update campaign name", "input": "Change the name of campaign-123 to 'Updated Tech Conference Campaign'", "output": "I'll help you update the campaign name. Here's the accurate API call:\n\n**API Endpoint:**\n```\nPUT /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"id\": \"campaign-123\",\n  \"name\": \"Updated Tech Conference Campaign\"\n}\n```\n\n**Response:**\n```json\n{\n  \"campaign\": {\n    \"id\": \"campaign-123\",\n    \"name\": \"Updated Tech Conference Campaign\",\n    \"description\": \"Email campaign for tech conference attendees\",\n    \"status\": \"DRAFT\",\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T11:30:00Z\",\n    \"schedules\": []\n  }\n}\n```\n\n**Update Fields:**\n- `id` (required) - Campaign ID to update\n- `name` (optional) - New campaign name\n- `description` (optional) - New description\n- `status` (optional) - New status\n- `steps` (optional) - Updated campaign steps\n\n**Error Handling:**\n- If `id` is missing: \"Campaign id is required\"\n- If campaign not found: 404 error\n- If invalid data: 400 with validation error\n\n**Note:** Only provided fields are updated. Other fields remain unchanged.\n\nLet me update the campaign name for you."}

{"instruction": "Update campaign status", "input": "Change campaign-123 status to SCHEDULED", "output": "I'll help you update the campaign status to SCHEDULED. Here's the accurate API call:\n\n**API Endpoint:**\n```\nPUT /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"id\": \"campaign-123\",\n  \"status\": \"SCHEDULED\"\n}\n```\n\n**Response:**\n```json\n{\n  \"campaign\": {\n    \"id\": \"campaign-123\",\n    \"name\": \"Tech Conference Campaign\",\n    \"description\": \"Email campaign for tech conference attendees\",\n    \"status\": \"SCHEDULED\",\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T11:30:00Z\",\n    \"schedules\": []\n  }\n}\n```\n\n**Status Options:**\n- `DRAFT` - Not yet ready to send\n- `SCHEDULED` - Scheduled for future send\n- `SENDING` - Currently being sent\n- `PAUSED` - Temporarily paused\n- `COMPLETED` - Finished sending\n- `CANCELLED` - Cancelled\n\n**Status Change Implications:**\n- **DRAFT → SCHEDULED**: Campaign is ready to send at scheduled time\n- **SCHEDULED → SENDING**: Campaign is actively being sent\n- **SENDING → PAUSED**: Campaign is temporarily stopped\n- **PAUSED → SENDING**: Campaign resumes sending\n\n**Prerequisites for SCHEDULED:**\n- Campaign must have valid steps\n- Steps must have templateId and groupId\n- Send times must be in the future\n\nLet me update the campaign status to SCHEDULED for you."}

{"instruction": "Update campaign steps", "input": "Add a new step to campaign-123 with template-456 and group-789", "output": "I'll help you add a new step to campaign-123. Here's the accurate API call:\n\n**API Endpoint:**\n```\nPUT /api/admin/campaign/campaigns\n```\n\n**Request Body (adding new step):**\n```json\n{\n  \"id\": \"campaign-123\",\n  \"steps\": [\n    {\n      \"templateId\": \"template-456\",\n      \"groupId\": \"group-789\",\n      \"sendAt\": \"2025-02-01T10:00:00Z\",\n      \"stepOrder\": 1,\n      \"throttlePerMinute\": 60,\n      \"timeZone\": \"America/Vancouver\"\n    }\n  ]\n}\n```\n\n**Step Configuration:**\n- `templateId` (required) - Email template to use\n- `groupId` (required) - Audience group to send to\n- `sendAt` (optional) - When to send (ISO date string)\n- `stepOrder` (optional) - Order of execution\n- `throttlePerMinute` (optional) - Email sending rate\n- `timeZone` (optional) - Timezone for scheduling\n\n**Response:**\n```json\n{\n  \"campaign\": {\n    \"id\": \"campaign-123\",\n    \"name\": \"Tech Conference Campaign\",\n    \"description\": \"Email campaign for tech conference attendees\",\n    \"status\": \"DRAFT\",\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T11:30:00Z\",\n    \"schedules\": [\n      {\n        \"id\": \"schedule-456\",\n        \"name\": \"Tech Conference Step 1\",\n        \"templateId\": \"template-456\",\n        \"groupId\": \"group-789\",\n        \"status\": \"DRAFT\",\n        \"sendAt\": \"2025-02-01T10:00:00Z\",\n        \"timeZone\": \"America/Vancouver\",\n        \"throttlePerMinute\": 60,\n        \"stepOrder\": 1\n      }\n    ]\n  }\n}\n```\n\n**Step Validation:**\n- `templateId` must exist in the system\n- `groupId` must exist in the system\n- `sendAt` must be a valid ISO date string\n- `stepOrder` must be a positive number\n\n**Error Handling:**\n- If templateId missing: \"Each step requires templateId and groupId\"\n- If groupId missing: \"Each step requires templateId and groupId\"\n- If invalid sendAt: Date parsing error\n- If invalid steps: \"Invalid steps payload\"\n\nLet me add the new step to campaign-123 for you."}

{"instruction": "Update campaign description", "input": "Update campaign-123 description to 'Updated description for tech conference'", "output": "I'll help you update the campaign description. Here's the accurate API call:\n\n**API Endpoint:**\n```\nPUT /api/admin/campaign/campaigns\n```\n\n**Request Body:**\n```json\n{\n  \"id\": \"campaign-123\",\n  \"description\": \"Updated description for tech conference\"\n}\n```\n\n**Response:**\n```json\n{\n  \"campaign\": {\n    \"id\": \"campaign-123\",\n    \"name\": \"Tech Conference Campaign\",\n    \"description\": \"Updated description for tech conference\",\n    \"status\": \"DRAFT\",\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T11:30:00Z\",\n    \"schedules\": []\n  }\n}\n```\n\n**Description Field:**\n- `description` (optional) - Campaign description\n- Can be null to remove description\n- Can be empty string\n- Maximum length depends on database constraints\n\n**Update Behavior:**\n- Only the description field is updated\n- Other fields remain unchanged\n- `updatedAt` timestamp is automatically updated\n- Campaign ID and name remain the same\n\n**Error Handling:**\n- If `id` is missing: \"Campaign id is required\"\n- If campaign not found: 404 error\n- If invalid JSON: \"Invalid JSON body\"\n\n**Description Best Practices:**\n- Keep descriptions concise but informative\n- Include key details about the campaign purpose\n- Use consistent formatting across campaigns\n- Include relevant tags or keywords\n\nLet me update the campaign description for you."}

{"instruction": "Update multiple campaign fields", "input": "Update campaign-123 name, description, and status all at once", "output": "I'll help you update multiple fields for campaign-123 in a single API call. Here's the accurate setup:\n\n**API Endpoint:**\n```\nPUT /api/admin/campaign/campaigns\n```\n\n**Request Body (multiple fields):**\n```json\n{\n  \"id\": \"campaign-123\",\n  \"name\": \"Updated Tech Conference Campaign\",\n  \"description\": \"Updated description for tech conference\",\n  \"status\": \"SCHEDULED\"\n}\n```\n\n**Response:**\n```json\n{\n  \"campaign\": {\n    \"id\": \"campaign-123\",\n    \"name\": \"Updated Tech Conference Campaign\",\n    \"description\": \"Updated description for tech conference\",\n    \"status\": \"SCHEDULED\",\n    \"meta\": {},\n    \"createdAt\": \"2025-01-15T10:00:00Z\",\n    \"updatedAt\": \"2025-01-15T11:30:00Z\",\n    \"schedules\": []\n  }\n}\n```\n\n**Updateable Fields:**\n- `name` (string) - Campaign name\n- `description` (string or null) - Campaign description\n- `status` (CampaignStatus) - Campaign status\n- `steps` (array) - Campaign steps\n\n**Update Behavior:**\n- All provided fields are updated in a single transaction\n- Fields not provided remain unchanged\n- `updatedAt` timestamp is automatically updated\n- Campaign ID cannot be changed\n\n**Status Validation:**\n- Must be one of: DRAFT, SCHEDULED, SENDING, PAUSED, COMPLETED, CANCELLED\n- Status changes are validated for business logic\n- Some status changes may require additional validation\n\n**Error Handling:**\n- If `id` is missing: \"Campaign id is required\"\n- If invalid status: Validation error\n- If invalid steps: \"Invalid steps payload\"\n- If campaign not found: 404 error\n\n**Atomic Updates:**\n- All fields are updated together\n- If any field fails validation, entire update fails\n- No partial updates are applied\n\nLet me update all the fields for campaign-123 in a single operation."}


